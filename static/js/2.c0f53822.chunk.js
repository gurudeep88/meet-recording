/*! For license information please see 2.c0f53822.chunk.js.LICENSE.txt */
(this["webpackJsonpdemo-kit"]=this["webpackJsonpdemo-kit"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(313)},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"XMPPEvents",(function(){return r})),function(e){e.ADD_ICE_CANDIDATE_FAILED="xmpp.add_ice_candidate_failed",e.AUDIO_MUTED_BY_FOCUS="xmpp.audio_muted_by_focus",e.VIDEO_MUTED_BY_FOCUS="xmpp.video_muted_by_focus",e.AUTHENTICATION_REQUIRED="xmpp.authentication_required",e.BRIDGE_DOWN="xmpp.bridge_down",e.CALL_ACCEPTED="xmpp.callaccepted.jingle",e.CALL_INCOMING="xmpp.callincoming.jingle",e.CALL_ENDED="xmpp.callended.jingle",e.CHAT_ERROR_RECEIVED="xmpp.chat_error_received",e.SETTINGS_ERROR_RECEIVED="xmpp.settings_error_received",e.CONFERENCE_PROPERTIES_CHANGED="xmpp.conference_properties_changed",e.CONNECTION_ESTABLISHED="xmpp.connection.connected",e.CONNECTION_FAILED="xmpp.connection.failed",e.CONNECTION_INTERRUPTED="xmpp.connection.interrupted",e.CONNECTION_RESTORED="xmpp.connection.restored",e.CONNECTION_ICE_FAILED="xmpp.connection.ice.failed",e.CONNECTION_RESTARTED="xmpp.connection.restart",e.CONNECTION_STATUS_CHANGED="xmpp.connection.status.changed",e.DISPLAY_NAME_CHANGED="xmpp.display_name_changed",e.EMUC_ROOM_ADDED="xmpp.emuc_room_added",e.EMUC_ROOM_REMOVED="xmpp.emuc_room_removed",e.ETHERPAD="xmpp.etherpad",e.FOCUS_DISCONNECTED="xmpp.focus_disconnected",e.FOCUS_LEFT="xmpp.focus_left",e.GRACEFUL_SHUTDOWN="xmpp.graceful_shutdown",e.ICE_RESTARTING="rtc.ice_restarting",e.ICE_RESTART_SUCCESS="rtc.ice_restart_success",e.KICKED="xmpp.kicked",e.LOCAL_ROLE_CHANGED="xmpp.localrole_changed",e.MEETING_ID_SET="xmpp.meeting_id_set",e.MESSAGE_RECEIVED="xmpp.message_received",e.INVITE_MESSAGE_RECEIVED="xmpp.invite_message_received",e.PRIVATE_MESSAGE_RECEIVED="xmpp.private_message_received",e.MUC_MEMBER_BOT_TYPE_CHANGED="xmpp.muc_member_bot_type_changed",e.MUC_DESTROYED="xmpp.muc_destroyed",e.MUC_JOIN_IN_PROGRESS="xmpp.muc_join_in_progress",e.MUC_JOINED="xmpp.muc_joined",e.MUC_MEMBER_JOINED="xmpp.muc_member_joined",e.MUC_MEMBER_LEFT="xmpp.muc_member_left",e.MUC_LOBBY_MEMBER_JOINED="xmpp.muc_lobby_member_joined",e.MUC_LOBBY_MEMBER_UPDATED="xmpp.muc_lobby_member_updated",e.MUC_LOBBY_MEMBER_LEFT="xmpp.muc_lobby_member_left",e.MUC_DENIED_ACCESS="xmpp.muc_denied access",e.MUC_LEFT="xmpp.muc_left",e.MUC_ROLE_CHANGED="xmpp.muc_role_changed",e.MUC_LOCK_CHANGED="xmpp.muc_lock_changed",e.MUC_MEMBERS_ONLY_CHANGED="xmpp.muc_members_only_changed",e.PARTICIPANT_AUDIO_MUTED="xmpp.audio_muted",e.PARTICIPANT_VIDEO_MUTED="xmpp.video_muted",e.PARTICIPANT_VIDEO_TYPE_CHANGED="xmpp.video_type",e.PARTICIPANT_FEATURES_CHANGED="xmpp.participant_features_changed",e.PASSWORD_REQUIRED="xmpp.password_required",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PRESENCE_RECEIVED="xmpp.presence_received",e.PRESENCE_STATUS="xmpp.presence_status",e.PROMPT_FOR_LOGIN="xmpp.prompt_for_login",e.READY_TO_JOIN="xmpp.ready_to_join",e.RECORDER_STATE_CHANGED="xmpp.recorderStateChanged",e.REMOTE_STATS="xmpp.remote_stats",e.RENEGOTIATION_FAILED="xmpp.renegotiation_failed",e.RESERVATION_ERROR="xmpp.room_reservation_error",e.ROOM_CONNECT_ERROR="xmpp.room_connect_error",e.ROOM_CONNECT_NOT_ALLOWED_ERROR="xmpp.room_connect_error.not_allowed",e.ROOM_JOIN_ERROR="xmpp.room_join_error",e.ROOM_CONNECT_MEMBERS_ONLY_ERROR="xmpp.room_connect_error.members_only",e.ROOM_MAX_USERS_ERROR="xmpp.room_max_users_error",e.SENDING_CHAT_MESSAGE="xmpp.sending_chat_message",e.SENDING_PRIVATE_CHAT_MESSAGE="xmpp.sending_private_chat_message",e.SESSION_ACCEPT="xmpp.session_accept",e.SESSION_ACCEPT_ERROR="xmpp.session_accept_error",e.SESSION_ACCEPT_TIMEOUT="xmpp.session_accept_timeout",e.SOURCE_ADD="xmpp.source_add",e.SOURCE_ADD_ERROR="xmpp.source_add_error",e.SOURCE_REMOVE="xmpp.source_remove",e.SOURCE_REMOVE_ERROR="xmpp.source_remove_error",e.SPEAKER_STATS_RECEIVED="xmpp.speaker_stats_received",e.CONFERENCE_TIMESTAMP_RECEIVED="xmpp.conference_timestamp_received",e.AV_MODERATION_APPROVED="xmpp.av_moderation.approved",e.AV_MODERATION_REJECTED="xmpp.av_moderation.rejected",e.AV_MODERATION_RECEIVED="xmpp.av_moderation.received",e.AV_MODERATION_CHANGED="xmpp.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="xmpp.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="xmpp.av_moderation.participant.rejected",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="xmpp.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_EVENT="xmpp.breakout-rooms.event",e.BREAKOUT_ROOMS_UPDATED="xmpp.breakout-rooms.updated",e.START_MUTED_FROM_FOCUS="xmpp.start_muted_from_focus",e.SUBJECT_CHANGED="xmpp.subject_changed",e.SUSPEND_DETECTED="xmpp.suspend_detected",e.TRANSCRIPTION_STATUS_CHANGED="xmpp.transcription_status_changed",e.TRANSPORT_INFO="xmpp.transportinfo.jingle",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="xmpp.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="xmpp.videoSIPGWSessionStateChanged",e.ICE_CONNECTION_STATE_CHANGED="xmpp.ice_connection_state_changed",e.JSON_MESSAGE_RECEIVED="xmmp.json_message_received"}(r||(r={}))},function(e,t,n){"use strict";e.exports=n(349)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConferenceEvents",(function(){return r})),n.d(t,"AUDIO_INPUT_STATE_CHANGE",(function(){return i})),n.d(t,"AUDIO_UNMUTE_PERMISSIONS_CHANGED",(function(){return o})),n.d(t,"AUTH_STATUS_CHANGED",(function(){return a})),n.d(t,"BEFORE_STATISTICS_DISPOSED",(function(){return s})),n.d(t,"CONFERENCE_ERROR",(function(){return c})),n.d(t,"CONFERENCE_FAILED",(function(){return u})),n.d(t,"CONFERENCE_JOIN_IN_PROGRESS",(function(){return l})),n.d(t,"CONFERENCE_JOINED",(function(){return d})),n.d(t,"CONFERENCE_LEFT",(function(){return f})),n.d(t,"CONFERENCE_UNIQUE_ID_SET",(function(){return p})),n.d(t,"CONNECTION_ESTABLISHED",(function(){return h})),n.d(t,"CONNECTION_INTERRUPTED",(function(){return m})),n.d(t,"CONNECTION_RESTORED",(function(){return v})),n.d(t,"DATA_CHANNEL_OPENED",(function(){return g})),n.d(t,"DISPLAY_NAME_CHANGED",(function(){return y})),n.d(t,"DOMINANT_SPEAKER_CHANGED",(function(){return _})),n.d(t,"CONFERENCE_CREATED_TIMESTAMP",(function(){return b})),n.d(t,"DTMF_SUPPORT_CHANGED",(function(){return E})),n.d(t,"ENDPOINT_MESSAGE_RECEIVED",(function(){return S})),n.d(t,"ENDPOINT_STATS_RECEIVED",(function(){return C})),n.d(t,"JVB121_STATUS",(function(){return T})),n.d(t,"KICKED",(function(){return O})),n.d(t,"PARTICIPANT_KICKED",(function(){return R})),n.d(t,"LAST_N_ENDPOINTS_CHANGED",(function(){return A})),n.d(t,"FORWARDED_SOURCES_CHANGED",(function(){return w})),n.d(t,"LOCK_STATE_CHANGED",(function(){return k})),n.d(t,"SERVER_REGION_CHANGED",(function(){return P})),n.d(t,"_MEDIA_SESSION_STARTED",(function(){return N})),n.d(t,"_MEDIA_SESSION_ACTIVE_CHANGED",(function(){return I})),n.d(t,"MEMBERS_ONLY_CHANGED",(function(){return D})),n.d(t,"MESSAGE_RECEIVED",(function(){return M})),n.d(t,"NO_AUDIO_INPUT",(function(){return x})),n.d(t,"NOISY_MIC",(function(){return L})),n.d(t,"NON_PARTICIPANT_MESSAGE_RECEIVED",(function(){return j})),n.d(t,"PRIVATE_MESSAGE_RECEIVED",(function(){return F})),n.d(t,"PARTICIPANT_CONN_STATUS_CHANGED",(function(){return U})),n.d(t,"PARTCIPANT_FEATURES_CHANGED",(function(){return V})),n.d(t,"PARTICIPANT_PROPERTY_CHANGED",(function(){return H})),n.d(t,"P2P_STATUS",(function(){return B})),n.d(t,"PHONE_NUMBER_CHANGED",(function(){return G})),n.d(t,"PROPERTIES_CHANGED",(function(){return J})),n.d(t,"RECORDER_STATE_CHANGED",(function(){return W})),n.d(t,"VIDEO_SIP_GW_AVAILABILITY_CHANGED",(function(){return z})),n.d(t,"VIDEO_SIP_GW_SESSION_STATE_CHANGED",(function(){return K})),n.d(t,"START_MUTED_POLICY_CHANGED",(function(){return q})),n.d(t,"STARTED_MUTED",(function(){return $})),n.d(t,"SUBJECT_CHANGED",(function(){return X})),n.d(t,"SUSPEND_DETECTED",(function(){return Y})),n.d(t,"TALK_WHILE_MUTED",(function(){return Q})),n.d(t,"TRACK_ADDED",(function(){return Z})),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",(function(){return ee})),n.d(t,"TRACK_MUTE_CHANGED",(function(){return te})),n.d(t,"TRACK_REMOVED",(function(){return ne})),n.d(t,"TRACK_UNMUTE_REJECTED",(function(){return re})),n.d(t,"TRANSCRIPTION_STATUS_CHANGED",(function(){return ie})),n.d(t,"USER_JOINED",(function(){return oe})),n.d(t,"USER_LEFT",(function(){return ae})),n.d(t,"USER_ROLE_CHANGED",(function(){return se})),n.d(t,"USER_STATUS_CHANGED",(function(){return ce})),n.d(t,"VIDEO_UNMUTE_PERMISSIONS_CHANGED",(function(){return ue})),n.d(t,"BOT_TYPE_CHANGED",(function(){return le})),n.d(t,"LOBBY_USER_JOINED",(function(){return de})),n.d(t,"LOBBY_USER_UPDATED",(function(){return fe})),n.d(t,"LOBBY_USER_LEFT",(function(){return pe})),n.d(t,"AV_MODERATION_APPROVED",(function(){return he})),n.d(t,"AV_MODERATION_REJECTED",(function(){return me})),n.d(t,"AV_MODERATION_CHANGED",(function(){return ve})),n.d(t,"AV_MODERATION_PARTICIPANT_APPROVED",(function(){return ge})),n.d(t,"AV_MODERATION_PARTICIPANT_REJECTED",(function(){return ye})),n.d(t,"FACE_LANDMARK_ADDED",(function(){return _e})),n.d(t,"BREAKOUT_ROOMS_MOVE_TO_ROOM",(function(){return be})),n.d(t,"BREAKOUT_ROOMS_UPDATED",(function(){return Ee})),n.d(t,"SUBTITLES_RECEIVED",(function(){return Se})),n.d(t,"ANALYTICS_EVENT_RECEIVED",(function(){return Ce})),n.d(t,"TRACK_UPDATED",(function(){return Te})),function(e){e.AUDIO_INPUT_STATE_CHANGE="conference.audio_input_state_changed",e.AUDIO_UNMUTE_PERMISSIONS_CHANGED="conference.audio_unmute_permissions_changed",e.AUTH_STATUS_CHANGED="conference.auth_status_changed",e.BEFORE_STATISTICS_DISPOSED="conference.beforeStatisticsDisposed",e.CONFERENCE_ERROR="conference.error",e.CONFERENCE_FAILED="conference.failed",e.CONFERENCE_JOIN_IN_PROGRESS="conference.join_in_progress",e.CONFERENCE_JOINED="conference.joined",e.CONFERENCE_LEFT="conference.left",e.CONFERENCE_UNIQUE_ID_SET="conference.unique_id_set",e.CONNECTION_ESTABLISHED="conference.connectionEstablished",e.CONNECTION_INTERRUPTED="conference.connectionInterrupted",e.CONNECTION_RESTORED="conference.connectionRestored",e.DATA_CHANNEL_OPENED="conference.dataChannelOpened",e.DISPLAY_NAME_CHANGED="conference.displayNameChanged",e.DOMINANT_SPEAKER_CHANGED="conference.dominantSpeaker",e.CONFERENCE_CREATED_TIMESTAMP="conference.createdTimestamp",e.DTMF_SUPPORT_CHANGED="conference.dtmfSupportChanged",e.ENDPOINT_MESSAGE_RECEIVED="conference.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="conference.endpoint_stats_received",e.JVB121_STATUS="conference.jvb121Status",e.KICKED="conference.kicked",e.PARTICIPANT_KICKED="conference.participant_kicked",e.LAST_N_ENDPOINTS_CHANGED="conference.lastNEndpointsChanged",e.FORWARDED_SOURCES_CHANGED="conference.forwardedSourcesChanged",e.LOCK_STATE_CHANGED="conference.lock_state_changed",e.SERVER_REGION_CHANGED="conference.server_region_changed",e._MEDIA_SESSION_STARTED="conference.media_session.started",e._MEDIA_SESSION_ACTIVE_CHANGED="conference.media_session.active_changed",e.MEMBERS_ONLY_CHANGED="conference.membersOnlyChanged",e.MESSAGE_RECEIVED="conference.messageReceived",e.NO_AUDIO_INPUT="conference.no_audio_input",e.NOISY_MIC="conference.noisy_mic",e.NON_PARTICIPANT_MESSAGE_RECEIVED="conference.non_participant_message_received",e.PRIVATE_MESSAGE_RECEIVED="conference.privateMessageReceived",e.PARTICIPANT_CONN_STATUS_CHANGED="conference.participant_conn_status_changed",e.PARTCIPANT_FEATURES_CHANGED="conference.partcipant_features_changed",e.PARTICIPANT_PROPERTY_CHANGED="conference.participant_property_changed",e.P2P_STATUS="conference.p2pStatus",e.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",e.PROPERTIES_CHANGED="conference.propertiesChanged",e.RECORDER_STATE_CHANGED="conference.recorderStateChanged",e.VIDEO_SIP_GW_AVAILABILITY_CHANGED="conference.videoSIPGWAvailabilityChanged",e.VIDEO_SIP_GW_SESSION_STATE_CHANGED="conference.videoSIPGWSessionStateChanged",e.START_MUTED_POLICY_CHANGED="conference.start_muted_policy_changed",e.STARTED_MUTED="conference.started_muted",e.SUBJECT_CHANGED="conference.subjectChanged",e.SUSPEND_DETECTED="conference.suspendDetected",e.TALK_WHILE_MUTED="conference.talk_while_muted",e.TRACK_ADDED="conference.trackAdded",e.TRACK_AUDIO_LEVEL_CHANGED="conference.audioLevelsChanged",e.TRACK_MUTE_CHANGED="conference.trackMuteChanged",e.TRACK_REMOVED="conference.trackRemoved",e.TRACK_UNMUTE_REJECTED="conference.trackUnmuteRejected",e.TRANSCRIPTION_STATUS_CHANGED="conference.transcriptionStatusChanged",e.USER_JOINED="conference.userJoined",e.USER_LEFT="conference.userLeft",e.USER_ROLE_CHANGED="conference.roleChanged",e.USER_STATUS_CHANGED="conference.statusChanged",e.VIDEO_UNMUTE_PERMISSIONS_CHANGED="conference.video_unmute_permissions_changed",e.BOT_TYPE_CHANGED="conference.bot_type_changed",e.LOBBY_USER_JOINED="conference.lobby.userJoined",e.LOBBY_USER_UPDATED="conference.lobby.userUpdated",e.LOBBY_USER_LEFT="conference.lobby.userLeft",e.AV_MODERATION_APPROVED="conference.av_moderation.approved",e.AV_MODERATION_REJECTED="conference.av_moderation.rejected",e.AV_MODERATION_CHANGED="conference.av_moderation.changed",e.AV_MODERATION_PARTICIPANT_APPROVED="conference.av_moderation.participant.approved",e.AV_MODERATION_PARTICIPANT_REJECTED="conference.av_moderation.participant.rejected",e.FACE_LANDMARK_ADDED="conference.face_landmark.added",e.BREAKOUT_ROOMS_MOVE_TO_ROOM="conference.breakout-rooms.move-to-room",e.BREAKOUT_ROOMS_UPDATED="conference.breakout-rooms.updated",e.SUBTITLES_RECEIVED="conference.subtitles.received",e.ANALYTICS_EVENT_RECEIVED="analytics.event.received",e.TRACK_UPDATED="conference.track.updated"}(r||(r={}));var i=r.AUDIO_INPUT_STATE_CHANGE,o=r.AUDIO_UNMUTE_PERMISSIONS_CHANGED,a=r.AUTH_STATUS_CHANGED,s=r.BEFORE_STATISTICS_DISPOSED,c=r.CONFERENCE_ERROR,u=r.CONFERENCE_FAILED,l=r.CONFERENCE_JOIN_IN_PROGRESS,d=r.CONFERENCE_JOINED,f=r.CONFERENCE_LEFT,p=r.CONFERENCE_UNIQUE_ID_SET,h=r.CONNECTION_ESTABLISHED,m=r.CONNECTION_INTERRUPTED,v=r.CONNECTION_RESTORED,g=r.DATA_CHANNEL_OPENED,y=r.DISPLAY_NAME_CHANGED,_=r.DOMINANT_SPEAKER_CHANGED,b=r.CONFERENCE_CREATED_TIMESTAMP,E=r.DTMF_SUPPORT_CHANGED,S=r.ENDPOINT_MESSAGE_RECEIVED,C=r.ENDPOINT_STATS_RECEIVED,T=r.JVB121_STATUS,O=r.KICKED,R=r.PARTICIPANT_KICKED,A=r.LAST_N_ENDPOINTS_CHANGED,w=r.FORWARDED_SOURCES_CHANGED,k=r.LOCK_STATE_CHANGED,P=r.SERVER_REGION_CHANGED,N=r._MEDIA_SESSION_STARTED,I=r._MEDIA_SESSION_ACTIVE_CHANGED,D=r.MEMBERS_ONLY_CHANGED,M=r.MESSAGE_RECEIVED,x=r.NO_AUDIO_INPUT,L=r.NOISY_MIC,j=r.NON_PARTICIPANT_MESSAGE_RECEIVED,F=r.PRIVATE_MESSAGE_RECEIVED,U=r.PARTICIPANT_CONN_STATUS_CHANGED,V=r.PARTCIPANT_FEATURES_CHANGED,H=r.PARTICIPANT_PROPERTY_CHANGED,B=r.P2P_STATUS,G=r.PHONE_NUMBER_CHANGED,J=r.PROPERTIES_CHANGED,W=r.RECORDER_STATE_CHANGED,z=r.VIDEO_SIP_GW_AVAILABILITY_CHANGED,K=r.VIDEO_SIP_GW_SESSION_STATE_CHANGED,q=r.START_MUTED_POLICY_CHANGED,$=r.STARTED_MUTED,X=r.SUBJECT_CHANGED,Y=r.SUSPEND_DETECTED,Q=r.TALK_WHILE_MUTED,Z=r.TRACK_ADDED,ee=r.TRACK_AUDIO_LEVEL_CHANGED,te=r.TRACK_MUTE_CHANGED,ne=r.TRACK_REMOVED,re=r.TRACK_UNMUTE_REJECTED,ie=r.TRANSCRIPTION_STATUS_CHANGED,oe=r.USER_JOINED,ae=r.USER_LEFT,se=r.USER_ROLE_CHANGED,ce=r.USER_STATUS_CHANGED,ue=r.VIDEO_UNMUTE_PERMISSIONS_CHANGED,le=r.BOT_TYPE_CHANGED,de=r.LOBBY_USER_JOINED,fe=r.LOBBY_USER_UPDATED,pe=r.LOBBY_USER_LEFT,he=r.AV_MODERATION_APPROVED,me=r.AV_MODERATION_REJECTED,ve=r.AV_MODERATION_CHANGED,ge=r.AV_MODERATION_PARTICIPANT_APPROVED,ye=r.AV_MODERATION_PARTICIPANT_REJECTED,_e=r.FACE_LANDMARK_ADDED,be=r.BREAKOUT_ROOMS_MOVE_TO_ROOM,Ee=r.BREAKOUT_ROOMS_UPDATED,Se=r.SUBTITLES_RECEIVED,Ce=r.ANALYTICS_EVENT_RECEIVED,Te=r.TRACK_UPDATED},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(172);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(r.a)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(t){var n;n=function(){"use strict";var e="undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e){if("string"!==typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},a=function(e,t,n,r,o,a){return i((s=i(i(t,e),i(r,a)))<<(c=o)|s>>>32-c,n);var s,c},s=function(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)},c=function(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)},u=function(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)},l=function(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)},d=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,r,o,a,d=1732584193,f=-271733879,p=-1732584194,h=271733878,m=0;m<e.length;m+=16)n=d,r=f,o=p,a=h,d=s(d,f,p,h,e[m+0],7,-680876936),h=s(h,d,f,p,e[m+1],12,-389564586),p=s(p,h,d,f,e[m+2],17,606105819),f=s(f,p,h,d,e[m+3],22,-1044525330),d=s(d,f,p,h,e[m+4],7,-176418897),h=s(h,d,f,p,e[m+5],12,1200080426),p=s(p,h,d,f,e[m+6],17,-1473231341),f=s(f,p,h,d,e[m+7],22,-45705983),d=s(d,f,p,h,e[m+8],7,1770035416),h=s(h,d,f,p,e[m+9],12,-1958414417),p=s(p,h,d,f,e[m+10],17,-42063),f=s(f,p,h,d,e[m+11],22,-1990404162),d=s(d,f,p,h,e[m+12],7,1804603682),h=s(h,d,f,p,e[m+13],12,-40341101),p=s(p,h,d,f,e[m+14],17,-1502002290),f=s(f,p,h,d,e[m+15],22,1236535329),d=c(d,f,p,h,e[m+1],5,-165796510),h=c(h,d,f,p,e[m+6],9,-1069501632),p=c(p,h,d,f,e[m+11],14,643717713),f=c(f,p,h,d,e[m+0],20,-373897302),d=c(d,f,p,h,e[m+5],5,-701558691),h=c(h,d,f,p,e[m+10],9,38016083),p=c(p,h,d,f,e[m+15],14,-660478335),f=c(f,p,h,d,e[m+4],20,-405537848),d=c(d,f,p,h,e[m+9],5,568446438),h=c(h,d,f,p,e[m+14],9,-1019803690),p=c(p,h,d,f,e[m+3],14,-187363961),f=c(f,p,h,d,e[m+8],20,1163531501),d=c(d,f,p,h,e[m+13],5,-1444681467),h=c(h,d,f,p,e[m+2],9,-51403784),p=c(p,h,d,f,e[m+7],14,1735328473),f=c(f,p,h,d,e[m+12],20,-1926607734),d=u(d,f,p,h,e[m+5],4,-378558),h=u(h,d,f,p,e[m+8],11,-2022574463),p=u(p,h,d,f,e[m+11],16,1839030562),f=u(f,p,h,d,e[m+14],23,-35309556),d=u(d,f,p,h,e[m+1],4,-1530992060),h=u(h,d,f,p,e[m+4],11,1272893353),p=u(p,h,d,f,e[m+7],16,-155497632),f=u(f,p,h,d,e[m+10],23,-1094730640),d=u(d,f,p,h,e[m+13],4,681279174),h=u(h,d,f,p,e[m+0],11,-358537222),p=u(p,h,d,f,e[m+3],16,-722521979),f=u(f,p,h,d,e[m+6],23,76029189),d=u(d,f,p,h,e[m+9],4,-640364487),h=u(h,d,f,p,e[m+12],11,-421815835),p=u(p,h,d,f,e[m+15],16,530742520),f=u(f,p,h,d,e[m+2],23,-995338651),d=l(d,f,p,h,e[m+0],6,-198630844),h=l(h,d,f,p,e[m+7],10,1126891415),p=l(p,h,d,f,e[m+14],15,-1416354905),f=l(f,p,h,d,e[m+5],21,-57434055),d=l(d,f,p,h,e[m+12],6,1700485571),h=l(h,d,f,p,e[m+3],10,-1894986606),p=l(p,h,d,f,e[m+10],15,-1051523),f=l(f,p,h,d,e[m+1],21,-2054922799),d=l(d,f,p,h,e[m+8],6,1873313359),h=l(h,d,f,p,e[m+15],10,-30611744),p=l(p,h,d,f,e[m+6],15,-1560198380),f=l(f,p,h,d,e[m+13],21,1309151649),d=l(d,f,p,h,e[m+4],6,-145523070),h=l(h,d,f,p,e[m+11],10,-1120210379),p=l(p,h,d,f,e[m+2],15,718787259),f=l(f,p,h,d,e[m+9],21,-343485551),d=i(d,n),f=i(f,r),p=i(p,o),h=i(h,a);return[d,f,p,h]},f={hexdigest:function(e){return function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}(d(o(e),8*e.length))},hash:function(e){return function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(d(o(e),8*e.length))}};function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,i,o,a,s,c,u,l=new Array(80),d=1732584193,f=-271733879,p=-1732584194,v=271733878,_=-1009589776;for(n=0;n<e.length;n+=16){for(o=d,a=f,s=p,c=v,u=_,r=0;r<80;r++)l[r]=r<16?e[n+r]:y(l[r-3]^l[r-8]^l[r-14]^l[r-16],1),i=g(g(y(d,5),h(r,f,p,v)),g(g(_,l[r]),m(r))),_=v,v=p,p=y(f,30),f=d,d=i;d=g(d,o),f=g(f,a),p=g(p,s),v=g(v,c),_=g(_,u)}return[d,f,p,v,_]}function h(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function m(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function v(e,t){var n=_(e);n.length>16&&(n=p(n,8*e.length));for(var r=new Array(16),i=new Array(16),o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var a=p(r.concat(_(t)),512+8*t.length);return p(i.concat(a),672)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function y(e,t){return e<<t|e>>>32-t}function _(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function b(e){for(var t,n,r="",i=0;i<4*e.length;i+=3)for(t=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;n<4;n++)8*i+6*n>32*e.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return r}function E(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}var S={b64_hmac_sha1:function(e,t){return b(v(e,t))},b64_sha1:function(e){return b(p(_(e),8*e.length))},binb2str:E,core_hmac_sha1:v,str_hmac_sha1:function(e,t){return E(v(e,t))},str_sha1:function(e){return E(p(_(e),8*e.length))}},C=function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},T=function(e){for(var t in e=e||{})if(Object.prototype.hasOwnProperty.call(e,t)){var r="",i="",o="",a=e[t],s="object"===n(a),c=escape(unescape(s?a.value:a));s&&(r=a.expires?";expires="+a.expires:"",i=a.domain?";domain="+a.domain:"",o=a.path?";path="+a.path:""),document.cookie=t+"="+c+r+i+o}};function O(e,t){return new w.Builder(e,t)}function R(e){return new w.Builder("iq",e)}function A(e){return new w.Builder("presence",e)}var w={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<w.XHTML.tags.length;t++)if(e===w.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if("undefined"!==typeof w.XHTML.attributes[e]&&w.XHTML.attributes[e].length>0)for(var n=0;n<w.XHTML.attributes[e].length;n++)if(t===w.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<w.XHTML.css.length;t++)if(e===w.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){w.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType!==w.ElementType.NORMAL||t&&!this.isTagEqual(i,t)||n(i)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return w._xmlGenerator||(w._xmlGenerator=w._makeGenerator()),w._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(r){e=null}return e},xmlElement:function(e){if(!e)return null;for(var t=w.xmlGenerator().createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i)if("string"===typeof i||"number"===typeof i)t.appendChild(w.xmlTextNode(i));else if("object"===n(i)&&"function"===typeof i.sort)for(var o=0;o<i.length;o++){var a=i[o];"object"===n(a)&&"function"===typeof a.sort&&void 0!==a[1]&&null!==a[1]&&t.setAttribute(a[0],a[1])}else if("object"===n(i))for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&void 0!==i[s]&&null!==i[s]&&t.setAttribute(s,i[s])}return t},xmlescape:function(e){return e=(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return e=(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return w.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===w.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===w.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return w.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===w.ElementType.NORMAL){t=w.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(w.copyElement(e.childNodes[r]))}else e.nodeType===w.ElementType.TEXT&&(t=w.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===w.ElementType.NORMAL){var r=e.nodeName.toLowerCase();if(w.XHTML.validTag(r))try{t=w.xmlElement(r);for(var i=0;i<w.XHTML.attributes[r].length;i++){var o=w.XHTML.attributes[r][i],a=e.getAttribute(o);if("undefined"!==typeof a&&null!==a&&""!==a&&!1!==a&&0!==a)if("style"===o&&"object"===n(a)&&"undefined"!==typeof a.cssText&&(a=a.cssText),"style"===o){for(var s=[],c=a.split(";"),u=0;u<c.length;u++){var l=c[u].split(":"),d=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(w.XHTML.validCSS(d)){var f=l[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(d+": "+f)}}s.length>0&&(a=s.join("; "),t.setAttribute(o,a))}else t.setAttribute(o,a)}for(var p=0;p<e.childNodes.length;p++)t.appendChild(w.createHtml(e.childNodes[p]))}catch(v){t=w.xmlTextNode("")}else{t=w.xmlGenerator().createDocumentFragment();for(var h=0;h<e.childNodes.length;h++)t.appendChild(w.createHtml(e.childNodes[h]))}}else if(e.nodeType===w.ElementType.FRAGMENT){t=w.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)t.appendChild(w.createHtml(e.childNodes[m]))}else e.nodeType===w.ElementType.TEXT&&(t=w.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!==typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!==typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=w.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){"undefined"!==typeof e.stack&&w.fatal(e.stack),e.sourceURL?w.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?w.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):w.fatal("error: "+e.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"===n(window.console)&&"function"===typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"===typeof e.tree&&(e=e.tree());var t=r(Array(e.attributes.length).keys()).map((function(t){return e.attributes[t].nodeName}));t.sort();var n=t.reduce((function(t,n){return"".concat(t," ").concat(n,'="').concat(w.xmlescape(e.attributes.getNamedItem(n).value),'"')}),"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];switch(o.nodeType){case w.ElementType.NORMAL:n+=w.serialize(o);break;case w.ElementType.TEXT:n+=w.xmlescape(o.nodeValue);break;case w.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){w._connectionPlugins[e]=t},Builder:function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=w.NS.CLIENT:t||(t={xmlns:w.NS.CLIENT})),this.nodeTree=w.xmlElement(e,t),this.node=this.nodeTree}};w.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return w.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=w.xmlElement(e,t,n);return this.node.appendChild(r),"string"!==typeof n&&"number"!==typeof n&&(this.node=r),this},cnode:function(e){var t,n=w.xmlGenerator();try{t=void 0!==n.importNode}catch(i){t=!1}var r=t?n.importNode(e,!0):w.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=w.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=w.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},w.Handler=function(e,t,n,r,i,o,a){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=i,this.options=a||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(w.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?w.getBareJidFromJid(o):null:this.from=o,this.user=!0},w.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(w.forEachChild(e,null,(function(e){t.getNamespace(e)===t.ns&&(n=!0)})),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=w.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!w.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(n){throw w._handleError(n),n}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},w.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},w.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},w.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var r=this.options.protocol||"";for(var i in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new w.Websocket(this):this._proto=new w.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout((function(){return n._onIdle()}),100),T(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),w._connectionPlugins)if(Object.prototype.hasOwnProperty.call(w._connectionPlugins,i)){var o=function(){};o.prototype=w._connectionPlugins[i],this[i]=new o,this[i].init(this)}},w.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return"string"===typeof e||"number"===typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,r,i,o,a){this.jid=e,this.authzid=w.getBareJidFromJid(this.jid),this.authcid=a||w.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=w.getDomainFromJid(this.jid),this._changeConnectStatus(w.Status.CONNECTING,null),this._proto._connect(r,i,o)},attach:function(e,t,n,r,i,o,a){if(!(this._proto instanceof w.Bosh)){var s=new Error('The "attach" method can only be used with a BOSH connection.');throw s.name="StropheSessionError",s}this._proto._attach(e,t,n,r,i,o,a)},restore:function(e,t,n,r,i){if(!this._sessionCachingSupported()){var o=new Error('The "restore" method can only be used with a BOSH connection.');throw o.name="StropheSessionError",o}this._proto._restore(e,t,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof w.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"===typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"===typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,r){var i=this,o=null;"function"===typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendPresence"),e.setAttribute("id",a)),"function"===typeof t||"function"===typeof n){var s=this.addHandler((function(e){o&&i.deleteTimedHandler(o),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)}),null,"presence",null,a);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(s),n&&n(null),!1})))}return this.send(e),a},sendIQ:function(e,t,n,r){var i=this,o=null;"function"===typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");if(a||(a=this.getUniqueId("sendIQ"),e.setAttribute("id",a)),"function"===typeof t||"function"===typeof n){var s=this.addHandler((function(e){o&&i.deleteTimedHandler(o);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var a=new Error("Got bad IQ type of ".concat(r));throw a.name="StropheError",a}n&&n(e)}}),null,"iq",["error","result"],a);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(s),n&&n(null),!1})))}return this.send(e),a},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)},_sendRestart:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout((function(){return e._onIdle()}),100)},addTimedHandler:function(e,t){var n=new w.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,i,o,a){var s=new w.Handler(e,t,n,r,i,o,a);return this.addHandlers.push(s),s},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},(e=e||[w.SASLAnonymous,w.SASLExternal,w.SASLMD5,w.SASLOAuthBearer,w.SASLXOAuth2,w.SASLPlain,w.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(w.Status.DISCONNECTING,e),w.warn("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=A({xmlns:w.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else w.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,n){for(var r in w._connectionPlugins)if(Object.prototype.hasOwnProperty.call(w._connectionPlugins,r)){var i=this[r];if(i.statusChanged)try{i.statusChanged(e,t)}catch(o){w.error("".concat(r," plugin caused an exception changing status: ").concat(o))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(a){w._handleError(a),w.error("User connection callback caused an exception: ".concat(a))}},_doDisconnect:function(e){"number"===typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),w.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(w.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){var n=this;w.debug("_dataRecv called");var r=this._proto._reqToData(e);if(null!==r){for(this.xmlInput!==w.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==w.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(w.serialize(r)));this.removeHandlers.length>0;){var i=this.removeHandlers.pop(),o=this.handlers.indexOf(i);o>=0&&this.handlers.splice(o,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var a=r.getAttribute("type");if(null!==a&&"terminate"===a){if(this.disconnecting)return;var s=r.getAttribute("condition"),c=r.getElementsByTagName("conflict");return null!==s?("remote-stream-error"===s&&c.length>0&&(s="conflict"),this._changeConnectStatus(w.Status.CONNFAIL,s)):this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(s)}w.forEachChild(r,null,(function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var i=t[r];try{(!i.isMatch(e)||!n.authenticated&&i.user||i.run(e))&&n.handlers.push(i)}catch(o){w.warn("Removing Strophe handlers due to uncaught exception: "+o.message)}}}))}}},mechanisms:{},_connect_cb:function(e,t,n){var r;w.debug("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(c){if(c.name!==w.ErrorCondition.BAD_FORMAT)throw c;this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.BAD_FORMAT),this._doDisconnect(w.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==w.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==w.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(w.serialize(r))),this._proto._connect_cb(r)!==w.Status.CONNFAIL))if(r.getElementsByTagNameNS?r.getElementsByTagNameNS(w.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0){var i=[],o=r.getElementsByTagName("mechanism");if(o.length>0)for(var a=0;a<o.length;a++){var s=w.getText(o[a]);this.mechanisms[s]&&i.push(this.mechanisms[s])}0!==i.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)},sortMechanismsByPriority:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].prototype.priority>e[n].prototype.priority&&(n=r);if(n!==t){var i=e[t];e[t]=e[n],e[n]=i}}return e},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var r=O("auth",{xmlns:w.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(i))}this.send(r.tree()),t=!0;break}return t},_sasl_challenge_cb:function(e){var t=atob(w.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=O("response",{xmlns:w.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_attemptLegacyAuth:function(){null===w.getNodeFromJid(this.jid)?(this._changeConnectStatus(w.Status.CONNFAIL,w.ErrorCondition.MISSING_JID_NODE),this.disconnect(w.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(w.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(R({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:w.NS.AUTH}).c("username",{}).t(w.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(e){var t=R({type:"set",id:"_auth_2"}).c("query",{xmlns:w.NS.AUTH}).c("username",{}).t(w.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return w.getResourceFromJid(this.jid)||(this.jid=w.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(w.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=atob(w.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}w.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],o=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return i.push(this._addSysHandler((function(e){return o(i,e)}),null,"stream:features",null,null)),i.push(this._addSysHandler((function(e){return o(i,e)}),w.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(w.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(w.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=w.getResourceFromJid(this.jid);e?this.send(R({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:w.NS.BIND}).c("resource",{}).t(e).tree()):this.send(R({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:w.NS.BIND}).tree())}else w.log(w.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')},_onResourceBindResultIQ:function(e){var t;if("error"===e.getAttribute("type"))return w.warn("Resource binding failed."),e.getElementsByTagName("conflict").length>0&&(t=w.ErrorCondition.CONFLICT),this._changeConnectStatus(w.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return w.warn("Resource binding failed."),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1;var r=n[0].getElementsByTagName("jid");r.length>0&&(this.jid=w.getText(r[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(w.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(R({type:"set",id:"_session_auth_2"}).c("session",{xmlns:w.NS.SESSION}).tree())},_onSessionResultIQ:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return w.warn("Session creation failed."),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(w.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(w.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(w.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new w.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,i){var o=new w.Handler(e,t,n,r,i);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return w.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(w.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),i=[],o=0;o<this.timedHandlers.length;o++){var a=this.timedHandlers[o];!this.authenticated&&a.user||(a.lastCalled+a.period-r<=0?a.run()&&i.push(a):i.push(a))}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout((function(){return e._onIdle()}),100))}},w.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},w.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},w.SASLAnonymous=function(){},w.SASLAnonymous.prototype=new w.SASLMechanism("ANONYMOUS",!1,20),w.SASLAnonymous.prototype.test=function(e){return null===e.authcid},w.SASLPlain=function(){},w.SASLPlain.prototype=new w.SASLMechanism("PLAIN",!0,50),w.SASLPlain.prototype.test=function(e){return null!==e.authcid},w.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,C(t)},w.SASLSHA1=function(){},w.SASLSHA1.prototype=new w.SASLMechanism("SCRAM-SHA-1",!0,70),w.SASLSHA1.prototype.test=function(e){return null!==e.authcid},w.SASLSHA1.prototype.onChallenge=function(e,t,n){var r=n||f.hexdigest(""+1234567890*Math.random()),i="n="+C(e.authcid);return i+=",r=",i+=r,e._sasl_data.cnonce=r,e._sasl_data["client-first-message-bare"]=i,i="n,,"+i,this.onChallenge=function(e,t){for(var n,r,i,o,a,s,c,u,l="c=biws,",d="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),f=e._sasl_data.cnonce,p=/([a-z]+)=([^,]+)(,|$)/;t.match(p);){var h=t.match(p);switch(t=t.replace(h[0],""),h[1]){case"r":n=h[2];break;case"s":r=h[2];break;case"i":i=h[2]}}if(n.substr(0,f.length)!==f)return e._sasl_data={},e._sasl_failure_cb();d+=l+="r="+n,r=atob(r),r+="\0\0\0\x01";var m=C(e.pass);for(o=s=S.core_hmac_sha1(m,r),c=1;c<i;c++){for(a=S.core_hmac_sha1(m,S.binb2str(s)),u=0;u<5;u++)o[u]^=a[u];s=a}o=S.binb2str(o);var v=S.core_hmac_sha1(o,"Client Key"),g=S.str_hmac_sha1(o,"Server Key"),y=S.core_hmac_sha1(S.str_sha1(S.binb2str(v)),d);for(e._sasl_data["server-signature"]=S.b64_hmac_sha1(g,d),u=0;u<5;u++)v[u]^=y[u];return l+=",p="+btoa(S.binb2str(v))},i},w.SASLMD5=function(){},w.SASLMD5.prototype=new w.SASLMechanism("DIGEST-MD5",!1,60),w.SASLMD5.prototype.test=function(e){return null!==e.authcid},w.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},w.SASLMD5.prototype.onChallenge=function(e,t,n){for(var r=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,i=n||f.hexdigest(""+1234567890*Math.random()),o="",a=null,s="";t.match(r);){var c=t.match(r);switch(t=t.replace(c[0],""),c[2]=c[2].replace(/^"(.+)"$/,"$1"),c[1]){case"realm":o=c[2];break;case"nonce":s=c[2];break;case"qop":c[2];break;case"host":a=c[2]}}var u=e.servtype+"/"+e.domain;null!==a&&(u=u+"/"+a);var l=C(e.authcid+":"+o+":"+this._connection.pass),d=f.hash(l)+":"+s+":"+i,p="AUTHENTICATE:"+u,h="";return h+="charset=utf-8,",h+="username="+this._quote(C(e.authcid))+",",h+="realm="+this._quote(o)+",",h+="nonce="+this._quote(s)+",",h+="nc=00000001,",h+="cnonce="+this._quote(i)+",",h+="digest-uri="+this._quote(u)+",",h+="response="+f.hexdigest(f.hexdigest(d)+":"+s+":00000001:"+i+":auth:"+f.hexdigest(p))+",",h+="qop=auth",this.onChallenge=function(){return""},h},w.SASLOAuthBearer=function(){},w.SASLOAuthBearer.prototype=new w.SASLMechanism("OAUTHBEARER",!0,40),w.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},w.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",C(t+="\x01")},w.SASLExternal=function(){},w.SASLExternal.prototype=new w.SASLMechanism("EXTERNAL",!0,10),w.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},w.SASLXOAuth2=function(){},w.SASLXOAuth2.prototype=new w.SASLMechanism("X-OAUTH2",!0,30),w.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},w.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,C(t)};var k={Strophe:w,$build:O,$iq:R,$msg:function(e){return new w.Builder("message",e)},$pres:A,SHA1:S,MD5:f,b64_hmac_sha1:S.b64_hmac_sha1,b64_sha1:S.b64_sha1,str_hmac_sha1:S.str_hmac_sha1,str_sha1:S.str_sha1},P=k.Strophe,N=k.$build;P.Request=function(e,t,n,r){this.id=++P._requestId,this.xmlData=e,this.data=P.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},P.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw P.error("invalid response received"),P.error("responseText: "+this.xhr.responseText),P.error("responseXML: "+P.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(P.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){P.error("invalid response received: "+e.querySelector("parsererror").textContent),P.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=P.ErrorCondition.BAD_FORMAT,t}}return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},P.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},P.Bosh.prototype={strip:null,_buildBody:function(){var e=N("body",{rid:this.rid++,xmlns:P.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":P.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new P.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,t,n,r,i,o,a){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=P.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=o||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(P.Status.ATTACHED,null)},_restore:function(e,t,n,r,i){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!("undefined"!==typeof o&&null!==o&&o.rid&&o.sid&&o.jid&&("undefined"===typeof e||null===e||P.getBareJidFromJid(o.jid)===P.getBareJidFromJid(e)||null===P.getNodeFromJid(e)&&P.getDomainFromJid(o.jid)===e))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,t,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");P.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(P.Status.CONNFAIL,n)):this._conn._changeConnectStatus(P.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),P.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var i=e.getAttribute("requests");i&&(this.window=parseInt(i,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var a=e.getAttribute("wait");a&&(this.wait=parseInt(a,10));var s=e.getAttribute("inactivity");s&&(this.inactivity=parseInt(s,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t)},_hitError:function(e){this.errors++,P.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){P.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new P.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(P.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":P.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new P.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(P.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(P.TIMEOUT*this.wait)&&(P.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(P.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(r){P.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return"undefined"===typeof n&&(n="number"===typeof t?t:0),n},_onRequestStateChange:function(e,t){if(P.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var r=n>0&&n<500,i=t.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(t),P.debug("request id "+t.id+" should now be removed")),200===n){var o=this._requests[0]===t;(this._requests[1]===t||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(P.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),P.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(P.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(P.Status.DISCONNECTING,null),this._conn._doDisconnect())):P.error("request id "+t.id+"."+t.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(P.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var t=this,n=this._requests[e],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),o=!isNaN(i)&&i>Math.floor(P.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(P.SECONDARY_TIMEOUT*this.wait),s=4===n.xhr.readyState&&(r<1||r>=500);if((o||a||s)&&(a&&P.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new P.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){P.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),"undefined"!==typeof n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(d){return P.error("XHR open failed: "+d.toString()),this._conn.connected||this._conn._changeConnectStatus(P.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(n.date=new Date,t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.xhr.setRequestHeader(r,e[r])}n.xhr.send(n.data)};if(n.sends>1){var l=1e3*Math.min(Math.floor(P.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout((function(){u()}),l)}else u();n.sends++,this._conn.xmlOutput!==P.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==P.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else P.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(e){P.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){P.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new P.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout((function(){return e._conn._onIdle()}),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?P.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):P.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var I=k.Strophe,D=k.$build;return I.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},I.Websocket.prototype={_buildStream:function(){return D("open",{xmlns:I.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(I.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",o="",a=0;a<r.childNodes.length;a++){var s=r.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==s.getAttribute("xmlns"))break;"text"===s.nodeName?o=s.textContent:i=s.nodeName}var c="WebSocket stream error: ";return c+=i||"unknown",o&&(c+=" - "+o),I.error(c),this._conn._changeConnectStatus(t,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){if(this._check_streamerror(e,I.Status.CONNFAIL))return I.Status.CONNFAIL},_handleStreamStart:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!==typeof n?t="Missing xmlns in <open />":n!==I.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!==typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(I.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new DOMParser).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var i=r.getAttribute("see-other-uri");if(i){var o=this._conn.service;(o.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||o.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(I.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(I.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(e.data),s=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=D("close",{xmlns:I.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=I.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n)}catch(r){I.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){I.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(e){I.debug(e.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(e){this._conn.connected&&!this._conn.disconnecting?(I.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(I.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(I.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):I.debug("Websocket closed")},_no_auth_received:function(e){I.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(I.Status.CONNFAIL,I.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){I.error("Websocket error "+e),this._conn._changeConnectStatus(I.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n=void 0;n="restart"===e[t]?this._buildStream().tree():e[t];var r=I.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var r=this._streamWrap(e.data);t=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(t,I.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(I.serialize(t))):void this._conn._dataRecv(t,e.data)},_onOpen:function(){I.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=I.serialize(e);this._conn.rawOutput(t),this.socket.send(t)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=k.Strophe,e.$build=k.$build,e.$iq=k.$iq,e.$msg=k.$msg,e.$pres=k.$pres,k},e.exports=n()}).call(this,n(103))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.AUDIO="audio",e.PRESENTER="presenter",e.VIDEO="video"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(172);function i(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(198),i=n(320),o={},a=[],s=r.levels.TRACE;e.exports={addGlobalTransport:function(e){r.addGlobalTransport(e)},removeGlobalTransport:function(e){r.removeGlobalTransport(e)},setGlobalOptions:function(e){r.setGlobalOptions(e)},getLogger:function(e,t,n){var i=new r(s,e,t,n);return e?(o[e]=o[e]||[],o[e].push(i)):a.push(i),i},setLogLevelById:function(e,t){for(var n=t?o[t]||[]:a,r=0;r<n.length;r++)n[r].setLevel(e)},setLogLevel:function(e){s=e;for(var t=0;t<a.length;t++)a[t].setLevel(e);for(var n in o){var r=o[n]||[];for(t=0;t<r.length;t++)r[t].setLevel(e)}},levels:r.levels,LogCollector:i}},function(e,t,n){"use strict";var r=n(215);t.a=new r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(126);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(54);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";var r=n(69),i=Object.getPrototypeOf,o=r.a.slice,a=r.a.flat?function(e){return r.a.flat.call(e)}:function(e){return r.a.concat.apply([],e)},s=n(87),c=n(109),u=n(106),l=n(151),d=u.a.hasOwnProperty,f=d.toString,p=f.call(Object);var h=n(63),m={type:!0,src:!0,nonce:!0,noModule:!0};var v=function(e,t,n){var r,i=(n=n||h.a).createElement("script");if(i.text=e,t)for(r in m)t[r]&&(i[r]=t[r]);n.head.appendChild(i).parentNode.removeChild(i)},g=n(152),y="@VERSION",_=/HTML$/i,b=function e(t,n){return new e.fn.init(t,n)};function E(e){var t=!!e&&e.length,n=Object(g.a)(e);return"function"!==typeof e&&!function(e){return null!=e&&e===e.window}(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:y,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()}},b.extend=b.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"===typeof a&&(u=a,a=arguments[s]||{},s++),"object"!==typeof a&&"function"!==typeof a&&(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(b.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||b.isPlainObject(n)?n:{},i=!1,a[t]=b.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},b.extend({expando:"jQuery"+(y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.a.call(e))&&(!(t=i(e))||"function"===typeof(n=d.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(E(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=b.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?b.merge(n,"string"===typeof e?[e]:e):s.a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.a.call(t,e,n)},isXMLDoc:function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(E(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a(s)},guid:1,support:{}}),"function"===typeof Symbol&&(b.fn[Symbol.iterator]=r.a[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u.a["[object "+t+"]"]=t.toLowerCase()}));t.a=b},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(65);function i(){i=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function _(){}function b(){}function E(){}var S={};d(S,c,(function(){return this}));var C=Object.getPrototypeOf,T=C&&C(C(D([])));T&&T!==n&&o.call(T,c)&&(S=T);var O=E.prototype=_.prototype=Object.create(S);function R(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,c){var u=p(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==Object(r.a)(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function w(t,n,r){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=p(t,n,r);if("normal"===u.type){if(i=r.done?g:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Object(r.a)(t)+" is not iterable")}return b.prototype=E,a(O,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=d(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,d(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},R(A.prototype),d(A.prototype,u,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},R(O),d(O,l,"Generator"),d(O,c,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r,i=n(12),o=n(47),a=n.n(o),s=n(4),c=n(50),u=n(23),l=n(62),d=n(11),f=n(127),p=n.n(f),h=n(218),m=n(88),v=n(154),g=n(219),y=n(220),_=n(110),b=n(10).getLogger(e),E=!1;function S(e){m.a.isBackendInitialized()||m.a.initBackend({callStatsID:e.callStatsID,callStatsSecret:e.callStatsSecret,userName:e.userName,aliasName:e.aliasName,applicationName:e.applicationName,getWiFiStatsMethod:e.getWiFiStatsMethod,confID:e.confID,siteID:e.siteID,configParams:e.configParams})||b.error("CallStats Backend initialization failed bad")}function C(e,t){this.rtpStatsMap=new Map,this.eventEmitter=new a.a,this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==C.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,d.a.isReactNative()?S(this.options):function(e){E||(p.a.loadScript(e.customScriptUrl||_.a,!0,!0,void 0,(function(){return S(e)})),E=!0)}(this.options),this.options.confID||b.warn('"confID" is not defined')),this.callsStatsInstances=new Map,C.instances.add(this)}C.init=function(e){C.audioLevelsEnabled=!e.disableAudioLevels,"number"===typeof e.pcStatsInterval&&(C.pcStatsInterval=e.pcStatsInterval),"number"===typeof e.audioLevelsInterval&&(C.audioLevelsInterval=e.audioLevelsInterval),"number"===typeof e.longTasksStatsInterval&&(C.longTasksStatsInterval=e.longTasksStatsInterval),C.disableThirdPartyRequests=e.disableThirdPartyRequests},C.audioLevelsEnabled=!1,C.audioLevelsInterval=200,C.pcStatsInterval=1e4,C.disableThirdPartyRequests=!1,C.analytics=h.a,C.analyticsEventEmitter=new a.a,Object.defineProperty(C,"instances",{get:function(){return r||(r=new Set),r}}),C.prototype.startRemoteStats=function(e){this.stopRemoteStats(e);try{var t=new y.a(e,C.audioLevelsInterval,C.pcStatsInterval,this.eventEmitter);t.start(C.audioLevelsEnabled),this.rtpStatsMap.set(e.id,t)}catch(n){b.error("Failed to start collecting remote statistics: ".concat(n))}},C.localStats=[],C.startLocalStats=function(e,t){if(C.audioLevelsEnabled){var n=new v.a(e,C.audioLevelsInterval,t);this.localStats.push(n),n.start()}},C.prototype.addAudioLevelListener=function(e){C.audioLevelsEnabled&&this.eventEmitter.on(l.a,e)},C.prototype.removeAudioLevelListener=function(e){C.audioLevelsEnabled&&this.eventEmitter.removeListener(l.a,e)},C.prototype.addBeforeDisposedListener=function(e){this.eventEmitter.on(l.b,e)},C.prototype.removeBeforeDisposedListener=function(e){this.eventEmitter.removeListener(l.b,e)},C.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(l.d,e)},C.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(l.d,e)},C.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(l.c,e)},C.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(l.c,e)},C.prototype.addLongTasksStatsListener=function(e){this.eventEmitter.on(l.e,e)},C.prototype.attachLongTasksStats=function(e){var t=this;d.a.supportsPerformanceObserver()?(this.performanceObserverStats=new g.a(this.eventEmitter,C.longTasksStatsInterval),e.on(s.CONFERENCE_JOINED,(function(){return t.performanceObserverStats.startObserver()})),e.on(s.CONFERENCE_LEFT,(function(){return t.performanceObserverStats.stopObserver()}))):b.warn("Performance observer for long tasks not supported by browser!")},C.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null},C.prototype.removeLongTasksStatsListener=function(e){this.eventEmitter.removeListener(l.e,e)},C.prototype.setSpeakerList=function(e){for(var t=0,n=Array.from(this.rtpStatsMap.values());t<n.length;t++){var r=n[t];r.peerconnection.isP2P||r.setSpeakerList(e)}},C.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(l.b);var e,t=Object(i.a)(this.callsStatsInstances.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.stopCallStats(n.tpc)}}catch(s){t.e(s)}finally{t.f()}var r,o=Object(i.a)(this.rtpStatsMap.keys());try{for(o.s();!(r=o.n()).done;){var a=r.value;this._stopRemoteStats(a)}}catch(s){o.e(s)}finally{o.f()}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{C.instances.delete(this)}},C.stopLocalStats=function(e){if(C.audioLevelsEnabled)for(var t=0;t<C.localStats.length;t++)if(C.localStats[t].stream===e){C.localStats.splice(t,1)[0].stop();break}},C.prototype._stopRemoteStats=function(e){var t=this.rtpStatsMap.get(e);t&&(t.stop(),this.rtpStatsMap.delete(e))},C.prototype.stopRemoteStats=function(e){this._stopRemoteStats(e.id)},C.prototype.startCallStats=function(e,t){if(this.callStatsIntegrationEnabled)if(this.callsStatsInstances.has(e.id))b.error("CallStats instance for ${tpc} exists already");else{var n=this.options.confID;n.endsWith(this.options.roomName)||(n="".concat(this.options.confID.slice(0,this.options.confID.lastIndexOf("/")),"/").concat(this.options.roomName)),b.info("Starting CallStats for ".concat(e,"..."));var r=new m.a(e,{confID:n,remoteUserID:t});this.callsStatsInstances.set(e.id,r)}},C._getAllCallStatsInstances=function(){var e,t=new Set,n=Object(i.a)(C.instances);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,a=Object(i.a)(o.callsStatsInstances.values());try{for(a.s();!(r=a.n()).done;){var s=r.value;t.add(s)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}return t},C.prototype.stopCallStats=function(e){var t=this.callsStatsInstances.get(e.id);t&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(l.b),this.callsStatsInstances.delete(e.id),t.sendTerminateEvent())},C.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},C.prototype.sendConnectionResumeOrHoldEvent=function(e,t){var n=this.callsStatsInstances.get(e.id);n&&n.sendResumeOrHoldEvent(t)},C.prototype.sendIceConnectionFailedEvent=function(e){var t=this.callsStatsInstances.get(e.id);t&&t.sendIceConnectionFailedEvent()},C.prototype.sendMuteEvent=function(e,t,n){var r=e&&this.callsStatsInstances.get(e.id);m.a.sendMuteEvent(t,n,r)},C.prototype.sendScreenSharingEvent=function(e,t){var n,r=Object(i.a)(this.callsStatsInstances.values());try{for(r.s();!(n=r.n()).done;){n.value.sendScreenSharingEvent(e,t)}}catch(o){r.e(o)}finally{r.f()}},C.prototype.sendDominantSpeakerEvent=function(e){var t,n=Object(i.a)(this.callsStatsInstances.values());try{for(n.s();!(t=n.n()).done;){t.value.sendDominantSpeakerEvent()}}catch(r){n.e(r)}finally{n.f()}this.xmpp.sendDominantSpeakerEvent(e)},C.sendActiveDeviceListEvent=function(e){var t=C._getAllCallStatsInstances();if(t.size){var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;m.a.sendActiveDeviceListEvent(e,o)}}catch(a){r.e(a)}finally{r.f()}}else m.a.sendActiveDeviceListEvent(e,null)},C.prototype.associateStreamWithVideoTag=function(e,t,n,r,i,o){var a=this.callsStatsInstances.get(e.id);a&&a.associateStreamWithVideoTag(t,n,r,i,o)},C.sendGetUserMediaFailed=function(e){var t=e instanceof c.a?function(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - ".concat(e.gum.error.name):""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t}(e):e,n=C._getAllCallStatsInstances();if(n.size){var r,o=Object(i.a)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;m.a.sendGetUserMediaFailed(t,a)}}catch(s){o.e(s)}finally{o.f()}}else m.a.sendGetUserMediaFailed(t,null)},C.prototype.sendCreateOfferFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateOfferFailed(e)},C.prototype.sendCreateAnswerFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendCreateAnswerFailed(e)},C.prototype.sendSetLocalDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetLocalDescFailed(e)},C.prototype.sendSetRemoteDescFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendSetRemoteDescFailed(e)},C.prototype.sendAddIceCandidateFailed=function(e,t){var n=this.callsStatsInstances.get(t.id);n&&n.sendAddIceCandidateFailed(e)},C.sendLog=function(e){var t,n=new Set,r=Object(i.a)(C.instances);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.callStatsApplicationLogsDisabled)return;o.callsStatsInstances.size&&n.add(o.callsStatsInstances.values().next().value)}}catch(u){r.e(u)}finally{r.f()}if(n.size){var a,s=Object(i.a)(n);try{for(s.s();!(a=s.n()).done;){var c=a.value;m.a.sendApplicationLog(e,c)}}catch(u){s.e(u)}finally{s.f()}}else m.a.sendApplicationLog(e,null)},C.prototype.sendFeedback=function(e,t){return C.analytics.sendEvent(u.n,{rating:e,comment:t}),m.a.sendFeedback(this.options.confID,e,t)},C.LOCAL_JID=n(323).LOCAL_JID,C.reportGlobalError=function(e){e instanceof c.a&&e.gum?C.sendGetUserMediaFailed(e):C.sendLog(e)},C.sendAnalyticsAndLog=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?(t="object"===typeof e?e:{name:e,properties:n},b.log(JSON.stringify(t)),this.analytics.sendEvent(e,n)):b.warn("No event or event name given.")},C.sendAnalytics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(e,t),C.analyticsEventEmitter.emit(s.ANALYTICS_EVENT_RECEIVED,e,t)},C.prototype.addAnalyticsEventListener=function(e){C.analyticsEventEmitter.on(s.ANALYTICS_EVENT_RECEIVED,e)},C.prototype.removeAnalyticsEventListener=function(e){C.analyticsEventEmitter.removeListener(s.ANALYTICS_EVENT_RECEIVED,e)}}).call(this,"/index.js")},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"RTCEvents",(function(){return r})),n.d(t,"CREATE_ANSWER_FAILED",(function(){return i})),n.d(t,"CREATE_OFFER_FAILED",(function(){return o})),n.d(t,"DATA_CHANNEL_OPEN",(function(){return a})),n.d(t,"ENDPOINT_CONN_STATUS_CHANGED",(function(){return s})),n.d(t,"DOMINANT_SPEAKER_CHANGED",(function(){return c})),n.d(t,"LASTN_ENDPOINT_CHANGED",(function(){return u})),n.d(t,"FORWARDED_SOURCES_CHANGED",(function(){return l})),n.d(t,"PERMISSIONS_CHANGED",(function(){return d})),n.d(t,"SENDER_VIDEO_CONSTRAINTS_CHANGED",(function(){return f})),n.d(t,"LASTN_VALUE_CHANGED",(function(){return p})),n.d(t,"LOCAL_TRACK_SSRC_UPDATED",(function(){return h})),n.d(t,"LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED",(function(){return m})),n.d(t,"TRACK_ATTACHED",(function(){return v})),n.d(t,"REMOTE_TRACK_ADDED",(function(){return g})),n.d(t,"REMOTE_TRACK_MUTE",(function(){return y})),n.d(t,"REMOTE_TRACK_REMOVED",(function(){return _})),n.d(t,"REMOTE_TRACK_UNMUTE",(function(){return b})),n.d(t,"SET_LOCAL_DESCRIPTION_FAILED",(function(){return E})),n.d(t,"SET_REMOTE_DESCRIPTION_FAILED",(function(){return S})),n.d(t,"AUDIO_OUTPUT_DEVICE_CHANGED",(function(){return C})),n.d(t,"DEVICE_LIST_CHANGED",(function(){return T})),n.d(t,"DEVICE_LIST_WILL_CHANGE",(function(){return O})),n.d(t,"DEVICE_LIST_AVAILABLE",(function(){return R})),n.d(t,"ENDPOINT_MESSAGE_RECEIVED",(function(){return A})),n.d(t,"ENDPOINT_STATS_RECEIVED",(function(){return w})),n.d(t,"LOCAL_UFRAG_CHANGED",(function(){return k})),n.d(t,"REMOTE_UFRAG_CHANGED",(function(){return P})),function(e){e.CREATE_ANSWER_FAILED="rtc.create_answer_failed",e.CREATE_OFFER_FAILED="rtc.create_offer_failed",e.DATA_CHANNEL_OPEN="rtc.data_channel_open",e.ENDPOINT_CONN_STATUS_CHANGED="rtc.endpoint_conn_status_changed",e.DOMINANT_SPEAKER_CHANGED="rtc.dominant_speaker_changed",e.LASTN_ENDPOINT_CHANGED="rtc.lastn_endpoint_changed",e.FORWARDED_SOURCES_CHANGED="rtc.forwarded_sources_changed",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.SENDER_VIDEO_CONSTRAINTS_CHANGED="rtc.sender_video_constraints_changed",e.LASTN_VALUE_CHANGED="rtc.lastn_value_changed",e.LOCAL_TRACK_SSRC_UPDATED="rtc.local_track_ssrc_updated",e.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED="rtc.local_track_max_enabled_resolution_changed",e.TRACK_ATTACHED="rtc.track_attached",e.REMOTE_TRACK_ADDED="rtc.remote_track_added",e.REMOTE_TRACK_MUTE="rtc.remote_track_mute",e.REMOTE_TRACK_REMOVED="rtc.remote_track_removed",e.REMOTE_TRACK_UNMUTE="rtc.remote_track_unmute",e.SET_LOCAL_DESCRIPTION_FAILED="rtc.set_local_description_failed",e.SET_REMOTE_DESCRIPTION_FAILED="rtc.set_remote_description_failed",e.AUDIO_OUTPUT_DEVICE_CHANGED="rtc.audio_output_device_changed",e.DEVICE_LIST_CHANGED="rtc.device_list_changed",e.DEVICE_LIST_WILL_CHANGE="rtc.device_list_will_change",e.DEVICE_LIST_AVAILABLE="rtc.device_list_available",e.ENDPOINT_MESSAGE_RECEIVED="rtc.endpoint_message_received",e.ENDPOINT_STATS_RECEIVED="rtc.endpoint_stats_received",e.LOCAL_UFRAG_CHANGED="rtc.local_ufrag_changed",e.REMOTE_UFRAG_CHANGED="rtc.remote_ufrag_changed"}(r||(r={}));var i=r.CREATE_ANSWER_FAILED,o=r.CREATE_OFFER_FAILED,a=r.DATA_CHANNEL_OPEN,s=r.ENDPOINT_CONN_STATUS_CHANGED,c=r.DOMINANT_SPEAKER_CHANGED,u=r.LASTN_ENDPOINT_CHANGED,l=r.FORWARDED_SOURCES_CHANGED,d=r.PERMISSIONS_CHANGED,f=r.SENDER_VIDEO_CONSTRAINTS_CHANGED,p=r.LASTN_VALUE_CHANGED,h=r.LOCAL_TRACK_SSRC_UPDATED,m=r.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,v=r.TRACK_ATTACHED,g=r.REMOTE_TRACK_ADDED,y=r.REMOTE_TRACK_MUTE,_=r.REMOTE_TRACK_REMOVED,b=r.REMOTE_TRACK_UNMUTE,E=r.SET_LOCAL_DESCRIPTION_FAILED,S=r.SET_REMOTE_DESCRIPTION_FAILED,C=r.AUDIO_OUTPUT_DEVICE_CHANGED,T=r.DEVICE_LIST_CHANGED,O=r.DEVICE_LIST_WILL_CHANGE,R=r.DEVICE_LIST_AVAILABLE,A=r.ENDPOINT_MESSAGE_RECEIVED,w=r.ENDPOINT_STATS_RECEIVED,k=r.LOCAL_UFRAG_CHANGED,P=r.REMOTE_UFRAG_CHANGED;t.default=r},function(e,t,n){e.exports=n(346)()},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(10),a=n(11),s=Object(o.getLogger)("FeatureFlags"),c=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"init",value:function(e){var t;this._runInLiteMode=Boolean(e.runInLiteMode),this._sourceNameSignaling=Boolean(e.sourceNameSignaling),this._sendMultipleVideoStreams=Boolean(e.sendMultipleVideoStreams),this._ssrcRewriting=Boolean(e.ssrcRewritingOnBridgeSupported),this._usesUnifiedPlan=a.a.supportsUnifiedPlan()&&(!a.a.isChromiumBased()||null===(t=e.enableUnifiedOnChrome)||void 0===t||t),s.info("Source name signaling: ".concat(this._sourceNameSignaling,",")+" Send multiple video streams: ".concat(this._sendMultipleVideoStreams,",")+" SSRC rewriting supported: ".concat(this._ssrcRewriting,",")+" uses Unified plan: ".concat(this._usesUnifiedPlan))}},{key:"isMultiStreamSupportEnabled",value:function(){return this._sourceNameSignaling&&this._sendMultipleVideoStreams&&this._usesUnifiedPlan}},{key:"isRunInLiteModeEnabled",value:function(){return this._runInLiteMode}},{key:"isSourceNameSignalingEnabled",value:function(){return this._sourceNameSignaling}},{key:"isSsrcRewritingSupported",value:function(){return this._ssrcRewriting}}]),e}();t.a=new c},function(e,t,n){"use strict";(function(e){var r=n(31),i=n(12),o=n(10),a=n(46),s=n.n(a),c=n(28),u=n(11),l=n(114),d=n.n(l),f=Object(o.getLogger)(e),p={filterSpecialChars:function(e){return e?e.replace(/[\\\/\{,\}\+]/g,""):e},iceparams:function(e,t){var n,r,i=null;return(r=p.findLine(e,"a=ice-ufrag:",t))&&(n=p.findLine(e,"a=ice-pwd:",t))&&(i={ufrag:p.parseICEUfrag(r),pwd:p.parseICEPwd(n)}),i},parseICEUfrag:function(e){return e.substring(12)},buildICEUfrag:function(e){return"a=ice-ufrag:".concat(e)},parseICEPwd:function(e){return e.substring(10)},buildICEPwd:function(e){return"a=ice-pwd:".concat(e)},parseMID:function(e){return e.substring(6)},parseMSIDAttribute:function(e){var t=e.find((function(e){return e.indexOf(" msid:")>0}));if(t){var n=t.substring(t.indexOf(" msid:")+6);return p.filterSpecialChars(n)}},parseMLine:function(e){var t={},n=e.substring(2).split(" ");return t.media=n.shift(),t.port=n.shift(),t.proto=n.shift(),""===n[n.length-1]&&n.pop(),t.fmt=n,t},buildMLine:function(e){return"m=".concat(e.media," ").concat(e.port," ").concat(e.proto," ").concat(e.fmt.join(" "))},parseRTPMap:function(e){var t={},n=e.substring(9).split(" ");return t.id=n.shift(),n=n[0].split("/"),t.name=n.shift(),t.clockrate=n.shift(),t.channels=n.length?n.shift():"1",t},parseSCTPMap:function(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null]},parseSCTPPort:function(e){return e.substring(12)},buildRTPMap:function(e){var t="a=rtpmap:".concat(e.getAttribute("id")," ").concat(e.getAttribute("name"),"/").concat(e.getAttribute("clockrate"));return e.getAttribute("channels")&&"1"!==e.getAttribute("channels")&&(t+="/".concat(e.getAttribute("channels"))),t},parseCrypto:function(e){var t={},n=e.substring(9).split(" ");return t.tag=n.shift(),t["crypto-suite"]=n.shift(),t["key-params"]=n.shift(),n.length&&(t["session-params"]=n.join(" ")),t},parseFingerprint:function(e){var t={},n=e.substring(14).split(" ");return t.hash=n.shift(),t.fingerprint=n.shift(),t},parseFmtp:function(e){var t=[],n=e.split(" ");n.shift(),n=n.join(" ").split(";");for(var r=0;r<n.length;r++){for(var i=n[r].split("=")[0];i.length&&" "===i[0];)i=i.substring(1);var o=n[r].split("=")[1];i&&o?t.push({name:i,value:o}):i&&t.push({name:"",value:i})}return t},parseICECandidate:function(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:f.debug('parseICECandidate not translating "'.concat(n[r],'" = "').concat(n[r+1],'"'))}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},buildICECandidate:function(e){var t=["a=candidate:".concat(e.foundation),e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",t+=" ",t+=e.hasOwnAttribute("generation")?e.generation:"0"},parseSSRC:function(e){for(var t=new Map,n=e.split("\r\n"),r=0;r<n.length;r++)if("a=ssrc:"===n[r].substring(0,7)){var i=n[r].split("a=ssrc:")[1].split(" ")[0];t.get(i)||t.set(i,[]),t.get(i).push(n[r])}return t},parseSourceNameLine:function(e){var t=e.find((function(e){return e.indexOf(" name:")>0}));return null===t||void 0===t?void 0:t.substring(t.indexOf(" name:")+6)},parseRTCPFB:function(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parseExtmap:function(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1===n.value.indexOf("/")?n.direction="both":(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))),n.uri=t.shift(),n.params=t,n},findLine:function(e,t,n){for(var r=e.split("\r\n"),i=0;i<r.length;i++)if(r[i].substring(0,t.length)===t)return r[i];if(!n)return!1;r=n.split("\r\n");for(var o=0;o<r.length;o++)if(r[o].substring(0,t.length)===t)return r[o];return!1},findLines:function(e,t,n){for(var r=e.split("\r\n"),i=[],o=0;o<r.length;o++)r[o].substring(0,t.length)===t&&i.push(r[o]);if(i.length||!n)return i;r=n.split("\r\n");for(var a=0;a<r.length;a++)r[a].substring(0,t.length)===t&&i.push(r[a]);return i},candidateToJingle:function(e){if(0===e.indexOf("candidate:"))e="a=".concat(e);else if("a=candidate:"!==e.substring(0,12))return f.warn("parseCandidate called with a line that is not a candidate line"),f.warn(e),null;"\r\n"===e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t={},n=e.split(" ");if("typ"!==n[6])return f.warn("did not find typ in the right place"),f.warn(e),null;t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0";for(var r=8;r<n.length;r+=2)switch(n[r]){case"raddr":t["rel-addr"]=n[r+1];break;case"rport":t["rel-port"]=n[r+1];break;case"generation":t.generation=n[r+1];break;case"tcptype":t.tcptype=n[r+1];break;default:f.debug('not translating "'.concat(n[r],'" = "').concat(n[r+1],'"'))}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},candidateFromJingle:function(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(u.a.isFirefox()&&"ssltcp"===n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" ".concat(e.getAttribute("type")),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ")}return"tcp"===n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",t+=e.getAttribute("generation")||"0","".concat(t,"\r\n")},parsePrimaryVideoSsrc:function(e){var t=e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length,n=e.ssrcGroups&&e.ssrcGroups.length||0;if(!(t>1&&0===n)){var r=null;if(1===t)r=e.ssrcs[0].id;else if(2===t){var i=e.ssrcGroups.find((function(e){return"FID"===e.semantics}));i&&(r=i.ssrcs.split(" ")[0])}else if(t>=3){var o=e.ssrcGroups.find((function(e){return"SIM"===e.semantics}));o&&(r=o.ssrcs.split(" ")[0])}return r}},generateSsrc:function(){return d.a.randomInt(1,4294967295)},getSsrcAttribute:function(e,t,n){for(var r=0;r<e.ssrcs.length;++r){var i=e.ssrcs[r];if(i.id===t&&i.attribute===n)return i.value}},parseGroupSsrcs:function(e){return e.ssrcs.split(" ").map((function(e){return parseInt(e,10)}))},getMedia:function(e,t){return e.media.find((function(e){return e.type===t}))},getUfrag:function(e){var t=e.split("\n").filter((function(e){return e.startsWith("a=ice-ufrag:")}));if(t.length>0)return t[0].substr(12)},preferCodec:function(e,t){if(e&&t){var n=e.rtp.filter((function(e){return e.codec&&e.codec.toLowerCase()===t.toLowerCase()})).map((function(e){return e.payload}));if(n){var r,o=e.payloads.toString().split(" ").map((function(e){return parseInt(e,10)})),a=Object(i.a)(n.reverse());try{for(a.s();!(r=a.n()).done;){var s=r.value,c=o.indexOf(s);o.splice(c,1),o.unshift(s)}}catch(u){a.e(u)}finally{a.f()}e.payloads=o.join(" ")}}},stripCodec:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t){var o,a=[],u=[],l=t.toLowerCase()===s.a.H264&&n,d=Object(i.a)(e.rtp);try{for(d.s();!(o=d.n()).done;){var f=o.value;f.codec&&f.codec.toLowerCase()===t.toLowerCase()&&(l?a.push(f.payload):u.push(f.payload))}}catch(g){d.e(g)}finally{d.f()}if(l&&(u=e.fmtp.filter((function(e){return a.indexOf(e.payload)>-1&&e.config.includes("profile-level-id=64")})).map((function(e){return e.payload}))),u.length>0){var p,h=u.map((function(e){return"apt=".concat(e)})),m=e.fmtp.filter((function(e){return-1!==h.indexOf(e.config)}));(p=u).push.apply(p,Object(r.a)(m.map((function(e){return e.payload}))));var v=e.payloads.toString().split(" ").map(Number).filter((function(e){return-1===u.indexOf(e)}));0===v.length?(e.port=0,e.direction=c.a.INACTIVE,e.payloads="*"):e.payloads=v.join(" "),e.rtp=e.rtp.filter((function(e){return-1!==v.indexOf(e.payload)})),e.fmtp=e.fmtp.filter((function(e){return-1!==v.indexOf(e.payload)})),e.rtcpFb&&(e.rtcpFb=e.rtcpFb.filter((function(e){return-1!==v.indexOf(e.payload)})))}}}};t.a=p}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n.n(o),s=n(89),c=n.n(s),u=n(360),l=n(358),d=n(189),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,f=void 0!==s&&s,p=t.name,h=Object(i.a)(t,["defaultTheme","withTheme","name"]);var m=p,v=Object(u.a)(e,Object(r.a)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:m},h)),g=a.a.forwardRef((function(e,t){e.classes;var s,c=e.innerRef,u=Object(i.a)(e,["classes","innerRef"]),h=v(Object(r.a)({},n.defaultProps,e)),m=u;return("string"===typeof p||f)&&(s=Object(d.a)()||o,p&&(m=Object(l.a)({theme:s,name:p,props:u})),f&&!m.theme&&(m.theme=s)),a.a.createElement(n,Object(r.a)({ref:c||t,classes:h},m))}));return c()(g,n),g}},p=n(107);t.a=function(e,t){return f(e,Object(r.a)({defaultTheme:p.a},t))}},function(e,t,n){"use strict";var r;n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return o})),n.d(t,"v",(function(){return a})),n.d(t,"w",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return R})),n.d(t,"z",(function(){return A})),n.d(t,"B",(function(){return w})),n.d(t,"A",(function(){return k})),n.d(t,"C",(function(){return P})),n.d(t,"D",(function(){return N})),n.d(t,"E",(function(){return I})),n.d(t,"I",(function(){return D})),n.d(t,"L",(function(){return M})),n.d(t,"F",(function(){return x})),n.d(t,"G",(function(){return L})),n.d(t,"H",(function(){return j})),n.d(t,"J",(function(){return F})),n.d(t,"K",(function(){return U})),n.d(t,"M",(function(){return V})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return B})),n.d(t,"N",(function(){return G})),function(e){e.TYPE_OPERATIONAL="operational",e.TYPE_PAGE="page",e.TYPE_TRACK="track",e.TYPE_UI="ui",e.ACTION_JINGLE_RESTART="restart",e.ACTION_JINGLE_SA_TIMEOUT="session-accept.timeout",e.ACTION_JINGLE_SI_RECEIVED="session-initiate.received",e.ACTION_JINGLE_SI_TIMEOUT="session-initiate.timeout",e.ACTION_JINGLE_TERMINATE="terminate",e.ACTION_JINGLE_TR_RECEIVED="transport-replace.received",e.ACTION_JINGLE_TR_SUCCESS="transport-replace.success",e.ACTION_P2P_DECLINED="decline",e.ACTION_P2P_ESTABLISHED="established",e.ACTION_P2P_FAILED="failed",e.ACTION_P2P_SWITCH_TO_JVB="switch.to.jvb",e.AVAILABLE_DEVICE="available.device",e.CONNECTION_DISCONNECTED="connection.disconnected",e.FEEDBACK="feedback",e.ICE_DURATION="ice.duration",e.ICE_ESTABLISHMENT_DURATION_DIFF="ice.establishment.duration.diff",e.ICE_STATE_CHANGED="ice.state.changed",e.NO_BYTES_SENT="track.no-bytes-sent",e.TRACK_UNMUTED="track.unmuted"}(r||(r={}));var i=r.TYPE_OPERATIONAL,o=r.TYPE_PAGE,a=r.TYPE_TRACK,s=r.TYPE_UI,c=r.ACTION_JINGLE_RESTART,u=r.ACTION_JINGLE_SA_TIMEOUT,l=r.ACTION_JINGLE_SI_RECEIVED,d=r.ACTION_JINGLE_SI_TIMEOUT,f=r.ACTION_JINGLE_TERMINATE,p=r.ACTION_JINGLE_TR_RECEIVED,h=r.ACTION_JINGLE_TR_SUCCESS,m=r.ACTION_P2P_DECLINED,v=r.ACTION_P2P_ESTABLISHED,g=r.ACTION_P2P_FAILED,y=r.ACTION_P2P_SWITCH_TO_JVB,_=r.AVAILABLE_DEVICE,b=r.CONNECTION_DISCONNECTED,E=r.FEEDBACK,S=r.ICE_DURATION,C=r.ICE_ESTABLISHMENT_DURATION_DIFF,T=r.ICE_STATE_CHANGED,O=r.NO_BYTES_SENT,R=r.TRACK_UNMUTED,A=function(){return{action:"bridge.down",actionSubject:"bridge.down",type:i}},w=function(e,t,n){return{type:r.TYPE_OPERATIONAL,action:"connection.failed",attributes:Object.assign({error_type:e,error_message:t},n)}},k=function(e,t){return{action:e,attributes:t,source:"conference",type:r.TYPE_OPERATIONAL}},P=function(e,t){return{action:"connection.stage.reached",actionSubject:e,attributes:t,source:"connection.stage.reached",type:r.TYPE_OPERATIONAL}},N=function(){return{action:"focus.left",actionSubject:"focus.left",type:r.TYPE_OPERATIONAL}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,source:"get.user.media",action:e,attributes:t}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.TYPE_OPERATIONAL,source:"peer.conn.status",action:"duration",attributes:e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.TYPE_OPERATIONAL,source:"track.streaming.status",action:"duration",attributes:e}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,action:e,source:"jingle",attributes:t}},L=function(e,t){return{attributes:{media_type:e,value:t},action:"track.no.data.from.source",type:r.TYPE_OPERATIONAL}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.TYPE_OPERATIONAL,action:e,source:"p2p",attributes:t}},F=function(e){return{type:r.TYPE_OPERATIONAL,action:"remotely.muted",mediaType:e}},U=function(e){return{type:r.TYPE_OPERATIONAL,action:"rtp.stats",attributes:e}},V=function(e){return{type:r.TYPE_OPERATIONAL,action:"transport.stats",attributes:e}},H=function(e,t,n){return{type:r.TYPE_OPERATIONAL,action:"audio.output.problem",attributes:{userID:e,localAudioLevels:t,remoteAudioLevels:n}}},B=function(e,t){return{type:r.TYPE_OPERATIONAL,action:"bridge-channel.error",attributes:{code:e,reason:t}}},G=function(e){return P("ttfm",e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(153);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(53);var i=n(65),o=n(29);function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(r.a)(e);if(t){var s=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===Object(i.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(e)}(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(9);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b}));var r=n(0),i=n.n(r),o=i.a.createContext(null);var a=function(e){e()},s=function(){return a};var c={notify:function(){},get:function(){return[]}};function u(e,t){var n,r=c;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=c)},getListeners:function(){return r}};return a}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var d=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=u(t);return{store:t,subscription:e}}),[t]),c=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var d=n||o;return i.a.createElement(d.Provider,{value:s},a)};n(1),n(54),n(89),n(140);function f(){return Object(r.useContext)(o)}function p(e){void 0===e&&(e=o);var t=e===o?f:function(){return Object(r.useContext)(e)};return function(){return t().store}}var h=p();function m(e){void 0===e&&(e=o);var t=e===o?h:p(e);return function(){return t().dispatch}}var v=m(),g=function(e,t){return e===t};function y(e){void 0===e&&(e=o);var t=e===o?f:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var i=t(),o=function(e,t,n,i){var o,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return u(n,i)}),[n,i]),c=Object(r.useRef)(),d=Object(r.useRef)(),f=Object(r.useRef)(),p=Object(r.useRef)(),h=n.getState();try{if(e!==d.current||h!==f.current||c.current){var m=e(h);o=void 0!==p.current&&t(m,p.current)?p.current:m}else o=p.current}catch(v){throw c.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),v}return l((function(){d.current=e,f.current=h,p.current=o,c.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===f.current)return;var r=d.current(e);if(t(r,p.current))return;p.current=r,f.current=e}catch(v){c.current=v}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(o),o}}var _,b=y(),E=n(42);_=E.unstable_batchedUpdates,a=_},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.INACTIVE="inactive",e.RECVONLY="recvonly",e.SENDONLY="sendonly",e.SENDRECV="sendrecv"}(r||(r={}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(210);var i=n(126),o=n(211);function a(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(141);var i=n(213),o=n(126);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"VideoType",(function(){return r})),function(e){e.CAMERA="camera",e.DESKTOP="desktop"}(r||(r={}))},function(e,t,n){"use strict";(function(e){var r=n(12),i=(n(355),n(10)),o=n.n(i),a=n(44),s=n(4),c=n(295),u=n(98),l=n(61),d=n(175),f=n(118),p=n(50),h=n(41),m=n(39),v=n(157),g=n(37),y=n(11),_=n(131),b=n(128),E=n(144),S=n(272),C=n(55),T=n(160),O=n(20),R=n(273),A=n(275),w=n(71),k=n(154),P=n(276),N=n(17),I=n(277),D=n.n(I),M=n(36),x=n.n(M),L=n(127),j=n.n(L),F=n(59),U=n(278),V=n(8),H=n(75),B=n(162),G=n(23),J=n(148),W=n(135),z=n(283),K=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},q=o.a.getLogger(e);function $(e){var t={audio_requested:e.devices.includes("audio"),video_requested:e.devices.includes("video"),screen_sharing_requested:e.devices.includes("desktop")};return t.video_requested&&(t.resolution=e.resolution),t}t.a=function(e){return"object"===typeof window.SariskaMediaTransport?Object.assign({},window.SariskaMediaTransport,e):e}({version:"{#COMMIT_HASH#}",JitsiConnection:c.a,ProxyConnectionService:R.a,effects:{createPresenterEffect:J.a,createRnnoiseProcessor:J.b,createScreenshotCaptureEffect:J.c,createVirtualBackgroundEffect:J.d},constants:{participantConnectionStatus:b.a,recording:A.a,sipVideoGW:F,transcriptionStatus:v,trackStreamingStatus:E.a},events:{conference:s,connection:l,detection:C,track:m,mediaDevices:f,connectionQuality:H,e2eping:B},errors:{conference:a,connection:u,track:h},errorTypes:{JitsiTrackError:p.a},logLevels:o.a.levels,mediaDevices:d.a,analytics:N.a.analytics,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.init(e)},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e=Object.assign(Object.assign({},W.d),e),w.a.init(e.externalStorage),N.a.init(e),"undefined"!==typeof e.enableUnifiedOnChrome&&e.flags&&(e.flags.enableUnifiedOnChrome=e.enableUnifiedOnChrome),O.a.init(e.flags||{}),window.connectionTimes||(window.connectionTimes={}),!0!==e.enableAnalyticsLogging&&(q.warn("Analytics disabled, disposing."),this.analytics.dispose()),e.enableWindowOnErrorHandler&&x.a.addHandler(this.getGlobalOnErrorHandler.bind(this)),this.version){var t={id:"component_version",component:"sariska-media-transport",version:this.version};N.a.sendLog(JSON.stringify(t))}return g.a.init(e)},isDesktopSharingEnabled:function(){return g.a.isDesktopSharingEnabled()},isWebRtcSupported:function(){return g.a.isWebRtcSupported()},setLogLevel:function(e){o.a.setLogLevel(e)},setLogLevelById:function(e,t){o.a.setLogLevelById(e,t)},addGlobalLogTransport:function(e){o.a.addGlobalTransport(e)},removeGlobalLogTransport:function(e){o.a.removeGlobalTransport(e)},setGlobalLogOptions:function(e){o.a.setGlobalOptions(e)},createLocalTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(window.location.href.indexOf("iAmRecorder")>=0)return[];var i=!1,o=t.firePermissionPromptIsShownEvent,a=t.fireSlowPromiseEvent,s=K(t,["firePermissionPromptIsShownEvent","fireSlowPromiseEvent"]);return(o||n)&&!g.a.arePermissionsGrantedForAvailableDevices()?d.a.emitEvent(f.PERMISSION_PROMPT_IS_SHOWN,y.a.getName()):a&&window.setTimeout((function(){i||d.a.emitEvent(f.SLOW_GET_USER_MEDIA)}),1e3),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),g.a.obtainAudioAndVideoPermissions(s).then((function(t){if(i=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),N.a.sendAnalytics(Object(G.E)("success",$(s))),!g.a.options.disableAudioLevels)for(var n=function(){var e=t[o],n=e.getOriginalStream();e.getType()===V.a.AUDIO&&(N.a.startLocalStats(n,e.setAudioLevel.bind(e)),e.addEventListener(m.LOCAL_TRACK_STOPPED,(function(){N.a.stopLocalStats(n)})))},o=0;o<t.length;o++)n();var a=g.a.getCurrentlyAvailableMediaDevices();if(a)for(var c=0;c<t.length;c++){t[c]._setRealDeviceIdFromDeviceList(a)}var u,l=Object(r.a)(t);try{for(l.s();!(u=l.n()).done;){var d=u.value;d.type===V.a.VIDEO&&"desktop"===d.videoType&&e.setVideoTrackContentHints(d.track,"detail")}}catch(f){l.e(f)}finally{l.f()}return t})).catch((function(e){if(i=!0,e.name===h.SCREENSHARING_USER_CANCELED){var n={id:"screensharing_user_canceled",message:e.message};N.a.sendLog(JSON.stringify(n)),N.a.sendAnalytics(Object(G.E)("warning",{reason:"extension install user canceled"}))}else if(e.name===h.NOT_FOUND){var r={id:"usermedia_missing_device",status:e.gum.devices};N.a.sendLog(JSON.stringify(r));var o=$(t);o.reason="device not found",o.devices=e.gum.devices.join("."),N.a.sendAnalytics(Object(G.E)("error",o))}else{N.a.sendGetUserMediaFailed(e);var a=$(t);a.reason=e.name,N.a.sendAnalytics(Object(G.E)("error",a))}return window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(e)}))},createTrackVADEmitter:function(e,t,n){return T.a.create(e,t,n)},createAudioMixer:function(){return new U.a},getActiveAudioDevice:function(){return Object(S.a)()},isDeviceListAvailable:function(){return q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return N.a.audioLevelsEnabled&&k.a.isLocalStatsSupported()},enumerateDevices:function(e){q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,r,i){q.error("UnhandledError: ".concat(e),"Script: ".concat(t),"Line: ".concat(n),"Column: ".concat(r),"StackTrace: ",i),N.a.reportGlobalError(i)},setNetworkInfo:function(e){var t=e.isOnline;N.a.sendAnalytics(z.a({isOnline:t})),_.b.updateNetworkInfo({isOnline:t})},setVideoTrackContentHints:function(e,t){"contentHint"in e?(e.contentHint=t,e.contentHint!==t&&q.debug("Invalid video track contentHint")):q.debug("MediaStreamTrack contentHint attribute not supported")},precallTest:P.a,util:{AuthUtil:D.a,ScriptUtil:j.a,browser:y.a}})}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(297);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";(function(e){var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(47),u=n.n(c),l=n(91),d=n.n(l),f=n(50),p=n(41),h=n(116),m=n.n(h),v=n(18),g=n(159),y=n.n(g),_=n(32),b=n(23),E=n(11),S=n(21),C=n(17),T=n(36),O=n.n(T),R=n(48),A=n(83),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},k=Object(s.getLogger)(e);E.a.usesAdapter()&&n(356);var P,N=new u.a,I={video:{height:{ideal:720,max:720,min:180},width:{ideal:1280,max:1280,min:320}}},D="default",M=!1,x=!1,L=!1,j=!1,F=!1,U=null,V=document.createElement("audio"),H="undefined"!==typeof V.setSinkId,B=[];function G(){}function J(e,t){var n=Boolean(t)&&t.getAudioTracks().length>0,r=Boolean(t)&&t.getVideoTracks().length>0,i={};-1!==e.indexOf("video")&&(i.video=r),-1!==e.indexOf("audio")&&(i.audio=n),N.emit(v.default.PERMISSIONS_CHANGED,i)}function W(e){var t=e.filter((function(e){return"audioinput"===e.kind})).length,n=e.filter((function(e){return"audiooutput"===e.kind})).length,r=e.filter((function(e){return"videoinput"===e.kind})).length,i=e.filter((function(e){return"videooutput"===e.kind})).length;e.forEach((function(e){var o={audio_input_device_count:t,audio_output_device_count:n,video_input_device_count:r,video_output_device_count:i,device_id:e.deviceId,device_group_id:e.groupId,device_kind:e.kind,device_label:e.label};C.a.sendAnalytics(b.l,o)}))}function z(e){(function(e){return e.length!==B.length||e.map(t).sort().join("")!==B.map(t).sort().join("");function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}})(e)&&(B=e.slice(0),k.info("list of media devices has changed:",B),W(B),N.emit(v.default.DEVICE_LIST_WILL_CHANGE,B),N.emit(v.default.DEVICE_LIST_CHANGED,B))}var K=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){return Object(r.a)(this,n),t.call(this,N)}return Object(i.a)(n,[{key:"init",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof r.disableAEC&&(L=r.disableAEC,k.info("Disable AEC: ".concat(L))),"boolean"===typeof r.disableNS&&(j=r.disableNS,k.info("Disable NS: ".concat(j))),"boolean"===typeof r.disableAP&&(x=r.disableAP,k.info("Disable AP: ".concat(x))),"boolean"===typeof r.disableAGC&&(F=r.disableAGC,k.info("Disable AGC: ".concat(F))),"boolean"===typeof(null===(e=r.audioQuality)||void 0===e?void 0:e.stereo)&&(U=r.audioQuality.stereo,k.info("Stereo: ".concat(U))),window.clearInterval(P),P=void 0,E.a.isReactNative()?(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(e){var t=e.id;return"number"===typeof t?t:S.a.filterSpecialChars(t)},this.getTrackID=function(e){return e.id}):(this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(t=function(e,t){e&&(e.srcObject=t)},function(e,n){var r=t.apply(q,arguments);return n&&q.isDeviceChangeAvailable("output")&&n.getAudioTracks&&n.getAudioTracks().length&&M&&e.setSinkId(q.getAudioOutputDevice()).catch((function(t){var n=new f.a(t,null,["audiooutput"]);O.a.callUnhandledRejectionHandler({promise:this,reason:n}),k.warn("Failed to set audio output device for the element. Default audio output device will be used instead",e,n)})),r}),this.getStreamID=function(e){return e.id},this.getTrackID=function(e){return e.id}),this.pcConstraints={},A.b.init(r),this.isDeviceListAvailable()&&this.enumerateDevices((function(e){B=e.slice(0),k.debug("Available devices: ",B),W(B),N.emit(v.default.DEVICE_LIST_AVAILABLE,B),E.a.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener("devicechange",(function(){return n.enumerateDevices(G)})):P=window.setInterval((function(){return n.enumerateDevices(G)}),3e3)}))}},{key:"enumerateDevices",value:function(e){navigator.mediaDevices.enumerateDevices().then((function(t){z(t),e(t)})).catch((function(t){k.warn("Failed to  enumerate devices. ".concat(t)),z([]),e([])}))}},{key:"_getUserMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,i){var o,a=!1;"number"===typeof n&&!isNaN(n)&&n>0&&(o=setTimeout((function(){a=!0,o=void 0,i(new f.a(p.TIMEOUT))}),n)),navigator.mediaDevices.getUserMedia(t).then((function(t){k.log("onUserMediaSuccess"),J(e,t),a||("undefined"!==typeof o&&clearTimeout(o),r(t))})).catch((function(n){k.warn("Failed to get access to local media. ".concat(n," ").concat(JSON.stringify(t)));var r=new f.a(n,t,e);a||("undefined"!==typeof o&&clearTimeout(o),i(r)),r.name===p.PERMISSION_DENIED&&J(e,void 0)}))}))}},{key:"_getDesktopMedia",value:function(){return A.b.isSupported()?new Promise((function(e,t){A.b.obtainStream((function(t){e(t)}),(function(e){t(e)}))})):Promise.reject(new Error("Desktop sharing is not supported!"))}},{key:"_getMissingTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=e.includes("audio"),i=t&&t.getAudioTracks().length>0;r&&!i&&n.push("audio");var o=e.includes("video"),a=t&&t.getVideoTracks().length>0;return o&&!a&&n.push("video"),n}},{key:"obtainAudioAndVideoPermissions",value:function(e){var t=this,n=e.timeout,r=w(e,["timeout"]),i=[],o=function(){if(!(-1!==(r.devices||[]).indexOf("desktop")))return Promise.resolve();var e=r.desktopSharingSourceDevice;if(e){var t=B&&B.find((function(t){return"videoinput"===t.kind&&(t.deviceId===e||t.label===e)}));if(!t)return Promise.reject(new f.a({name:"ConstraintNotSatisfiedError"},{},[e]));var i={video:{deviceId:t.deviceId}};return this._getUserMedia(["video"],i,n).then((function(e){return{sourceType:"device",stream:e}}))}return this._getDesktopMedia()}.bind(this),a=function(){var e=(r.devices||["audio","video"]).filter((function(e){return"audio"===e||"video"===e}));if(!e.length)return Promise.resolve();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d()(t.constraints||I);if(e.indexOf("video")>=0){if(y.a[t.resolution]){var r=y.a[t.resolution];n.video.height={ideal:r.height},n.video.width={ideal:r.width}}if(n.video||(n.video={}),E.a.isWebKitBased()&&(n.video.height&&n.video.height.ideal?n.video.height={ideal:n.video.height.ideal}:k.warn("Ideal camera height missing, camera may not start properly"),n.video.width&&n.video.width.ideal?n.video.width={ideal:n.video.width.ideal}:k.warn("Ideal camera width missing, camera may not start properly")),t.cameraDeviceId)n.video.deviceId=t.cameraDeviceId;else{var i=t.facingMode||m.a.USER;n.video.facingMode=i}}else n.video=!1;return e.indexOf("audio")>=0?(n.audio&&"boolean"!==typeof n.audio||(n.audio={}),n.audio={autoGainControl:!F&&!x,deviceId:t.micDeviceId,echoCancellation:!L&&!x,noiseSuppression:!j&&!x},U&&Object.assign(n.audio,{channelCount:2})):n.audio=!1,n}(e,r);return k.info("Got media constraints: ",JSON.stringify(t)),this._getUserMedia(e,t,n)}.bind(this);return o().then((function(e){if(e){var t=e.stream,n=e.sourceId,r=e.sourceType,o=t.getAudioTracks();if(o.length){var a=new MediaStream(o);i.push({stream:a,sourceId:n,sourceType:r,track:a.getAudioTracks()[0]})}var s=t.getVideoTracks();if(s.length){var c=new MediaStream(s);i.push({stream:c,sourceId:n,sourceType:r,track:c.getVideoTracks()[0],videoType:_.VideoType.DESKTOP})}}})).then(a).then((function(e){if(e){var t=e.getAudioTracks();if(t.length){var n=new MediaStream(t);i.push({stream:n,track:n.getAudioTracks()[0],effects:r.effects})}var o=e.getVideoTracks();if(o.length){var a=new MediaStream(o);i.push({stream:a,track:a.getVideoTracks()[0],videoType:_.VideoType.CAMERA,effects:r.effects})}}})).then((function(){return i})).catch((function(e){return i.forEach((function(e){var n=e.stream;t.stopMediaStream(n)})),Promise.reject(e)}))}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(e){return"output"!==e&&"audiooutput"!==e||H}},{key:"stopMediaStream",value:function(e){e&&(e.getTracks().forEach((function(e){e.stop&&e.stop()})),e.stop&&e.stop(),e.release&&e.release())}},{key:"isDesktopSharingEnabled",value:function(){return A.b.isSupported()}},{key:"setAudioOutputDevice",value:function(e){return this.isDeviceChangeAvailable("output")?V.setSinkId(e).then((function(){D=e,M=!0,k.log("Audio output device set to ".concat(e)),N.emit(v.default.AUDIO_OUTPUT_DEVICE_CHANGED,e)})):Promise.reject(new Error("Audio output device change is not supported"))}},{key:"setDesktopSharingFrameRate",value:function(e){A.b.setDesktopSharingFrameRate(e)}},{key:"getAudioOutputDevice",value:function(){return D}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return B}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return B.some((function(e){return Boolean(e.label)}))}},{key:"getEventDataForActiveDevice",value:function(e){var t=[],n={deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId};return t.push(n),{deviceList:t}}}]),n}(R.a),q=new K;t.a=q}).call(this,"/index.js")},function(e,t){var n=[],r=window.onerror;var i=window.onunhandledrejection;window.onerror=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.forEach((function(e){return e.apply(void 0,t)})),r&&r.apply(void 0,t)},window.onunhandledrejection=function(e){n.forEach((function(t){return t(null,null,null,null,e.reason)})),i&&i(e)};var o={addHandler:function(e){n.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}};e.exports=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(12),i=n(6),o=n(5),a=n(29),s=n(24),c=n(25),u=n(10),l=n(4),d=n(133),f=n.n(d),p=n(8),h=n(18),m=n(11),v=n(20),g=n(36),y=n.n(g),_=n(48),b=n(74),E=n(246),S=n(247),C=n(35),T=n(248),O=Object(u.getLogger)(e),R=0,A=0;function w(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.sourceId,n=e.sourceType,r=e.stream,i=e.track,o=e.videoType,a=e.effects,s=i.getSettings(),c=s.deviceId,u=s.facingMode;return A=Object(b.d)(A),new S.a({deviceId:c,facingMode:u,mediaType:i.kind,rtcId:A,sourceId:t,sourceType:n,stream:r,track:i,videoType:o||null,effects:a})}))}var k=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,n),(r=t.call(this)).conference=e,r.peerConnections=new Map,r.localTracks=[],r.options=o,r._channel=null,r._lastN=void 0,r._lastNEndpoints=null,r._forwardedSources=null,r._maxFrameHeight=void 0,r._selectedEndpoints=null,r._lastNChangeListener=r._onLastNChanged.bind(Object(a.a)(r)),r._forwardedSourcesChangeListener=r._onForwardedSourcesChanged.bind(Object(a.a)(r)),r._onDeviceListChanged=r._onDeviceListChanged.bind(Object(a.a)(r)),r._updateAudioOutputForAudioTracks=r._updateAudioOutputForAudioTracks.bind(Object(a.a)(r)),r._videoType=f.a.NONE,C.a.isDeviceChangeAvailable("output")&&(C.a.addListener(h.default.AUDIO_OUTPUT_DEVICE_CHANGED,r._updateAudioOutputForAudioTracks),C.a.addListener(h.default.DEVICE_LIST_CHANGED,r._onDeviceListChanged)),r}return Object(o.a)(n,[{key:"destroy",value:function(){C.a.removeListener(h.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),C.a.removeListener(h.default.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._channelOpenListener&&this.removeListener(h.default.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(e,t){var n=this;this._channel=new E.a(e,t,this.eventEmitter),this._channelOpenListener=function(){var e=function(e,t,n){y.a.callErrorHandler(e),O.error("Cannot send ".concat(t,"(").concat(JSON.stringify(n),") endpoint message"),e)};if(n._receiverVideoConstraints)try{n._channel.sendNewReceiverVideoConstraintsMessage(n._receiverVideoConstraints)}catch(t){e(t,"ReceiverVideoConstraints",n._receiverVideoConstraints)}if(n._selectedEndpoints)try{n._channel.sendSelectedEndpointsMessage(n._selectedEndpoints)}catch(t){e(t,"SelectedEndpointsChangedEvent",n._selectedEndpoints)}if("undefined"!==typeof n._maxFrameHeight)try{n._channel.sendReceiverVideoConstraintMessage(n._maxFrameHeight)}catch(t){e(t,"ReceiverVideoConstraint",n._maxFrameHeight)}if("undefined"!==typeof n._lastN&&-1!==n._lastN)try{n._channel.sendSetLastNMessage(n._lastN)}catch(t){e(t,"LastNChangedEvent",n._lastN)}if(!v.a.isSourceNameSignalingEnabled())try{n._channel.sendVideoTypeMessage(n._videoType)}catch(t){e(t,"VideoTypeMessage",n._videoType)}},this.addListener(h.default.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(h.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),v.a.isSourceNameSignalingEnabled()&&this.addListener(h.default.FORWARDED_SOURCES_CHANGED,this._forwardedSourcesChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(C.a.getAudioOutputDevice())}},{key:"_onLastNChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this._lastNEndpoints||[];this._lastNEndpoints=r,e=i.filter((function(e){return!n.isInLastN(e)})),t=r.filter((function(e){return-1===i.indexOf(e)})),this.conference.eventEmitter.emit(l.LAST_N_ENDPOINTS_CHANGED,e,t)}},{key:"_onForwardedSourcesChanged",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this._forwardedSources||[];this._forwardedSources=r,e=i.filter((function(e){return!n.isInForwardedSources(e)})),t=r.filter((function(e){return-1===i.indexOf(e)})),this.conference.eventEmitter.emit(l.FORWARDED_SOURCES_CHANGED,e,t,Date.now())}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&"websocket"===this._channel.mode&&this._channel.close(),this._channel=null)}},{key:"setDesktopSharingFrameRate",value:function(e){C.a.setDesktopSharingFrameRate(e)}},{key:"setNewReceiverVideoConstraints",value:function(e){this._receiverVideoConstraints=e,this._channel&&this._channel.isOpen()&&this._channel.sendNewReceiverVideoConstraintsMessage(e)}},{key:"setReceiverVideoConstraint",value:function(e){this._maxFrameHeight=e,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(e)}},{key:"setVideoType",value:function(e){this._videoType!==e&&(this._videoType=e,this._channel&&this._channel.isOpen()&&this._channel.sendVideoTypeMessage(e))}},{key:"sendSourceVideoType",value:function(e,t){this._channel&&this._channel.isOpen()&&this._channel.sendSourceVideoTypeMessage(e,t)}},{key:"selectEndpoints",value:function(e){this._selectedEndpoints=e,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(e)}},{key:"createPeerConnection",value:function(e,t,n,r){var i=JSON.parse(JSON.stringify(C.a.pcConstraints));r.enableInsertableStreams&&(O.debug("E2EE - setting insertable streams constraints"),t.encodedInsertableStreams=!0),(m.a.isReactNative()||m.a.isChromiumBased()&&!r.usesUnifiedPlan)&&(O.debug("WebRTC application is running in plan-b mode"),t.sdpSemantics="plan-b"),r.forceTurnRelay&&(t.iceTransportPolicy="relay"),t.bundlePolicy="max-bundle",R=Object(b.d)(R);var o=new T.a(this,R,e,t,i,n,r);return this.peerConnections.set(o.id,o),o}},{key:"_removePeerConnection",value:function(e){var t=e.id;return!!this.peerConnections.has(t)&&(this.peerConnections.delete(t),!0)}},{key:"addLocalTrack",value:function(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference}},{key:"getForwardedSources",value:function(){return this._forwardedSources}},{key:"getLocalVideoTrack",value:function(){var e=this.getLocalTracks(p.a.VIDEO);return e.length?e[0]:void 0}},{key:"getLocalVideoTracks",value:function(){return this.getLocalTracks(p.a.VIDEO)}},{key:"getLocalAudioTrack",value:function(){var e=this.getLocalTracks(p.a.AUDIO);return e.length?e[0]:void 0}},{key:"getLocalEndpointId",value:function(){return this.conference.myUserId()}},{key:"getLocalTracks",value:function(e){var t=this.localTracks.slice();return void 0!==e&&(t=t.filter((function(t){return t.getType()===e}))),t}},{key:"getRemoteTracks",value:function(e){var t,n=[],i=Object(r.a)(this.peerConnections.values());try{for(i.s();!(t=i.n()).done;){var o=t.value.getRemoteTracks(void 0,e);o&&(n=n.concat(o))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"setAudioMute",value:function(e){var t=[];return this.getLocalTracks(p.a.AUDIO).forEach((function(n){t.push(e?n.mute():n.unmute())})),Promise.all(t)}},{key:"setVideoMute",value:function(e){var t=[];return this.getLocalTracks(p.a.VIDEO).concat(this.getLocalTracks(p.a.PRESENTER)).forEach((function(n){t.push(e?n.mute():n.unmute())})),Promise.all(t)}},{key:"removeLocalTrack",value:function(e){var t=this.localTracks.indexOf(e);-1!==t&&this.localTracks.splice(t,1)}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(h.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(e,t,n,r){var i=e.getTrackBySSRC(t);i&&(i.isAudioTrack()?(i.isLocal()!==r&&O.error("".concat(i," was expected to ").concat(r?"be":"not be"," local")),i.setAudioLevel(n,e)):O.warn("Received audio level for non-audio track: ".concat(t)))}},{key:"sendChannelMessage",value:function(e,t){if(!this._channel)throw new Error("Channel support is disabled!");this._channel.sendMessage(e,t)}},{key:"sendEndpointStatsMessage",value:function(e){this._channel&&this._channel.isOpen()&&this._channel.sendEndpointStatsMessage(e)}},{key:"setLastN",value:function(e){this._lastN!==e&&(this._lastN=e,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(e),this.eventEmitter.emit(h.default.LASTN_VALUE_CHANGED,e))}},{key:"isInLastN",value:function(e){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(e)>-1}},{key:"isInForwardedSources",value:function(e){return!this._forwardedSources||this._forwardedSources.indexOf(e)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(e){var t,n=this.getRemoteTracks(p.a.AUDIO),i=Object(r.a)(n);try{for(i.s();!(t=i.n()).done;){t.value.setAudioOutput(e)}}catch(o){i.e(o)}finally{i.f()}}}],[{key:"createLocalTracks",value:function(e){return w(e)}},{key:"obtainAudioAndVideoPermissions",value:function(e){return C.a.obtainAudioAndVideoPermissions(e).then((function(e){return w(e)}))}},{key:"addListener",value:function(e,t){C.a.addListener(e,t)}},{key:"removeListener",value:function(e,t){C.a.removeListener(e,t)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,C.a.init(this.options)}},{key:"attachMediaStream",value:function(e,t){return C.a.attachMediaStream(e,t)}},{key:"getStreamID",value:function(e){return C.a.getStreamID(e)}},{key:"getTrackID",value:function(e){return C.a.getTrackID(e)}},{key:"isDeviceListAvailable",value:function(){return C.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return C.a.isDeviceChangeAvailable(e)}},{key:"isWebRtcSupported",value:function(){return m.a.isSupported()}},{key:"getAudioOutputDevice",value:function(){return C.a.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return C.a.getCurrentlyAvailableMediaDevices()}},{key:"arePermissionsGrantedForAvailableDevices",value:function(){return C.a.arePermissionsGrantedForAvailableDevices()}},{key:"getEventDataForActiveDevice",value:function(e){return C.a.getEventDataForActiveDevice(e)}},{key:"setAudioOutputDevice",value:function(e){return C.a.setAudioOutputDevice(e)}},{key:"isUserStream",value:function(e){return n.isUserStreamById(C.a.getStreamID(e))}},{key:"isUserStreamById",value:function(e){return e&&"mixedmslabel"!==e&&"default"!==e}},{key:"enumerateDevices",value:function(e){C.a.enumerateDevices(e)}},{key:"stopMediaStream",value:function(e){C.a.stopMediaStream(e)}},{key:"isDesktopSharingEnabled",value:function(){return C.a.isDesktopSharingEnabled()}}]),n}(_.a)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(73);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTrackEvents",(function(){return r})),n.d(t,"LOCAL_TRACK_STOPPED",(function(){return i})),n.d(t,"TRACK_AUDIO_LEVEL_CHANGED",(function(){return o})),n.d(t,"TRACK_AUDIO_OUTPUT_CHANGED",(function(){return a})),n.d(t,"TRACK_MUTE_CHANGED",(function(){return s})),n.d(t,"TRACK_VIDEOTYPE_CHANGED",(function(){return c})),n.d(t,"NO_DATA_FROM_SOURCE",(function(){return u})),n.d(t,"NO_AUDIO_INPUT",(function(){return l})),n.d(t,"TRACK_STREAMING_STATUS_CHANGED",(function(){return d})),function(e){e.LOCAL_TRACK_STOPPED="track.stopped",e.TRACK_AUDIO_LEVEL_CHANGED="track.audioLevelsChanged",e.TRACK_AUDIO_OUTPUT_CHANGED="track.audioOutputChanged",e.TRACK_MUTE_CHANGED="track.trackMuteChanged",e.TRACK_VIDEOTYPE_CHANGED="track.videoTypeChanged",e.NO_DATA_FROM_SOURCE="track.no_data_from_source",e.NO_AUDIO_INPUT="track.no_audio_input",e.TRACK_STREAMING_STATUS_CHANGED="track.streaming_status_changed"}(r||(r={}));var i=r.LOCAL_TRACK_STOPPED,o=r.TRACK_AUDIO_LEVEL_CHANGED,a=r.TRACK_AUDIO_OUTPUT_CHANGED,s=r.TRACK_MUTE_CHANGED,c=r.TRACK_VIDEOTYPE_CHANGED,u=r.NO_DATA_FROM_SOURCE,l=r.NO_AUDIO_INPUT,d=r.TRACK_STREAMING_STATUS_CHANGED},,function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTrackErrors",(function(){return r})),n.d(t,"CONSTRAINT_FAILED",(function(){return i})),n.d(t,"ELECTRON_DESKTOP_PICKER_ERROR",(function(){return o})),n.d(t,"ELECTRON_DESKTOP_PICKER_NOT_FOUND",(function(){return a})),n.d(t,"GENERAL",(function(){return s})),n.d(t,"NOT_FOUND",(function(){return c})),n.d(t,"PERMISSION_DENIED",(function(){return u})),n.d(t,"SCREENSHARING_GENERIC_ERROR",(function(){return l})),n.d(t,"SCREENSHARING_USER_CANCELED",(function(){return d})),n.d(t,"TIMEOUT",(function(){return f})),n.d(t,"TRACK_IS_DISPOSED",(function(){return p})),n.d(t,"TRACK_NO_STREAM_FOUND",(function(){return h})),n.d(t,"UNSUPPORTED_RESOLUTION",(function(){return m})),function(e){e.CONSTRAINT_FAILED="gum.constraint_failed",e.ELECTRON_DESKTOP_PICKER_ERROR="gum.electron_desktop_picker_error",e.ELECTRON_DESKTOP_PICKER_NOT_FOUND="gum.electron_desktop_picker_not_found",e.GENERAL="gum.general",e.NOT_FOUND="gum.not_found",e.PERMISSION_DENIED="gum.permission_denied",e.SCREENSHARING_GENERIC_ERROR="gum.screensharing_generic_error",e.SCREENSHARING_USER_CANCELED="gum.screensharing_user_canceled",e.TIMEOUT="gum.timeout",e.TRACK_IS_DISPOSED="track.track_is_disposed",e.TRACK_NO_STREAM_FOUND="track.no_stream_found",e.UNSUPPORTED_RESOLUTION="gum.unsupported_resolution"}(r||(r={}));var i=r.CONSTRAINT_FAILED,o=r.ELECTRON_DESKTOP_PICKER_ERROR,a=r.ELECTRON_DESKTOP_PICKER_NOT_FOUND,s=r.GENERAL,c=r.NOT_FOUND,u=r.PERMISSION_DENIED,l=r.SCREENSHARING_GENERIC_ERROR,d=r.SCREENSHARING_USER_CANCELED,f=r.TIMEOUT,p=r.TRACK_IS_DISPOSED,h=r.TRACK_NO_STREAM_FOUND,m=r.UNSUPPORTED_RESOLUTION},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(314)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(30),i=n(12),o=n(91),a=n.n(o),s=n(45),c=n.n(s),u=n(28),l=n(11),d=n(20),f=n(21);function p(e){for(var t=e.split("\r\nm="),n=1,r=t.length;n<r;n++){var i="m=".concat(t[n]);n!==r-1&&(i+="\r\n"),t[n]=i}var o="".concat(t.shift(),"\r\n");this.media=t,this.raw=o+t.join(""),this.session=o}p.prototype.failICE=!1,p.prototype.removeTcpCandidates=!1,p.prototype.removeUdpCandidates=!1,p.prototype.addMlineForNewLocalSource=function(e){var t=this.media.length,n=c.a.parse(this.raw),r=a()(n.media.find((function(t){return t.type===e})));r.mid=t,r.direction=u.a.RECVONLY,r.msid=void 0,r.ssrcs=void 0,r.ssrcGroups=void 0,n.media=n.media.concat(r),n.groups.forEach((function(e){if("BUNDLE"===e.type){var n=e.mids.split(" ");n.push(t),e.mids=n.join(" ")}})),this.raw=c.a.write(n)},p.prototype.getMediaSsrcMap=function(){for(var e=this,t={},n=function(){var n=f.a.parseMID(f.a.findLine(e.media[r],"a=mid:")),i={mediaindex:r,mid:n,ssrcs:{},ssrcGroups:[]};t[r]=i,f.a.findLines(e.media[r],"a=ssrc:").forEach((function(e){var t=e.substring(7).split(" ")[0];i.ssrcs[t]||(i.ssrcs[t]={ssrc:t,lines:[]}),i.ssrcs[t].lines.push(e)})),f.a.findLines(e.media[r],"a=ssrc-group:").forEach((function(e){var t=e.indexOf(" "),n=e.substr(0,t).substr(13),r=e.substr(14+n.length).split(" ");r.length&&i.ssrcGroups.push({semantics:n,ssrcs:r})}))},r=0;r<this.media.length;r++)n();return t},p.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach((function(r){n||t[r].ssrcs[e]&&(n=!0)})),n},p.prototype.toJingle=function(e,t){f.a.findLines(this.session,"a=group:").forEach((function(t){var n=t.split(" "),r=n.shift().substr(8);e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:r});for(var i=0;i<n.length;i++)e.c("content",{name:n[i]}).up();e.up()}));for(var n=0;n<this.media.length;n++){var o=f.a.parseMLine(this.media[n].split("\r\n")[0]);if("audio"===o.media||"video"===o.media||"application"===o.media){var a=void 0,s=f.a.findLine(this.media[n],"a=ssrc:");a=!!s&&s.substring(7).split(" ")[0],e.c("content",{creator:t,name:o.media});var c=f.a.findLine(this.media[n],"a=mid:");if(c){var p=f.a.parseMID(c);e.attrs({name:p})}if("audio"===o.media||"video"===o.media){e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:o.media}),a&&e.attrs({ssrc:a});for(var h=0;h<o.fmt.length;h++){var m=f.a.findLine(this.media[n],"a=rtpmap:".concat(o.fmt[h]));e.c("payload-type",f.a.parseRTPMap(m));var v=f.a.findLine(this.media[n],"a=fmtp:".concat(o.fmt[h]));if(v)for(var g=f.a.parseFmtp(v),y=0;y<g.length;y++)e.c("parameter",g[y]).up();this.rtcpFbToJingle(n,e,o.fmt[h]),e.up()}if(a){var _,b=f.a.parseSSRC(this.media[n]),E=Object(i.a)(b);try{for(E.s();!(_=E.n()).done;){var S=Object(r.a)(_.value,2),C=S[0],T=S[1],O=f.a.parseSourceNameLine(T);e.c("source",{ssrc:C,name:d.a.isSourceNameSignalingEnabled()?O:void 0,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"});var R=f.a.parseMSIDAttribute(T);R&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:R}),e.up()),e.up()}}catch(D){E.e(D)}finally{E.f()}f.a.findLines(this.media[n],"a=ssrc-group:").forEach((function(t){var n=t.indexOf(" "),r=t.substr(0,n).substr(13),i=t.substr(14+r.length).split(" ");i.length&&(e.c("ssrc-group",{semantics:r,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),i.forEach((function(t){return e.c("source",{ssrc:t}).up()})),e.up())}))}var A=f.a.findLines(this.media[n],"a=rid:");if(A.length&&l.a.usesRidsForSimulcast()){var w=A.map((function(e){return e.split(":")[1]})).map((function(e){return e.split(" ")[0]}));w.forEach((function(t){e.c("source",{rid:t,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.up()})),f.a.findLine(this.media[n],"a=simulcast:")&&(e.c("rid-group",{semantics:"SIM",xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),w.forEach((function(t){e.c("source",{rid:t}).up()})),e.up())}f.a.findLine(this.media[n],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(n,e,"*");for(var k=f.a.findLines(this.media[n],"a=extmap:"),P=0;P<k.length;P++){var N=f.a.parseExtmap(k[P]);if(e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:N.uri,id:N.value}),N.hasOwnProperty("direction"))switch(N.direction){case u.a.SENDONLY:e.attrs({senders:"responder"});break;case u.a.RECVONLY:e.attrs({senders:"initiator"});break;case u.a.SENDRECV:e.attrs({senders:"both"});break;case u.a.INACTIVE:e.attrs({senders:"none"})}e.up()}e.up()}this.transportToJingle(n,e);var I=this.media[n];f.a.findLine(I,"a=".concat(u.a.SENDRECV),this.session)?e.attrs({senders:"both"}):f.a.findLine(I,"a=".concat(u.a.SENDONLY),this.session)?e.attrs({senders:"initiator"}):f.a.findLine(I,"a=".concat(u.a.RECVONLY),this.session)?e.attrs({senders:"responder"}):f.a.findLine(I,"a=".concat(u.a.INACTIVE),this.session)&&e.attrs({senders:"none"}),"0"!==o.port||f.a.findLine(I,"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up()}}return e.up(),e},p.prototype.transportToJingle=function(e,t){var n=this;t.c("transport");var r=f.a.findLine(this.media[e],"a=sctp-port:",this.session),i=f.a.findLine(this.media[e],"a=sctpmap:",this.session);if(r){var o=f.a.parseSCTPPort(r);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:o,protocol:"webrtc-datachannel"}),t.attrs({streams:0}),t.up()}else if(i){var a=f.a.parseSCTPMap(i);t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:a[0],protocol:a[1]}),a.length>2?t.attrs({streams:a[2]}):t.attrs({streams:0}),t.up()}f.a.findLines(this.media[e],"a=fingerprint:",this.session).forEach((function(r){var i=f.a.parseFingerprint(r);i.xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(i.fingerprint),delete i.fingerprint;var o=f.a.findLine(n.media[e],"a=setup:",n.session);o&&(i.setup=o.substr(8)),t.attrs(i),t.up()}));var s=f.a.iceparams(this.media[e],this.session);s&&(s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(s),f.a.findLines(this.media[e],"a=candidate:",this.session).forEach((function(e){var r=f.a.candidateToJingle(e);n.failICE&&(r.ip="1.1.1.1");var i=r&&"string"===typeof r.protocol?r.protocol.toLowerCase():"";n.removeTcpCandidates&&("tcp"===i||"ssltcp"===i)||n.removeUdpCandidates&&"udp"===i||t.c("candidate",r).up()})));t.up()},p.prototype.rtcpFbToJingle=function(e,t,n){f.a.findLines(this.media[e],"a=rtcp-fb:".concat(n)).forEach((function(e){var n=f.a.parseRTCPFB(e);"trr-int"===n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())}))},p.prototype.rtcpFbFromJingle=function(e,t){var n="",r=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return r.length&&(n+="a=rtcp-fb:* trr-int ",r.attr("value")?n+=r.attr("value"):n+="0",n+="\r\n"),e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]').each((function(e,r){n+="a=rtcp-fb:".concat(t," ").concat(r.getAttribute("type")),r.hasAttribute("subtype")&&(n+=" ".concat(r.getAttribute("subtype"))),n+="\r\n"})),n},p.prototype.fromJingle=function(e){var t=this,n=Date.now();this.raw="v=0\r\n"+"o=- ".concat(n," 2 IN IP4 0.0.0.0\r\n")+"s=-\r\nt=0 0\r\n";var r=$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');r.length&&r.each((function(e,n){var r=$(n).find(">content").map((function(e,t){return t.getAttribute("name")})).get();r.length>0&&(t.raw+="a=group:".concat(n.getAttribute("semantics")||n.getAttribute("type")," ").concat(r.join(" "),"\r\n"))})),this.session=this.raw,e.find(">content").each((function(e,n){var r=t.jingle2media($(n));t.media.push(r)})),this.raw=this.session+this.media.join("")},p.prototype.jingle2media=function(e){var t=this,n=e.find(">description"),r=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),i="",o=r.find('>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),a={media:n.attr("media"),port:"9"};switch("rejected"===e.attr("senders")&&(a.port="0"),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').length?a.proto=o.length?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF":a.proto="UDP/TLS/RTP/SAVPF",o.length?(i+="m=application ".concat(a.port," UDP/DTLS/SCTP webrtc-datachannel\r\n"),i+="a=sctp-port:".concat(o.attr("number"),"\r\n"),i+="a=max-message-size:262144\r\n"):(a.fmt=n.find(">payload-type").map((function(e,t){return t.getAttribute("id")})).get(),i+="".concat(f.a.buildMLine(a),"\r\n")),i+="c=IN IP4 0.0.0.0\r\n",o.length||(i+="a=rtcp:1 IN IP4 0.0.0.0\r\n"),r.length&&(r.attr("ufrag")&&(i+="".concat(f.a.buildICEUfrag(r.attr("ufrag")),"\r\n")),r.attr("pwd")&&(i+="".concat(f.a.buildICEPwd(r.attr("pwd")),"\r\n")),r.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').each((function(e,t){i+="a=fingerprint:".concat(t.getAttribute("hash")),i+=" ".concat($(t).text()),i+="\r\n",t.hasAttribute("setup")&&(i+="a=setup:".concat(t.getAttribute("setup"),"\r\n"))}))),r.find(">candidate").each((function(e,n){var r=n.getAttribute("protocol");r="string"===typeof r?r.toLowerCase():"",t.removeTcpCandidates&&("tcp"===r||"ssltcp"===r)||t.removeUdpCandidates&&"udp"===r||(t.failICE&&n.setAttribute("ip","1.1.1.1"),i+=f.a.candidateFromJingle(n))})),e.attr("senders")){case"initiator":i+="a=".concat(u.a.SENDONLY,"\r\n");break;case"responder":i+="a=".concat(u.a.RECVONLY,"\r\n");break;case"none":i+="a=".concat(u.a.INACTIVE,"\r\n");break;case"both":i+="a=".concat(u.a.SENDRECV,"\r\n")}i+="a=mid:".concat(e.attr("name"),"\r\n"),n.find(">rtcp-mux").length&&(i+="a=rtcp-mux\r\n"),n.find(">payload-type").each((function(e,n){i+="".concat(f.a.buildRTPMap(n),"\r\n"),$(n).find(">parameter").length&&(i+="a=fmtp:".concat(n.getAttribute("id")," "),i+=$(n).find(">parameter").map((function(e,t){var n=t.getAttribute("name");return(n?"".concat(n,"="):"")+t.getAttribute("value")})).get().join(";"),i+="\r\n"),i+=t.rtcpFbFromJingle($(n),n.getAttribute("id"))})),i+=this.rtcpFbFromJingle(n,"*"),n.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]').each((function(e,t){i+="a=extmap:".concat(t.getAttribute("id")," ").concat(t.getAttribute("uri"),"\r\n")})),n.find('>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,t){var n=t.getAttribute("semantics"),r=$(t).find(">source").map((function(e,t){return t.getAttribute("ssrc")})).get();r.length&&(i+="a=ssrc-group:".concat(n," ").concat(r.join(" "),"\r\n"))}));var s="",c="";return n.find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,t){var n=t.getAttribute("ssrc"),r=!0,i="";$(t).find(">parameter").each((function(e,t){var o=t.getAttribute("name"),a=t.getAttribute("value");a=f.a.filterSpecialChars(a),i+="a=ssrc:".concat(n," ").concat(o),a&&a.length&&(i+=":".concat(a)),i+="\r\n",(null===a||void 0===a?void 0:a.includes("mixedmslabel"))&&(r=!1)})),r?s+=i:c+=i})),i+=c+s}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConferenceErrors",(function(){return r})),n.d(t,"AUTHENTICATION_REQUIRED",(function(){return i})),n.d(t,"CHAT_ERROR",(function(){return o})),n.d(t,"SETTINGS_ERROR",(function(){return a})),n.d(t,"CONFERENCE_DESTROYED",(function(){return s})),n.d(t,"CONFERENCE_MAX_USERS",(function(){return c})),n.d(t,"CONNECTION_ERROR",(function(){return u})),n.d(t,"CONFERENCE_RESTARTED",(function(){return l})),n.d(t,"NOT_ALLOWED_ERROR",(function(){return d})),n.d(t,"MEMBERS_ONLY_ERROR",(function(){return f})),n.d(t,"CONFERENCE_ACCESS_DENIED",(function(){return p})),n.d(t,"FOCUS_DISCONNECTED",(function(){return h})),n.d(t,"FOCUS_LEFT",(function(){return m})),n.d(t,"GRACEFUL_SHUTDOWN",(function(){return v})),n.d(t,"ICE_FAILED",(function(){return g})),n.d(t,"INCOMPATIBLE_SERVER_VERSIONS",(function(){return y})),n.d(t,"OFFER_ANSWER_FAILED",(function(){return _})),n.d(t,"PASSWORD_NOT_SUPPORTED",(function(){return b})),n.d(t,"PASSWORD_REQUIRED",(function(){return E})),n.d(t,"RESERVATION_ERROR",(function(){return S})),n.d(t,"VIDEOBRIDGE_NOT_AVAILABLE",(function(){return C})),function(e){e.AUTHENTICATION_REQUIRED="conference.authenticationRequired",e.CHAT_ERROR="conference.chatError",e.SETTINGS_ERROR="conference.settingsError",e.CONFERENCE_DESTROYED="conference.destroyed",e.CONFERENCE_MAX_USERS="conference.max_users",e.CONNECTION_ERROR="conference.connectionError",e.CONFERENCE_RESTARTED="conference.restarted",e.NOT_ALLOWED_ERROR="conference.connectionError.notAllowed",e.MEMBERS_ONLY_ERROR="conference.connectionError.membersOnly",e.CONFERENCE_ACCESS_DENIED="conference.connectionError.accessDenied",e.FOCUS_DISCONNECTED="conference.focusDisconnected",e.FOCUS_LEFT="conference.focusLeft",e.GRACEFUL_SHUTDOWN="conference.gracefulShutdown",e.ICE_FAILED="conference.iceFailed",e.INCOMPATIBLE_SERVER_VERSIONS="conference.incompatible_server_versions",e.OFFER_ANSWER_FAILED="conference.offerAnswerFailed",e.PASSWORD_NOT_SUPPORTED="conference.passwordNotSupported",e.PASSWORD_REQUIRED="conference.passwordRequired",e.RESERVATION_ERROR="conference.reservationError",e.VIDEOBRIDGE_NOT_AVAILABLE="conference.videobridgeNotAvailable"}(r||(r={}));var i=r.AUTHENTICATION_REQUIRED,o=r.CHAT_ERROR,a=r.SETTINGS_ERROR,s=r.CONFERENCE_DESTROYED,c=r.CONFERENCE_MAX_USERS,u=r.CONNECTION_ERROR,l=r.CONFERENCE_RESTARTED,d=r.NOT_ALLOWED_ERROR,f=r.MEMBERS_ONLY_ERROR,p=r.CONFERENCE_ACCESS_DENIED,h=r.FOCUS_DISCONNECTED,m=r.FOCUS_LEFT,v=r.GRACEFUL_SHUTDOWN,g=r.ICE_FAILED,y=r.INCOMPATIBLE_SERVER_VERSIONS,_=r.OFFER_ANSWER_FAILED,b=r.PASSWORD_NOT_SUPPORTED,E=r.PASSWORD_REQUIRED,S=r.RESERVATION_ERROR,C=r.VIDEOBRIDGE_NOT_AVAILABLE},function(e,t,n){var r=n(326),i=n(327);t.write=i,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parseParams=r.parseParams,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},function(e,t){e.exports={AV1:"av1",H264:"h264",OPUS:"opus",ULPFEC:"ulpfec",VP8:"vp8",VP9:"vp9"}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(5),o=n(47),a=n.n(o),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.a;Object(r.a)(this,e),this.eventEmitter=t,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return Object(i.a)(e,[{key:"addListener",value:function(e,t){var n=this;return this.eventEmitter.addListener(e,t),function(){return n.removeEventListener(e,t)}}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}}]),e}()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(41),i={};function o(e,t,n){if("object"===typeof e&&"undefined"!==typeof e.name)switch(this.gum={error:e,constraints:t,devices:n&&Array.isArray(n)?n.slice(0):void 0},e.name){case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":this.name=r.PERMISSION_DENIED,this.message=i[this.name]+(this.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":this.name=r.NOT_FOUND,this.message=i[this.name]+(this.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":var o=e.constraintName||e.constraint;t&&t.video&&(!n||n.indexOf("video")>-1)&&("minWidth"===o||"maxWidth"===o||"minHeight"===o||"maxHeight"===o||"width"===o||"height"===o||"deviceId"===o)?(this.name=r.UNSUPPORTED_RESOLUTION,this.message=i[this.name]+function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||""}return""}(o,t)):(this.name=r.CONSTRAINT_FAILED,this.message=i[this.name]+e.constraintName);break;default:this.name=r.GENERAL,this.message=e.message||i[this.name]}else{if("string"!==typeof e)throw new Error("Invalid arguments");i[e]?(this.name=e,this.message=t||i[e]):this.message=e}this.stack=e.stack||(new Error).stack}i[r.UNSUPPORTED_RESOLUTION]="Video resolution is not supported: ",i[r.SCREENSHARING_USER_CANCELED]="User canceled screen sharing prompt",i[r.SCREENSHARING_GENERIC_ERROR]="Unknown error from screensharing",i[r.ELECTRON_DESKTOP_PICKER_ERROR]="Unkown error from desktop picker",i[r.ELECTRON_DESKTOP_PICKER_NOT_FOUND]="Failed to detect desktop picker",i[r.GENERAL]="Generic getUserMedia error",i[r.PERMISSION_DENIED]="User denied permission to use device(s): ",i[r.NOT_FOUND]="Requested device(s) was/were not found: ",i[r.CONSTRAINT_FAILED]="Constraint could not be satisfied: ",i[r.TIMEOUT]="Could not start media source. Timeout occured!",i[r.TRACK_IS_DISPOSED]="Track has been already disposed",i[r.TRACK_NO_STREAM_FOUND]="Track does not have an associated Media Stream",o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,t.a=o},,function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"DetectionEvents",(function(){return r})),n.d(t,"DETECTOR_STATE_CHANGE",(function(){return i})),n.d(t,"AUDIO_INPUT_STATE_CHANGE",(function(){return o})),n.d(t,"NO_AUDIO_INPUT",(function(){return a})),n.d(t,"VAD_NOISY_DEVICE",(function(){return s})),n.d(t,"VAD_REPORT_PUBLISHED",(function(){return c})),n.d(t,"VAD_SCORE_PUBLISHED",(function(){return u})),n.d(t,"VAD_TALK_WHILE_MUTED",(function(){return l})),function(e){e.DETECTOR_STATE_CHANGE="detector_state_change",e.AUDIO_INPUT_STATE_CHANGE="audio_input_state_changed",e.NO_AUDIO_INPUT="no_audio_input_detected",e.VAD_NOISY_DEVICE="detection.vad_noise_device",e.VAD_REPORT_PUBLISHED="vad-report-published",e.VAD_SCORE_PUBLISHED="detection.vad_score_published",e.VAD_TALK_WHILE_MUTED="detection.vad_talk_while_muted"}(r||(r={}));var i=r.DETECTOR_STATE_CHANGE,o=r.AUDIO_INPUT_STATE_CHANGE,a=r.NO_AUDIO_INPUT,s=r.VAD_NOISY_DEVICE,c=r.VAD_REPORT_PUBLISHED,u=r.VAD_SCORE_PUBLISHED,l=r.VAD_TALK_WHILE_MUTED},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return M}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(7),u=(n(324),n(98)),l=n(61),d=n(2),f=n(11),p=n(145),h=n(20),m=n(17),v=n(36),g=n.n(v),y=n(48),_=n(114),b=n.n(_),E=n(183),S=n(100),C=n(230),T=n(236),O=n(242),R=n(243),A=n(244),w=Object(s.getLogger)(e),k=/<failure.*><not-allowed\/><text>(.*)<\/text><\/failure>/gi;var P=[{urls:"stun:meet-jit-si-turnrelay.jitsi.net:443"}],N="type",I="http://jitsi.org/protocol/jigasi",D="https://jitsi.org/meet/e2ee",M=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,i){var o;Object(r.a)(this,n),(o=t.call(this)).connection=null,o.disconnectInProgress=!1,o.connectionTimes={},o.options=e,o.token=i,o.authenticatedUser=!1,o.options.deploymentInfo||(o.options.deploymentInfo={}),Object(A.a)(),Object(O.a)();var a=e.xmppPing||{};return a.domain=e.hosts.domain,o.connection=function(e){var t=e.enableWebsocketResume,n=e.serviceUrl,r=void 0===n?"/http-bind":n,i=e.shard,o=e.token,a=e.websocketKeepAlive,s=e.websocketKeepAliveUrl,c=e.xmppPing;return o&&(r+="".concat(-1===r.indexOf("?")?"?":"&","token=").concat(o)),new S.a({enableWebsocketResume:t,serviceUrl:r,websocketKeepAlive:a,websocketKeepAliveUrl:s,xmppPing:c,shard:i})}({enableWebsocketResume:e.enableWebsocketResume,serviceUrl:e.serviceUrl||e.bosh,token:i,websocketKeepAlive:e.websocketKeepAlive,websocketKeepAliveUrl:e.websocketKeepAliveUrl,xmppPing:a,shard:e.deploymentInfo.shard}),o.connection.on(S.a.Events.CONN_SHARD_CHANGED,(function(){var e={shard_changed:!0,suspend_time:o.connection.ping.getPingSuspendTime(),time_since_last_success:o.connection.getTimeSinceLastSuccess()};o.eventEmitter.emit(l.CONNECTION_FAILED,u.OTHER_ERROR,void 0,void 0,e)})),o._initStrophePlugins(),o.caps=new E.a(o.connection,"https://jitsi.org/jitsi-meet"),o.initFeaturesList(),o}return Object(i.a)(n,[{key:"initFeaturesList",value:function(){this.caps.addFeature("urn:xmpp:jingle:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.caps.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:dtls:0"),this.caps.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.caps.addFeature("urn:xmpp:jingle:apps:rtp:video"),this.caps.addFeature("http://jitsi.org/json-encoded-sources"),!this.options.disableRtx&&f.a.supportsRTX()&&this.caps.addFeature("urn:ietf:rfc:4588"),!0===this.options.enableOpusRed&&f.a.supportsAudioRed()&&this.caps.addFeature("http://jitsi.org/opus-red"),("undefined"===typeof this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature("http://jitsi.org/remb"),f.a.isFirefox()||"undefined"!==typeof this.options.enableTcc&&!this.options.enableTcc||this.caps.addFeature("http://jitsi.org/tcc"),this.caps.addFeature("urn:ietf:rfc:5761"),this.caps.addFeature("urn:ietf:rfc:5888"),f.a.isChromiumBased()&&!0===this.options.enableLipSync&&(w.info("Lip-sync enabled !"),this.caps.addFeature("http://jitsi.org/meet/lipsync")),this.connection.rayo&&this.caps.addFeature("urn:xmpp:rayo:client:1"),p.a.isSupported(this.options)&&this.caps.addFeature(D,!1,!0),h.a.isSourceNameSignalingEnabled()&&(w.info("Source-name signaling is enabled"),this.caps.addFeature("http://jitsi.org/source-name")),h.a.isSsrcRewritingSupported()&&(w.info("SSRC rewriting is supported"),this.caps.addFeature("http://jitsi.org/ssrc-rewriting"))}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=window.performance.now(),o=c.Strophe.getStatusString(n).toLowerCase();if(this.connectionTimes[o]=i,w.log("(TIME) Strophe ".concat(o).concat(r?"[".concat(r,"]"):"",":\t"),i),this.eventEmitter.emit(d.XMPPEvents.CONNECTION_STATUS_CHANGED,t,n,r),this._maybeSendDeploymentInfoStat(),n===c.Strophe.Status.CONNECTED||n===c.Strophe.Status.ATTACHED)this._sysMessageHandler&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null),this.sendDiscoInfo&&this.connection.jingle.getStunAndTurnCredentials(),w.info("My Jabber ID: ".concat(this.connection.jid)),this._resetState(),this.sendDeploymentInfo=!1,this.sendDiscoInfo&&this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then((function(t){var n=t.features,r=t.identities;n.has(c.Strophe.NS.PING)||w.error("Ping NOT supported by ".concat(e.options.hosts.domain," - please enable ping in your XMPP server config")),e._processDiscoInfoIdentities(r,void 0)})).catch((function(t){var n="Feature discovery error";g.a.callErrorHandler(new Error("".concat(n,": ").concat(t))),w.error(n,t),e._maybeSendDeploymentInfoStat(!0)})),this.sendDiscoInfo=!1,t.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&c.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(l.CONNECTION_ESTABLISHED,c.Strophe.getResourceFromJid(this.connection.jid));else if(n===c.Strophe.Status.CONNFAIL)"x-strophe-bad-non-anon-jid"===r?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=r,"giving-up"===r&&this.eventEmitter.emit(l.CONNECTION_FAILED,u.OTHER_ERROR,r);else if(n===c.Strophe.Status.ERROR)this.lastErrorMsg=r;else if(n===c.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var a=Boolean(this.disconnectInProgress),s=r||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(l.CONNECTION_FAILED,u.PASSWORD_REQUIRED);else if(this.connectionFailed)this.eventEmitter.emit(l.CONNECTION_FAILED,u.OTHER_ERROR,s,void 0,this._getConnectionFailedReasonDetails());else if(a)this.eventEmitter.emit(l.CONNECTION_DISCONNECTED,s);else{w.error("XMPP connection dropped!");var f=c.Strophe.getLastErrorStatus();f>=500&&f<600?this.eventEmitter.emit(l.CONNECTION_FAILED,u.SERVER_ERROR,s||"server-error",void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(l.CONNECTION_FAILED,u.CONNECTION_DROPPED_ERROR,s||"connection-dropped-error",void 0,this._getConnectionFailedReasonDetails())}}else if(n===c.Strophe.Status.AUTHFAIL){var p=this.getConnection().getLastFailedMessage();this.eventEmitter.emit(l.CONNECTION_FAILED,u.PASSWORD_REQUIRED,r||this._parseConnectionFailedMessage(p),t)}}},{key:"_processDiscoInfoIdentities",value:function(e,t){var n=this;e.forEach((function(e){if("av_moderation"===e.type&&(n.avModerationComponentAddress=e.name),"speakerstats"===e.type&&(n.speakerStatsComponentAddress=e.name),"conference_duration"===e.type&&(n.conferenceDurationComponentAddress=e.name),"lobbyrooms"===e.type){n.lobbySupported=!0;var r=function(e){e.forEach((function(e){e.endsWith("#displayname_required")&&n.eventEmitter.emit(l.DISPLAY_NAME_REQUIRED)}))};t?r(t):e.name&&n.caps.getFeaturesAndIdentities(e.name,e.type).then((function(e){var t=e.features;return r(t)})).catch((function(e){return w.warn("Error getting features from lobby.",e&&e.message)}))}"shard"===e.type&&(n.options.deploymentInfo.shard=n.connection.shard=e.name),"region"===e.type&&(n.options.deploymentInfo.region=n.connection.region=e.name),"release"===e.type&&(n.options.deploymentInfo.backendRelease=e.name),"breakout_rooms"===e.type&&(n.breakoutRoomsComponentAddress=e.name)})),this._maybeSendDeploymentInfoStat(!0),(this.avModerationComponentAddress||this.speakerStatsComponentAddress||this.conferenceDurationComponentAddress||this.breakoutRoomsComponentAddress)&&this.connection.addHandler(this._onPrivateMessage.bind(this),null,"message",null,null)}},{key:"_parseConnectionFailedMessage",value:function(e){if(!e)return null;var t=k.exec(e);return t?t[1]:null}},{key:"_connect",value:function(e,t){this._resetState(),this.sendDiscoInfo=!0,this.sendDeploymentInfo=!0,this.connection._stropheConn&&this.connection._stropheConn._addSysHandler?this._sysMessageHandler=this.connection._stropheConn._addSysHandler(this._onSystemMessage.bind(this),null,"message"):w.warn("Cannot attach strophe system handler, jiconop cannot operate"),this.connection.connect(e,t,this.connectionHandler.bind(this,{jid:e,password:t}))}},{key:"_onSystemMessage",value:function(e){if(0!==$(e).find(">services").length||0!==$(e).find(">query").length){this.sendDiscoInfo=!1;var t=this.connection.jingle.onReceiveStunAndTurnCredentials(e),n=Object(E.b)(e),r=n.features,i=n.identities;this._processDiscoInfoIdentities(i,r),(t||i.size>0||r.size>0)&&(this.connection._stropheConn.deleteHandler(this._sysMessageHandler),this._sysMessageHandler=null)}}},{key:"attach",value:function(e){this._resetState(),this.sendDiscoInfo=!0;var t=this.connectionTimes.attaching=window.performance.now();w.log("(TIME) Strophe Attaching:\t",t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,{jid:e.jid,password:e.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(e,t){if(!e){var n=this.options.hosts,r=n.anonymousdomain,i=n.domain,o=r||i,a=window.location;if(r){var s=a&&a.search;(s&&-1!==s.indexOf("login=true")||this.token)&&(o=i)}e=o||a&&a.hostname}return this._connect(e,t)}},{key:"createRoom",value:function(e,t,n){var r=e.domain||t.customDomain,i="".concat(this.getRoomJid(e,r),"/"),o=n?n(this.connection.jid,this.authenticatedUser):b.a.randomHexString(8).toLowerCase();return w.info("JID ".concat(this.connection.jid," using MUC nickname ").concat(o)),i+=o,this.connection.emuc.createRoom(i,null,t)}},{key:"getRoomJid",value:function(e,t){return"".concat(e,"@").concat(t||this.options.hosts.muc.toLowerCase())}},{key:"isRoomCreated",value:function(e,t){return this.connection.emuc.isRoomCreated(this.getRoomJid(e,t))}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var e;(e=this.connection.rayo).dial.apply(e,arguments)}},{key:"ping",value:function(e){var t=this;return new Promise((function(n,r){t.connection.ping.ping(t.connection.pingDomain,n,r,e)}))}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(e){var t=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise((function(e){t.eventEmitter.on(d.XMPPEvents.CONNECTION_STATUS_CHANGED,(function n(r,i){i===c.Strophe.Status.DISCONNECTED&&(e(),t.eventEmitter.removeListener(d.XMPPEvents.CONNECTION_STATUS_CHANGED,n))}))})),this._cleanupXmppConnection(e),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(e){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!==e&&"undefined"!==typeof e){var t=e.type;if(("beforeunload"===t||"unload"===t)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var e={jvb:{iceServers:[]},p2p:{iceServers:[]}},t=this.options.p2p&&this.options.p2p.stunServers||P;Array.isArray(t)&&(w.info("P2P STUN servers: ",t),e.p2p.iceServers=t),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(w.info("P2P ICE transport policy: ",this.options.p2p.iceTransportPolicy),e.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin("emuc",new C.a(this)),this.connection.addConnectionPlugin("jingle",new T.a(this,this.eventEmitter,e)),this.connection.addConnectionPlugin("rayo",new R.a)}},{key:"_getConnectionFailedReasonDetails",value:function(){var e={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var t=this.connection.lastResponseHeaders.trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift(),i=t.join(": ");n[r]=i})),e.shard_changed=this.options.deploymentInfo.shard!==n["x-jitsi-shard"]}return e.suspend_time=this.connection.ping.getPingSuspendTime(),e.time_since_last_success=this.connection.getTimeSinceLastSuccess(),e}},{key:"sendDominantSpeakerEvent",value:function(e){if(this.speakerStatsComponentAddress&&e){var t=Object(c.$msg)({to:this.speakerStatsComponentAddress});t.c("speakerstats",{xmlns:"http://jitsi.org/jitmeet",room:e}).up(),this.connection.send(t)}}},{key:"sendFaceExpressionEvent",value:function(e,t){if(this.speakerStatsComponentAddress&&e){var n=Object(c.$msg)({to:this.speakerStatsComponentAddress});n.c("faceExpression",{xmlns:"http://jitsi.org/jitmeet",room:e,expression:t.faceExpression,duration:t.duration}).up(),this.connection.send(n)}}},{key:"tryParseJSONAndVerify",value:function(e){if(!e)return!1;try{var t=JSON.parse(e);if(t&&"object"===typeof t){var n=t[N];if("undefined"!==typeof n)return t;w.debug("parsing valid json but does not have correct structure","topic: ",n)}}catch(r){return w.error("Error parsing json ".concat(e),r),!1}return!1}},{key:"_onPrivateMessage",value:function(e){var t=e.getAttribute("from");if(t!==this.speakerStatsComponentAddress&&t!==this.conferenceDurationComponentAddress&&t!==this.avModerationComponentAddress&&t!==this.breakoutRoomsComponentAddress)return!0;var n=$(e).find(">json-message").text(),r=this.tryParseJSONAndVerify(n);return!r||("speakerstats"===r[N]&&r.users?this.eventEmitter.emit(d.XMPPEvents.SPEAKER_STATS_RECEIVED,r.users):"conference_duration"===r[N]&&r.created_timestamp?this.eventEmitter.emit(d.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,r.created_timestamp):"av_moderation"===r[N]?this.eventEmitter.emit(d.XMPPEvents.AV_MODERATION_RECEIVED,r):"breakout_rooms"===r[N]&&this.eventEmitter.emit(d.XMPPEvents.BREAKOUT_ROOMS_EVENT,r),!0)}},{key:"_maybeSendDeploymentInfoStat",value:function(e){var t=[c.Strophe.Status.ERROR,c.Strophe.Status.CONNFAIL,c.Strophe.Status.AUTHFAIL,c.Strophe.Status.DISCONNECTED,c.Strophe.Status.CONNTIMEOUT];if(e||t.includes(this.connection.status)&&this.sendDeploymentInfo){var n=this.options.deploymentInfo;if(n&&Object.keys(n).length>0){var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);m.a.analytics.addPermanentProperties(Object.assign({},r)),r.id="deployment_info",m.a.sendLog(JSON.stringify(r))}this.sendDeploymentInfo=!1}}}]),n}(y.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return x}));var r=n(64),i=n(0),o=n.n(i),a=n(19),s=n.n(a),c=n(76),u=n(79),l=n(1),d=n(187),f=n.n(d),p=(n(342),n(54)),h=(n(89),1073741823),m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var v=o.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return m[e]=(m[e]||0)+1}()+"__",c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}Object(r.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):h,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(o.a.Component);c.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?h:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?h:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.a.Component);return u.contextTypes=((i={})[a]=s.a.object,i),{Provider:c,Consumer:u}},g=function(e){var t=v();return t.displayName=e,t},y=g("Router-History"),_=g("Router"),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var E={},S=1e4,C=0;function T(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return C<S&&(r[e]=o,C++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),p=e===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var O=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,d=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(_.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?o.a.createElement(c,i):d?d(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function A(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function w(e){return"string"===typeof e?e:Object(c.e)(e)}function k(e){return function(){Object(u.a)(!1)}}function P(){}o.a.Component;var N=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?T(i.pathname,Object(l.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var I=o.a.useContext;function D(){return I(y)}function M(){return I(_).location}function x(){var e=I(_).match;return e?e.params:{}}}).call(this,n(103))},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(297);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(u+="a",l.push(t[3])),a({type:u,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?d(e,t):f(e,t)}function l(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},function(e,t,n){"use strict";var r,i,o;n.r(t),n.d(t,"VideoSIPGWStatusConstants",(function(){return r})),n.d(t,"VideoSIPGWStateConstants",(function(){return i})),n.d(t,"VideoSIPGWErrorConstants",(function(){return o})),n.d(t,"STATUS_AVAILABLE",(function(){return a})),n.d(t,"STATUS_UNDEFINED",(function(){return s})),n.d(t,"STATUS_BUSY",(function(){return c})),n.d(t,"STATE_ON",(function(){return u})),n.d(t,"STATE_OFF",(function(){return l})),n.d(t,"STATE_PENDING",(function(){return d})),n.d(t,"STATE_RETRYING",(function(){return f})),n.d(t,"STATE_FAILED",(function(){return p})),n.d(t,"ERROR_NO_CONNECTION",(function(){return h})),n.d(t,"ERROR_SESSION_EXISTS",(function(){return m})),function(e){e.STATUS_AVAILABLE="available",e.STATUS_UNDEFINED="undefined",e.STATUS_BUSY="busy"}(r||(r={})),function(e){e.STATE_ON="on",e.STATE_OFF="off",e.STATE_PENDING="pending",e.STATE_RETRYING="retrying",e.STATE_FAILED="failed"}(i||(i={})),function(e){e.ERROR_NO_CONNECTION="error_no_connection",e.ERROR_SESSION_EXISTS="error_session_already_exists"}(o||(o={}));var a=r.STATUS_AVAILABLE,s=r.STATUS_UNDEFINED,c=r.STATUS_BUSY,u=i.STATE_ON,l=i.STATE_OFF,d=i.STATE_PENDING,f=i.STATE_RETRYING,p=i.STATE_FAILED,h=o.ERROR_NO_CONNECTION,m=o.ERROR_SESSION_EXISTS},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(189),i=(n(0),n(107));function o(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConnectionEvents",(function(){return r})),n.d(t,"CONNECTION_DISCONNECTED",(function(){return i})),n.d(t,"CONNECTION_ESTABLISHED",(function(){return o})),n.d(t,"CONNECTION_FAILED",(function(){return a})),n.d(t,"WRONG_STATE",(function(){return s})),n.d(t,"DISPLAY_NAME_REQUIRED",(function(){return c})),function(e){e.CONNECTION_DISCONNECTED="connection.connectionDisconnected",e.CONNECTION_ESTABLISHED="connection.connectionEstablished",e.CONNECTION_FAILED="connection.connectionFailed",e.WRONG_STATE="connection.wrongState",e.DISPLAY_NAME_REQUIRED="connection.display_name_required"}(r||(r={}));var i=r.CONNECTION_DISCONNECTED,o=r.CONNECTION_ESTABLISHED,a=r.CONNECTION_FAILED,s=r.WRONG_STATE,c=r.DISPLAY_NAME_REQUIRED},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),function(e){e.AUDIO_LEVEL="statistics.audioLevel",e.BEFORE_DISPOSED="statistics.before_disposed",e.BYTE_SENT_STATS="statistics.byte_sent_stats",e.CONNECTION_STATS="statistics.connectionstats",e.LONG_TASKS_STATS="statistics.long_tasks_stats"}(r||(r={}));var i=r.AUDIO_LEVEL,o=r.BEFORE_DISPOSED,a=r.BYTE_SENT_STATS,s=r.CONNECTION_STATS,c=r.LONG_TASKS_STATS},function(e,t,n){"use strict";t.a=window.document},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(153);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(53);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(13),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,c=t.easing,u=void 0===c?i.easeInOut:c,l=t.delay,d=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(u," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";t.a=[]},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),function(e){e.PEER_MUTED_CHANGED="signaling.peerMuted",e.PEER_VIDEO_TYPE_CHANGED="signaling.peerVideoType",e.SOURCE_MUTED_CHANGED="signaling.sourceMuted",e.SOURCE_VIDEO_TYPE_CHANGED="signaling.sourceVideoType"}(r||(r={}));var i=r.PEER_MUTED_CHANGED,o=r.PEER_VIDEO_TYPE_CHANGED,a=r.SOURCE_MUTED_CHANGED,s=r.SOURCE_VIDEO_TYPE_CHANGED},function(e,t,n){"use strict";(function(e){var r,i,o=n(90),a=n(10),s=n(235),c=n.n(s),u=Object(a.getLogger)(e);function l(){return"".concat(Math.random().toString(16),"000000000").substr(2,8)}t.a={_storage:o.b,init:function(e){this._storage=e||o.b},get callStatsUserName(){return r||(r=this._storage.getItem("callStatsUserName"))||(r=function(){var e=c.a.generateUsername();return u.log("generated callstats uid",e),e}(),this._storage.setItem("callStatsUserName",r)),r},get machineId(){if(!i){var e=this._storage.getItem("billingId");i=e||this._storage.getItem("jitsiMeetId"),e?this._storage.setItem("jitsiMeetId",e):i||(i=function(){var e=l()+l()+l()+l();return u.log("generated id",e),e}(),this._storage.setItem("jitsiMeetId",i))}return i},get sessionId(){return this._storage.getItem("sessionId")},set sessionId(e){e?this._storage.setItem("sessionId",e):this._storage.removeItem("sessionId")}}}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n(12),i=n(6),o=n(5),a=n(45);function s(e){return parseInt(e.ssrcs.split(" ")[0],10)}function c(e){return parseInt(e.ssrcs.split(" ")[1],10)}function u(e){return e.ssrcs?e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length:0}var l=function(){function e(t){if(Object(i.a)(this,e),!t)throw new Error("mLine is undefined");this.mLine=t}return Object(o.a)(e,[{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(e){this.mLine.ssrcs=e}},{key:"direction",get:function(){return this.mLine.direction},set:function(e){this.mLine.direction=e}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(e){this.mLine.ssrcGroups=e}},{key:"getSSRCAttrValue",value:function(e,t){var n=this.ssrcs.find((function(n){return n.id===e&&n.attribute===t}));return n&&n.value}},{key:"removeSSRC",value:function(e){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter((function(t){return t.id!==e})))}},{key:"addSSRCAttribute",value:function(e){this.ssrcs.push(e)}},{key:"findGroup",value:function(e,t){return this.ssrcGroups.find((function(n){return n.semantics===e&&(!t||t===n.ssrcs)}))}},{key:"findGroups",value:function(e){return this.ssrcGroups.filter((function(t){return t.semantics===e}))}},{key:"findGroupByPrimarySSRC",value:function(e,t){return this.ssrcGroups.find((function(n){return n.semantics===e&&s(n)===t}))}},{key:"findSSRCByMSID",value:function(e){return this.ssrcs.find((function(t){return"msid"===t.attribute&&(null===e||t.value===e)}))}},{key:"getSSRCCount",value:function(){return u(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimarySsrc doesn't work with '".concat(e,"'"));if(1===u(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var t=this.findGroup("SIM");if(t)return s(t);var n=this.findGroup("FID");if(n)return s(n);var r=this.findGroup("FEC-FR");if(r)return s(r)}}},{key:"getRtxSSRC",value:function(e){var t=this.findGroupByPrimarySSRC("FID",e);return t&&c(t)}},{key:"getSSRCs",value:function(){return this.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"getPrimaryVideoSSRCs",value:function(){var e=this.mLine.type;if("video"!==e)throw new Error("getPrimaryVideoSSRCs doesn't work with ".concat(e));var t,n=this.getSSRCs(),i=Object(r.a)(this.ssrcGroups);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("FID"===o.semantics||"FEC-FR"===o.semantics){var a=c(o);n.splice(n.indexOf(a),1)}}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter((function(t){return-1===t.ssrcs.indexOf("".concat(e))})))}},{key:"removeGroupsBySemantics",value:function(e){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter((function(t){return t.semantics!==e})))}},{key:"replaceSSRC",value:function(e,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach((function(n){n.id===e&&(n.id=t)}))}},{key:"addSSRCGroup",value:function(e){this.ssrcGroups.push(e)}}]),e}(),d=function(){function e(t){Object(i.a)(this,e),this.parsedSDP=a.parse(t)}return Object(o.a)(e,[{key:"selectMedia",value:function(e){var t=this.parsedSDP.media.filter((function(t){return t.type===e})).map((function(e){return new l(e)}));return null!==t&&void 0!==t?t:null}},{key:"toRawSDP",value:function(){return a.write(this.parsedSDP)}}]),e}()},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(6),i=n(5);function o(e){var t=e;return e>=Number.MAX_SAFE_INTEGER&&(t=0),t+1}function a(e){return e.length>0?e.reduce((function(e,t){return e+t}))/e.length:0}function s(e){return e.filter((function(e){return e>=0}))}var c=function(){function e(){Object(r.a)(this,e),this.average=0,this.n=0}return Object(i.a)(e,[{key:"addNext",value:function(e){"number"===typeof e&&(this.n+=1,this.average=this.average+(e-this.average)/this.n)}},{key:"getAverage",value:function(){return this.average}}]),e}()},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ConnectionQualityEvents",(function(){return r})),n.d(t,"LOCAL_STATS_UPDATED",(function(){return i})),n.d(t,"REMOTE_STATS_UPDATED",(function(){return o})),function(e){e.LOCAL_STATS_UPDATED="cq.local_stats_updated",e.REMOTE_STATS_UPDATED="cq.remote_stats_updated"}(r||(r={}));var i=r.LOCAL_STATS_UPDATED,o=r.REMOTE_STATS_UPDATED},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return h}));var r=n(1);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),u=s||c;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),d++):d&&(o(a,f),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(79);function l(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var b="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,c=o.getUserConfirmation,d=void 0===c?_:c,v=o.keyLength,C=void 0===v?6:v,T=e.basename?p(l(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=f(o,T)),m(o,r,n)}function R(){return Math.random().toString(36).substr(2,C)}var A=g();function w(e){Object(r.a)(V,e),V.length=t.length,A.notifyListeners(V.location,V.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||I(O(e.state))}function P(){I(O(S()))}var N=!1;function I(e){if(N)N=!1,w();else{A.confirmTransitionTo(e,"POP",d,(function(t){t?w({action:"POP",location:e}):function(e){var t=V.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var D=O(S()),M=[D.key];function x(e){return T+h(e)}function L(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(b,k),i&&window.addEventListener(E,P)):0===j&&(window.removeEventListener(b,k),i&&window.removeEventListener(E,P))}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:x,push:function(e,r){var i="PUSH",o=m(e,r,R(),V.location);A.confirmTransitionTo(o,i,d,(function(e){if(e){var r=x(o),a=o.key,c=o.state;if(n)if(t.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var u=M.indexOf(V.location.key),l=M.slice(0,u+1);l.push(o.key),M=l,w({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=m(e,r,R(),V.location);A.confirmTransitionTo(o,i,d,(function(e){if(e){var r=x(o),a=o.key,c=o.state;if(n)if(t.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var u=M.indexOf(V.location.key);-1!==u&&(M[u]=o.key),w({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var T="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:l},slash:{encodePath:l,decodePath:l}};function R(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function w(e){window.location.replace(R(window.location.href)+"#"+e)}function k(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,c=e.basename?p(l(e.basename)):"",d=O[s],v=d.encodePath,b=d.decodePath;function E(){var e=b(A());return c&&(e=f(e,c)),m(e)}var S=g();function C(e){Object(r.a)(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}var k=!1,P=null;function N(){var e,t,n=A(),r=v(n);if(n!==r)w(r);else{var i=E(),a=V.location;if(!k&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===h(i))return;P=null,function(e){if(k)k=!1,C();else{var t="POP";S.confirmTransitionTo(e,t,o,(function(n){n?C({action:t,location:e}):function(e){var t=V.location,n=x.lastIndexOf(h(t));-1===n&&(n=0);var r=x.lastIndexOf(h(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,L(i))}(e)}))}}(i)}}var I=A(),D=v(I);I!==D&&w(D);var M=E(),x=[h(M)];function L(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(T,N):0===j&&window.removeEventListener(T,N)}var U=!1;var V={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=R(window.location.href)),n+"#"+v(c+h(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,V.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=h(r),i=v(c+t);if(A()!==i){P=t,function(e){window.location.hash=e}(i);var o=x.lastIndexOf(h(V.location)),a=x.slice(0,o+1);a.push(t),x=a,C({action:n,location:r})}else C()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,V.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=h(r),i=v(c+t);A()!==i&&(P=t,w(i));var o=x.indexOf(h(V.location));-1!==o&&(x[o]=t),C({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function P(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,u=void 0===c?6:c,l=g();function d(e){Object(r.a)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,u)}var p=P(s,0,o.length-1),v=o.map((function(e){return m(e,void 0,"string"===typeof e?f():e.key||f())})),y=h;function _(e){var t=P(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var b={length:v.length,action:"POP",location:v[p],index:p,entries:v,createHref:y,push:function(e,t){var r="PUSH",i=m(e,t,f(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,f(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,d({action:r,location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",v="[object Number]",g="[object Null]",y="[object Object]",_="[object Promise]",b="[object Proxy]",E="[object RegExp]",S="[object Set]",C="[object String]",T="[object Symbol]",O="[object Undefined]",R="[object WeakMap]",A="[object ArrayBuffer]",w="[object DataView]",k=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[s]=N[c]=N[A]=N[l]=N[w]=N[d]=N[f]=N[p]=N[m]=N[v]=N[y]=N[E]=N[S]=N[C]=N[R]=!1;var I="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,M=I||D||Function("return this")(),x=t&&!t.nodeType&&t,L=x&&"object"==typeof n&&n&&!n.nodeType&&n,j=L&&L.exports===x,F=j&&I.process,U=function(){try{return F&&F.binding&&F.binding("util")}catch(e){}}(),V=U&&U.isTypedArray;function H(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var J,W,z=Array.prototype,K=Function.prototype,q=Object.prototype,$=M["__core-js_shared__"],X=K.toString,Y=q.hasOwnProperty,Q=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=q.toString,ee=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=j?M.Buffer:void 0,ne=M.Symbol,re=M.Uint8Array,ie=q.propertyIsEnumerable,oe=z.splice,ae=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=(J=Object.keys,W=Object,function(e){return J(W(e))}),le=Fe(M,"DataView"),de=Fe(M,"Map"),fe=Fe(M,"Promise"),pe=Fe(M,"Set"),he=Fe(M,"WeakMap"),me=Fe(Object,"create"),ve=Be(le),ge=Be(de),ye=Be(fe),_e=Be(pe),be=Be(he),Ee=ne?ne.prototype:void 0,Se=Ee?Ee.valueOf:void 0;function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}function Ae(e){var t=this.__data__=new Te(e);this.size=t.size}function we(e,t){var n=We(e),r=!n&&Je(e),i=!n&&!r&&ze(e),o=!n&&!r&&!i&&Ye(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!Y.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||He(u,c))||s.push(u);return s}function ke(e,t){for(var n=e.length;n--;)if(Ge(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?O:g:ae&&ae in Object(e)?function(e){var t=Y.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(o){}var i=Z.call(e);r&&(t?e[ae]=n:delete e[ae]);return i}(e):function(e){return Z.call(e)}(e)}function Ne(e){return Xe(e)&&Pe(e)==s}function Ie(e,t,n,r,a){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!==e&&t!==t:function(e,t,n,r,a,u){var p=We(e),h=We(t),g=p?c:Ve(e),_=h?c:Ve(t),b=(g=g==s?y:g)==y,O=(_=_==s?y:_)==y,R=g==_;if(R&&ze(e)){if(!ze(t))return!1;p=!0,b=!1}if(R&&!b)return u||(u=new Ae),p||Ye(e)?xe(e,t,n,r,a,u):function(e,t,n,r,a,s,c){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case l:case d:case v:return Ge(+e,+t);case f:return e.name==t.name&&e.message==t.message;case E:case C:return e==t+"";case m:var u=B;case S:var p=r&i;if(u||(u=G),e.size!=t.size&&!p)return!1;var h=c.get(e);if(h)return h==t;r|=o,c.set(e,t);var g=xe(u(e),u(t),r,a,s,c);return c.delete(e),g;case T:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,g,n,r,a,u);if(!(n&i)){var k=b&&Y.call(e,"__wrapped__"),P=O&&Y.call(t,"__wrapped__");if(k||P){var N=k?e.value():e,I=P?t.value():t;return u||(u=new Ae),a(N,I,n,r,u)}}if(!R)return!1;return u||(u=new Ae),function(e,t,n,r,o,a){var s=n&i,c=Le(e),u=c.length,l=Le(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var p=c[f];if(!(s?p in t:Y.call(t,p)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var m=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<u;){var g=e[p=c[f]],y=t[p];if(r)var _=s?r(y,g,p,t,e,a):r(g,y,p,e,t,a);if(!(void 0===_?g===y||o(g,y,n,r,a):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,a,u)}(e,t,n,r,Ie,a))}function De(e){return!(!$e(e)||function(e){return!!Q&&Q in e}(e))&&(Ke(e)?ee:k).test(Be(e))}function Me(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||q;return e===n}(e))return ue(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}function xe(e,t,n,r,a,s){var c=n&i,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var f=-1,p=!0,h=n&o?new Re:void 0;for(s.set(e,t),s.set(t,e);++f<u;){var m=e[f],v=t[f];if(r)var g=c?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!H(t,(function(e,t){if(i=t,!h.has(i)&&(m===e||a(m,e,n,r,s)))return h.push(t);var i}))){p=!1;break}}else if(m!==v&&!a(m,v,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Le(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Qe,Ue)}function je(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ce.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ce.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Y.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Y.call(t,e)},Ce.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},Te.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return ke(this.__data__,e)>-1},Te.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(de||Te),string:new Ce}},Oe.prototype.delete=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},Oe.prototype.get=function(e){return je(this,e).get(e)},Oe.prototype.has=function(e){return je(this,e).has(e)},Oe.prototype.set=function(e,t){var n=je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Re.prototype.add=Re.prototype.push=function(e){return this.__data__.set(e,r),this},Re.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Te,this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(r)}return n.set(e,t),this.size=n.size,this};var Ue=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(se(e),(function(t){return ie.call(e,t)})))}:function(){return[]},Ve=Pe;function He(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ge(e,t){return e===t||e!==e&&t!==t}(le&&Ve(new le(new ArrayBuffer(1)))!=w||de&&Ve(new de)!=m||fe&&Ve(fe.resolve())!=_||pe&&Ve(new pe)!=S||he&&Ve(new he)!=R)&&(Ve=function(e){var t=Pe(e),n=t==y?e.constructor:void 0,r=n?Be(n):"";if(r)switch(r){case ve:return w;case ge:return m;case ye:return _;case _e:return S;case be:return R}return t});var Je=Ne(function(){return arguments}())?Ne:function(e){return Xe(e)&&Y.call(e,"callee")&&!ie.call(e,"callee")},We=Array.isArray;var ze=ce||function(){return!1};function Ke(e){if(!$e(e))return!1;var t=Pe(e);return t==p||t==h||t==u||t==b}function qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return null!=e&&"object"==typeof e}var Ye=V?function(e){return function(t){return e(t)}}(V):function(e){return Xe(e)&&qe(e.length)&&!!N[Pe(e)]};function Qe(e){return null!=(t=e)&&qe(t.length)&&!Ke(t)?we(e):Me(e);var t}n.exports=function(e,t){return Ie(e,t)}}).call(this,n(103),n(199)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t,o=n?"".concat(i,": ").concat(n):i;throw new Error(o)}}},function(e,t,n){"use strict";var r;n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),function(e){e.PENDING="pending",e.ACTIVE="active",e.ENDED="ended"}(r||(r={}));var i=r.PENDING,o=r.ACTIVE,a=r.ENDED},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ACCEPT="session-accept",e.CONNECTION_ERROR="connection-error-encountered",e.INITIATE="session-initiate",e.TERMINATE="session-terminate",e.TRANSPORT_INFO="transport-info",e.UNAVAILABLE="unavailable"}(r||(r={}))},function(e,t,n){"use strict";function r(e,t){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(50),i=n(41),o=n(11),a=n(10).getLogger(e),s=5,c={obtainStream:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||a.info("Desktop sharing disabled")},_createObtainStreamMethod:function(){return o.a.isNWJS()?function(e,t){window.JitsiMeetNW.obtainDesktopStream(e,(function(e,n){var o;o=e&&"InvalidStateError"===e.name?new r.a(i.SCREENSHARING_USER_CANCELED):new r.a(e,n,["desktop"]),"function"===typeof t&&t(o)}))}:o.a.isElectron()?this.obtainScreenOnElectron:o.a.isReactNative()&&o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:o.a.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(a.log("Screen sharing not supported on ",o.a.getName()),null)},_getAudioConstraints:function(){var e=this.options.audioQuality;return!(null===e||void 0===e?void 0:e.stereo)||{autoGainControl:!1,channelCount:2,echoCancellation:!1,noiseSuppression:!1}},isSupported:function(){return null!==this.obtainStream},obtainScreenOnElectron:function(e,t){var n=this;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var o=this.options,a=o.desktopSharingFrameRate,c=o.desktopSharingSources;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:c||["screen","window"]},(function(o,c){var u,l;if(o){var d=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){d={};var f=n._getAudioConstraints();"boolean"!==typeof f&&(d={optional:f}),"screen"===c&&(d.mandatory={chromeMediaSource:"desktop"})}var p={audio:d,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:o,minFrameRate:null!==(u=null===a||void 0===a?void 0:a.min)&&void 0!==u?u:s,maxFrameRate:null!==(l=null===a||void 0===a?void 0:a.max)&&void 0!==l?l:s,maxWidth:window.screen.width,maxHeight:window.screen.height}}};navigator.mediaDevices.getUserMedia(p).then((function(t){return e({stream:t,sourceId:o,sourceType:c})}),t)}else t(new r.a(i.SCREENSHARING_USER_CANCELED))}),(function(e){return t(new r.a(i.ELECTRON_DESKTOP_PICKER_ERROR,e))}))}else t(new r.a(i.ELECTRON_DESKTOP_PICKER_NOT_FOUND))},obtainScreenFromGetDisplayMedia:function(e,t){var n,s,c;c=navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices);var u=this.options.desktopSharingFrameRate,l=o.a.isChromiumBased()&&(null===(s=null===(n=this.options)||void 0===n?void 0:n.testing)||void 0===s?void 0:s.setScreenSharingResolutionConstraints),d={};"object"===typeof u&&(d.frameRate=u),l&&(d.height=99999,d.width=99999);var f=this._getAudioConstraints();d.frameRate&&delete d.frameRate.min,0===Object.keys(d).length&&(d=!0);var p={video:d,audio:f,cursor:"always"};a.info("Using getDisplayMedia for screen sharing",p),c(p).then((function(t){e({stream:t,sourceId:t.id})})).catch((function(e){var n={errorName:e&&e.name,errorMsg:e&&e.message,errorStack:e&&e.stack};a.error("getDisplayMedia error",p,n),n.errorMsg&&-1!==n.errorMsg.indexOf("denied by system")?t(new r.a(i.PERMISSION_DENIED)):t(new r.a(i.SCREENSHARING_USER_CANCELED))}))},obtainScreenFromGetDisplayMediaRN:function(e,t){a.info("Using getDisplayMedia for screen sharing"),navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(t){e({stream:t,sourceId:t.id})})).catch((function(){t(new r.a(i.SCREENSHARING_USER_CANCELED))}))},setDesktopSharingFrameRate:function(e){a.info("Setting the desktop capture rate to ".concat(e)),this.options.desktopSharingFrameRate={min:s,max:e}}};t.b=c}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(48),c=n(8);function u(e,t,n){var r=t.substring(0,1);return"".concat(e,"-").concat(r).concat(n)}function l(e){var t=e.indexOf("-")+1;if(t<=0)throw new Error("Invalid source name: ".concat(e));for(var n=e.substr(t,1),r=0,i=Object.values(c.a);r<i.length;r++){var o=i[r];if(o.substr(0,1)===n)return o}throw new Error("Invalid source name: ".concat(e))}var d=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getSSRCOwner",value:function(e){throw new Error("not implemented")}},{key:"getPeerMediaInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getPeerSourceInfo",value:function(e,t){throw new Error("not implemented")}},{key:"getTrackSourceName",value:function(e){throw new Error("not implemented")}}]),n}(s.a)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},function(e,t,n){"use strict";var r=n(69);t.a=r.a.push},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r,i=n(12),o=n(6),a=n(5),s=n(11),c=n(36),u=n.n(c),l=n(10).getLogger(e),d="createOffer",f="createAnswer",p="setLocalDescription",h="setRemoteDescription",m="addIceCandidate",v="getUserMedia",g="iceConnectionFailure",y="applicationLog",_="fabricHold",b="fabricResume",E="audioMute",S="audioUnmute",C="videoPause",T="videoResume",O="screenShareStart",R="screenShareStop",A="dominantSpeaker",w="activeDeviceList",k="error",P="event",N="mstWithUserID",I=function(){function e(t,n){Object(o.a)(this,e),this.confID=n.confID,this.tpc=t,this.peerconnection=t.peerconnection,this.remoteUserID=n.remoteUserID||"jitsi",this.hasFabric=!1,e.fabrics.add(this),e.backendInitialized&&(this._addNewFabric(),1===e.fabrics.size&&e._emptyReportQueue(this))}return Object(a.a)(e,[{key:"_addNewFabric",value:function(){l.info("addNewFabric",this.remoteUserID);try{var t={remoteEndpointType:this.tpc.isP2P?e.backend.endpointType.peer:e.backend.endpointType.server},n=e.backend.addNewFabric(this.peerconnection,this.remoteUserID,e.backend.fabricUsage.multiplex,this.confID,t,e._addNewFabricCallback);this.hasFabric=!0;var r="success"===n.status;return r||l.error("callstats fabric not initilized",n.message),r}catch(i){return u.a.callErrorHandler(i),!1}}},{key:"associateStreamWithVideoTag",value:function(t,n,r,i,o){if(e.backend){var a=n?e.userID:r;e.backendInitialized?e.backend.associateMstWithUserID(this.peerconnection,a,this.confID,t,i,o):e.reportsQueue.push({type:N,pc:this.peerconnection,data:{callStatsId:a,containerId:o,ssrc:t,usageLabel:i}})}}},{key:"sendDominantSpeakerEvent",value:function(){e._reportEvent(this,A)}},{key:"sendTerminateEvent",value:function(){e.backendInitialized&&e.backend.sendFabricEvent(this.peerconnection,e.backend.fabricEvent.fabricTerminated,this.confID),e.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){e._reportError(this,g,null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(t){e._reportError(this,d,t,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(t){e._reportError(this,f,t,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(t){e._reportEvent(this,t?b:_)}},{key:"sendScreenSharingEvent",value:function(t,n){var r;n&&(r={ssrc:n}),e._reportEvent(this,t?O:R,r)}},{key:"sendSetLocalDescFailed",value:function(t){e._reportError(this,p,t,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(t){e._reportError(this,h,t,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(t){e._reportError(this,m,t,this.peerconnection)}}],[{key:"_addNewFabricCallback",value:function(t,n){e.backend&&"success"!==t&&l.error("Monitoring status: ".concat(t," msg: ").concat(n))}},{key:"_initCallback",value:function(t,n){if(l.log("CallStats Status: err=".concat(t," msg=").concat(n)),"success"===t){e.backendInitialized=!0;var r,o=!1,a=null,s=Object(i.a)(e.fabrics.values());try{for(s.s();!(r=s.n()).done;){var c=r.value;c.hasFabric||(l.debug("addNewFabric - initCallback"),c._addNewFabric()&&(o=!0,a||(a=c)))}}catch(u){s.e(u)}finally{s.f()}o&&e._emptyReportQueue(a)}}},{key:"_emptyReportQueue",value:function(t){var n,r=t.confID,o=t.peerconnection,a=Object(i.a)(e.reportsQueue);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.type===k){var c=s.data;e._reportError(t,c.type,c.error,c.pc||o)}else if(s.type===P){var u=s.data;e.backend.sendFabricEvent(s.pc||o,u.event,r,u.eventData)}else if(s.type===N){var l=s.data;e.backend.associateMstWithUserID(s.pc||o,l.callStatsId,r,l.ssrc,l.usageLabel,l.containerId)}}}catch(d){a.e(d)}finally{a.f()}e.reportsQueue.length=0}},{key:"_reportError",value:function(t,n,r,i){var o=r;o||(l.warn("No error is passed!"),o=new Error("Unknown error")),e.backendInitialized&&t?e.backend.reportError(i,t.confID,n,o):e.reportsQueue.push({type:k,data:{error:o,pc:i,type:n}})}},{key:"_reportEvent",value:function(t,n,r){var i=t&&t.peerconnection,o=t&&t.confID;e.backendInitialized&&t?e.backend.sendFabricEvent(i,n,o,r):e.reportsQueue.push({confID:o,pc:i,type:P,data:{event:n,eventData:r}})}},{key:"_traceAndCatchBackendCalls",value:function(e){for(var t=function(){var t=r[n],i=e[t];e[t]=function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.apply(e,n)}catch(o){u.a.callErrorHandler(o)}}},n=0,r=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];n<r.length;n++)t();for(var i=function(){var t=a[o],n=e[t];e[t]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];l.debug(t,i),n.apply(e,i)}},o=0,a=["associateMstWithUserID","sendFabricEvent","sendUserFeedback"];o<a.length;o++)i();var c=e.reportError;e.reportError=function(t,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];r===y?s.a.isReactNative()||console&&console.debug("reportError",t,n,r):l.debug.apply(l,["reportError",t,n,r].concat(o));try{c.call.apply(c,[e,t,n,r].concat(o))}catch(d){r===y?console&&console.error("reportError",d):u.a.callErrorHandler(d)}}}},{key:"fabrics",get:function(){return r||(r=new Set),r}},{key:"initBackend",value:function(t){if(e.backend)throw new Error("CallStats backend has been initialized already!");try{var n=callstats;e.backend=new n,e._traceAndCatchBackendCalls(e.backend),e.userID={aliasName:t.aliasName,userName:t.userName},e.callStatsID=t.callStatsID,e.callStatsSecret=t.callStatsSecret;var r=Object.assign({},t.configParams);if(t.applicationName&&(r.applicationVersion="".concat(t.applicationName," (").concat(s.a.getName(),")")),t.confID){var i=t.confID.match(/.*\/(.*)\/.*/);r.siteID=t.siteID||i&&i[1]||"/"}e.backend.initialize(e.callStatsID,e.callStatsSecret,e.userID,e._initCallback,void 0,r);var o=t.getWiFiStatsMethod;return o&&(e.backend.attachWifiStatsHandler(o),o().then((function(e){e&&l.info("Reported wifi addresses:",JSON.parse(e).addresses)})).catch((function(){}))),!0}catch(a){return u.a.callErrorHandler(a),e.backend=null,l.error(a),!1}}},{key:"isBackendInitialized",value:function(){return Boolean(e.backend)}},{key:"sendActiveDeviceListEvent",value:function(t,n){e._reportEvent(n,w,t)}},{key:"sendApplicationLog",value:function(t,n){try{e._reportError(n,y,t,n&&n.peerconnection)}catch(r){console&&"function"===typeof console.error&&console.error("sendApplicationLog failed",r)}}},{key:"sendFeedback",value:function(t,n,r){return new Promise((function(i,o){if(e.backend)e.backend.sendUserFeedback(t,{userID:e.userID,overall:n,comment:r},(function(e,t){"success"===e?i(t):o(t)}));else{var a="Failed to submit feedback to CallStats - no backend";l.error(a),o(a)}}))}},{key:"sendGetUserMediaFailed",value:function(t,n){e._reportError(n,v,t,null)}},{key:"sendMuteEvent",value:function(t,n,r){var i;i="video"===n?t?C:T:t?E:S,e._reportEvent(r,i)}}]),e}();I.backend=null,I.reportsQueue=[],I.backendInitialized=!1,I.callStatsID=null,I.callStatsSecret=null,I.userID=null}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(344),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(_){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return P}));n(216);n(26);var r=n(6),i=n(5),o=n(9),a=n(217),s=n.n(a),c="chrome",u="opera",l="firefox",d="iexplorer",f="safari",p="nwjs",h="electron",m="react-native",v="unknown",g={Chrome:c,Chromium:c,Opera:u,Firefox:l,"Internet Explorer":d,Safari:f};function y(){var e=navigator.userAgent;if(e.match(/Electron/)){var t=e.match(/Electron(?:\s|\/)([\d.]+)/)[1];return{name:h,version:t}}}function _(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){var t=e.match(/JitsiMeetNW\/([\d.]+)/)[1];return{name:p,version:t}}}function b(){var e,t,n=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(n||"ReactNative"===navigator.product)return n&&n.length>2&&(t=n[1],e=n[2]),t||(t="react-native"),e||(e="unknown"),{name:m,version:e}}function E(e){for(var t,n=[b,y,_],r=0;r<n.length;r++)if(t=n[r]())return t;var i=e.getBrowserName();return i in g?{name:g[i],version:e.getBrowserVersion()}:(t=function(){var e=navigator.userAgent,t={name:v,version:void 0};if(e.match(/Chrome/)&&!e.match(/Edge/))if(e.match(/Edg(A?)/)){var n=e.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(n,10)>72&&(t.name=c,t.version=n)}else t.name=c,t.version=e.match(/Chrome\/([\d.]+)/)[1];return t}())||{name:v,version:void 0}}var S=function(){function e(t){var n,i;if(Object(r.a)(this,e),this._bowser=s.a.getParser(navigator.userAgent),"undefined"===typeof t){var o=E(this._bowser);n=o.name,i=o.version}else t.name in g?(n=g[t.name],i=t.version):(n=v,i=void 0);this._name=n,this._version=i}return Object(i.a)(e,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return this._name===c}},{key:"isOpera",value:function(){return this._name===u}},{key:"isFirefox",value:function(){return this._name===l}},{key:"isIExplorer",value:function(){return this._name===d}},{key:"isSafari",value:function(){return this._name===f}},{key:"isNWJS",value:function(){return this._name===p}},{key:"isElectron",value:function(){return this._name===h}},{key:"isReactNative",value:function(){return this._name===m}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(e){if(this._version)return this._bowser.satisfies(e)}},{key:"isVersionGreaterThan",value:function(e){return this._checkCondition(Object(o.a)({},this._name,">".concat(e)))}},{key:"isVersionLessThan",value:function(e){return this._checkCondition(Object(o.a)({},this._name,"<".concat(e)))}},{key:"isVersionEqualTo",value:function(e){return this._checkCondition(Object(o.a)({},this._name,"~".concat(e)))}}]),e}(),C=n(29),T=n(24),O=n(25),R=n(47),A=n.n(R);var w=function(e){Object(T.a)(n,e);var t=Object(O.a)(n);function n(){var e,i,o,a;Object(r.a)(this,n);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return e=t.call.apply(t,[this].concat(c)),i=Object(C.a)(e),a={},(o="_storage")in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,e}return Object(i.a)(n,[{key:"clear",value:function(){this._storage={}}},{key:"length",get:function(){return Object.keys(this._storage).length}},{key:"getItem",value:function(e){return this._storage[e]}},{key:"setItem",value:function(e,t){this._storage[e]=t}},{key:"removeItem",value:function(e){delete this._storage[e]}},{key:"key",value:function(e){var t=Object.keys(this._storage);if(!(t.length<=e))return t[e]}},{key:"serialize",value:function(){return JSON.stringify(this._storage)}}]),n}(A.a),k=function(e){Object(T.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(r.a)(this,n),e=t.call(this);try{e._storage=window.localStorage,e._localStorageDisabled=!1}catch(i){}return e._storage||(console.warn("Local storage is disabled."),e._storage=new w,e._localStorageDisabled=!0),e}return Object(i.a)(n,[{key:"isLocalStorageDisabled",value:function(){return this._localStorageDisabled}},{key:"clear",value:function(){this._storage.clear(),this.emit("changed")}},{key:"length",get:function(){return this._storage.length}},{key:"getItem",value:function(e){return this._storage.getItem(e)}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(e,t),n||this.emit("changed")}},{key:"removeItem",value:function(e){this._storage.removeItem(e),this.emit("changed")}},{key:"key",value:function(e){return this._storage.key(e)}},{key:"serialize",value:function(){if(this.isLocalStorageDisabled())return this._storage.serialize();for(var e=this._storage.length,t={},n=0;n<e;n++){var r=this._storage.key(n);t[r]=this._storage.getItem(r)}return JSON.stringify(t)}}]),n}(A.a),P=new k},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",h="[object RegExp]",m="[object Set]",v="[object String]",g="[object Symbol]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",R="[object Uint8Array]",A="[object Uint8ClampedArray]",w="[object Uint16Array]",k="[object Uint32Array]",P=/\w*$/,N=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,D={};D[o]=D["[object Array]"]=D[_]=D[b]=D[a]=D[s]=D[E]=D[S]=D[C]=D[T]=D[O]=D[l]=D[d]=D[f]=D[h]=D[m]=D[v]=D[g]=D[R]=D[A]=D[w]=D[k]=!0,D["[object Error]"]=D[c]=D[y]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,x="object"==typeof self&&self&&self.Object===Object&&self,L=M||x||Function("return this")(),j=t&&!t.nodeType&&t,F=j&&"object"==typeof n&&n&&!n.nodeType&&n,U=F&&F.exports===j;function V(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function B(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function J(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K=Array.prototype,q=Function.prototype,$=Object.prototype,X=L["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=q.toString,Z=$.hasOwnProperty,ee=$.toString,te=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=U?L.Buffer:void 0,re=L.Symbol,ie=L.Uint8Array,oe=W(Object.getPrototypeOf,Object),ae=Object.create,se=$.propertyIsEnumerable,ce=K.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,de=W(Object.keys,Object),fe=je(L,"DataView"),pe=je(L,"Map"),he=je(L,"Promise"),me=je(L,"Set"),ve=je(L,"WeakMap"),ge=je(Object,"create"),ye=Be(fe),_e=Be(pe),be=Be(he),Ee=Be(me),Se=Be(ve),Ce=re?re.prototype:void 0,Te=Ce?Ce.valueOf:void 0;function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){this.__data__=new Re(e)}function ke(e,t){var n=Je(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!Z.call(e,a)||i&&("length"==a||Ve(a,r))||n.push(a);return n}function Pe(e,t,n){var r=e[t];Z.call(e,t)&&Ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ne(e,t){for(var n=e.length;n--;)if(Ge(e[n][0],t))return n;return-1}function Ie(e,t,n,r,i,p,y){var N;if(r&&(N=p?r(e,i,p,y):r(e)),void 0!==N)return N;if(!qe(e))return e;var I=Je(e);if(I){if(N=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,N)}else{var M=Ue(e),x=M==c||M==u;if(ze(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(M==f||M==o||x&&!p){if(G(e))return p?e:{};if(N=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=oe(e),qe(t)?ae(t):{});var t}(x?{}:e),!t)return function(e,t){return xe(e,Fe(e),t)}(e,function(e,t){return e&&xe(t,$e(t),e)}(N,e))}else{if(!D[M])return p?e:{};N=function(e,t,n,r){var i=e.constructor;switch(t){case _:return Me(e);case a:case s:return new i(+e);case b:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case S:case C:case T:case O:case R:case A:case w:case k:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){var r=t?n(J(e),!0):J(e);return B(r,V,new e.constructor)}(e,r,n);case d:case v:return new i(e);case h:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){var r=t?n(z(e),!0):z(e);return B(r,H,new e.constructor)}(e,r,n);case g:return o=e,Te?Object(Te.call(o)):{}}var o}(e,M,Ie,t)}}y||(y=new we);var L=y.get(e);if(L)return L;if(y.set(e,N),!I)var j=n?function(e){return function(e,t,n){var r=t(e);return Je(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,$e,Fe)}(e):$e(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(i,o){j&&(i=e[o=i]),Pe(N,o,Ie(i,t,n,r,o,e,y))})),N}function De(e){return!(!qe(e)||(t=e,Y&&Y in t))&&(Ke(e)||G(e)?te:N).test(Be(e));var t}function Me(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function xe(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Pe(n,a,void 0===s?e[a]:s)}return n}function Le(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=ge?ge(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Re.prototype.clear=function(){this.__data__=[]},Re.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Re.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},Re.prototype.has=function(e){return Ne(this.__data__,e)>-1},Re.prototype.set=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Oe,map:new(pe||Re),string:new Oe}},Ae.prototype.delete=function(e){return Le(this,e).delete(e)},Ae.prototype.get=function(e){return Le(this,e).get(e)},Ae.prototype.has=function(e){return Le(this,e).has(e)},Ae.prototype.set=function(e,t){return Le(this,e).set(e,t),this},we.prototype.clear=function(){this.__data__=new Re},we.prototype.delete=function(e){return this.__data__.delete(e)},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Re){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var Fe=ue?W(ue,Object):function(){return[]},Ue=function(e){return ee.call(e)};function Ve(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function Be(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ge(e,t){return e===t||e!==e&&t!==t}(fe&&Ue(new fe(new ArrayBuffer(1)))!=b||pe&&Ue(new pe)!=l||he&&Ue(he.resolve())!=p||me&&Ue(new me)!=m||ve&&Ue(new ve)!=y)&&(Ue=function(e){var t=ee.call(e),n=t==f?e.constructor:void 0,r=n?Be(n):void 0;if(r)switch(r){case ye:return b;case _e:return l;case be:return p;case Ee:return m;case Se:return y}return t});var Je=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Ke(e)}var ze=le||function(){return!1};function Ke(e){var t=qe(e)?ee.call(e):"";return t==c||t==u}function qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $e(e){return We(e)?ke(e):function(e){if(!He(e))return de(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Ie(e,!0,!0)}}).call(this,n(103),n(199)(e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(1),i=n(13),o=["xs","sm","md","lg","xl"];function a(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,u=void 0===c?5:c,l=Object(i.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=o.indexOf(t);return r===o.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-u/100).concat(s,")")}return Object(r.a)({keys:o,values:n,up:d,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(178).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=a?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(113)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(57),i=n(64),o=n(0),a=n.n(o),s=n(76),c=n(1),u=n(54),l=n(79),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var f=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},h=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=h);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(u.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(c.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=h!==m&&t||n,a.a.createElement("a",l)}));var g=m((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,d=e.to,g=e.innerRef,y=Object(u.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=p(f(d,e.location),e.location),u=r?n.createHref(r):"",v=Object(c.a)({},y,{href:u,navigate:function(){var t=f(d,e.location),r=Object(s.e)(e.location)===Object(s.e)(p(t));(o||r?n.replace:n.push)(t)}});return h!==m?v.ref=t||g:v.innerRef=g,a.a.createElement(i,v)}))})),y=function(e){return e},_=a.a.forwardRef;"undefined"===typeof _&&(_=y);_((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,d=e.activeStyle,h=e.className,m=e.exact,v=e.isActive,b=e.location,E=e.sensitive,S=e.strict,C=e.style,T=e.to,O=e.innerRef,R=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=b||e.location,o=p(f(T,n),n),u=o.pathname,A=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=A?Object(r.e)(n.pathname,{path:A,exact:m,sensitive:E,strict:S}):null,k=!!(v?v(w,n):w),P="function"===typeof h?h(k):h,N="function"===typeof C?C(k):C;k&&(P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(P,s),N=Object(c.a)({},N,d));var I=Object(c.a)({"aria-current":k&&i||null,className:P,style:N,to:o},R);return y!==_?I.ref=t||O:I.innerRef=O,a.a.createElement(g,I)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(24),i=n(25),o=n(5),a=n(6),s=n(48);function c(){return function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).connection=null,e}return Object(o.a)(n,[{key:"init",value:function(e){this.connection=e}}]),n}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return Object(o.a)((function e(){Object(a.a)(this,e)}))}())}t.b=c();var u=c(s.a)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiConnectionErrors",(function(){return r})),n.d(t,"CONNECTION_DROPPED_ERROR",(function(){return i})),n.d(t,"OTHER_ERROR",(function(){return o})),n.d(t,"PASSWORD_REQUIRED",(function(){return a})),n.d(t,"SERVER_ERROR",(function(){return s})),function(e){e.CONNECTION_DROPPED_ERROR="connection.droppedError",e.OTHER_ERROR="connection.otherError",e.PASSWORD_REQUIRED="connection.passwordRequired",e.SERVER_ERROR="connection.serverError"}(r||(r={}));var i=r.CONNECTION_DROPPED_ERROR,o=r.OTHER_ERROR,a=r.PASSWORD_REQUIRED,s=r.SERVER_ERROR},function(e,t,n){"use strict";var r=n(357);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(12),i=n(6),o=n(5),a=n(29),s=n(24),c=n(25),u=n(10),l=n(7),d=(n(325),n(48)),f=n(226),p=n(228),h=n(229),m=Object(u.getLogger)(e),v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r,o=e.enableWebsocketResume,s=e.websocketKeepAlive,c=e.websocketKeepAliveUrl,u=e.serviceUrl,d=e.shard,m=e.xmppPing;return Object(i.a)(this,n),(r=t.call(this))._options={enableWebsocketResume:"undefined"===typeof o||o,pingOptions:m,shard:d,websocketKeepAlive:"undefined"===typeof s?6e4:Number(s),websocketKeepAliveUrl:c},r._stropheConn=new l.Strophe.Connection(u),r._usesWebsocket=u.startsWith("ws:")||u.startsWith("wss:"),r._stropheConn.maxRetries=3,r._rawInputTracker=new p.a,r._rawInputTracker.startTracking(Object(a.a)(r),r._stropheConn),r._resumeTask=new f.a(r._stropheConn),r._deferredIQs=[],r.addConnectionPlugin("ping",new h.a({getTimeSinceLastServerResponse:function(){return r.getTimeSinceLastSuccess()},onPingThresholdExceeded:function(){return r._onPingErrorThresholdExceeded()},pingOptions:m})),r._oneSuccessfulConnect=!1,r}return Object(o.a)(n,[{key:"connected",get:function(){var e=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===l.Strophe.Status.CONNECTED||this._status===l.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||e&&e.readyState===WebSocket.OPEN)}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"pingDomain",get:function(){var e;return(null===(e=this._options.pingOptions)||void 0===e?void 0:e.domain)||this.domain}},{key:"service",get:function(){return this._stropheConn.service}},{key:"shard",set:function(e){this._options.shard=e,this._oneSuccessfulConnect&&this._maybeStartWSKeepAlive()}},{key:"status",get:function(){return this._status}},{key:"addConnectionPlugin",value:function(e,t){this[e]=t,t.init(this)}},{key:"addHandler",value:function(){var e;(e=this._stropheConn).addHandler.apply(e,arguments)}},{key:"attach",value:function(e,t,n,r){for(var i,o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];(i=this._stropheConn).attach.apply(i,[e,t,n,this._stropheConnectionCb.bind(this,r)].concat(a))}},{key:"connect",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];(r=this._stropheConn).connect.apply(r,[e,t,this._stropheConnectionCb.bind(this,n)].concat(o))}},{key:"_stropheConnectionCb",value:function(e,t){var r;this._status=t;var i=!1;if(t===l.Strophe.Status.CONNECTED||t===l.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null===(r=this._options.pingOptions)||void 0===r?void 0:r.domain)||this.domain)):t===l.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),(i=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive)),!i){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[t].concat(a)),this.eventEmitter.emit(n.Events.CONN_STATUS_CHANGED,t)}}},{key:"_clearDeferredIQs",value:function(){var e,t=Object(r.a)(this._deferredIQs);try{for(t.s();!(e=t.n()).done;){e.value.reject(new Error("disconnect"))}}catch(n){t.e(n)}finally{t.f()}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null))}},{key:"disconnect",value:function(){var e;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(e=this._stropheConn).disconnect.apply(e,arguments)}},{key:"flush",value:function(){var e;(e=this._stropheConn).flush.apply(e,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._rawInputTracker.getTimeSinceLastSuccess()}},{key:"getLastFailedMessage",value:function(){return this._rawInputTracker.getLastFailedMessage()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var e=this._stropheConn.streamManagement;this.isUsingWebSocket?e?e.isSupported()?e.getResumeToken()||(m.info("Enabling XEP-0198 stream management"),e.enable(!0)):m.warn("Stream resume enabled, but XEP-0198 is not supported by the server"):m.warn("Stream resume enabled, but Strophe streamManagement plugin is not installed"):m.warn("Stream resume enabled, but WebSockets are not enabled")}}},{key:"_maybeStartWSKeepAlive",value:function(){var e=this,t=this._options.websocketKeepAlive;if(this._usesWebsocket&&t>0){this._wsKeepAlive||m.info("WebSocket keep alive interval: ".concat(t,"ms")),clearTimeout(this._wsKeepAlive);var n=t+60*Math.random()*1e3;m.debug("Scheduling next WebSocket keep-alive in ".concat(n,"ms")),this._wsKeepAlive=setTimeout((function(){return e._keepAliveAndCheckShard().then((function(){return e._maybeStartWSKeepAlive()}))}),n)}}},{key:"_keepAliveAndCheckShard",value:function(){var e=this,t=this._options,r=t.shard,i=t.websocketKeepAliveUrl,o=i||this.service.replace("wss://","https://").replace("ws://","http://");return fetch(o).then((function(t){if(r){var i=t.headers.get("x-jitsi-shard");i!==r&&(m.error("Detected that shard changed from ".concat(r," to ").concat(i)),e.eventEmitter.emit(n.Events.CONN_SHARD_CHANGED))}})).catch((function(e){m.error("Websocket Keep alive failed for url: ".concat(o),{error:e})}))}},{key:"_processDeferredIQs",value:function(){var e,t=this,n=Object(r.a)(this._deferredIQs);try{var i=function(){var n=e.value;if(n.iq){clearTimeout(n.timeout);var r=Date.now()-n.start;t.sendIQ(n.iq,(function(e){return n.resolve(e)}),(function(e){return n.reject(e)}),r)}};for(n.s();!(e=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}this._deferredIQs=[]}},{key:"send",value:function(e){if(!this.connected)throw new Error("Not connected");this._stropheConn.send(e)}},{key:"sendIQ",value:function(e,t,n,r){if(this.connected)return this._stropheConn.sendIQ(e,t,n,r);n("Not connected")}},{key:"sendIQ2",value:function(e,t){var n=this,r=t.timeout;return new Promise((function(t,i){if(n.connected)n.sendIQ(e,(function(e){return t(e)}),(function(e){return i(e)}),r);else{var o={iq:e,resolve:t,reject:i,start:Date.now(),timeout:setTimeout((function(){o.iq=void 0,i(void 0)}),r)};n._deferredIQs.push(o)}}))}},{key:"_onPingErrorThresholdExceeded",value:function(){this.isUsingWebSocket&&(m.warn("Ping error threshold exceeded - killing the WebSocket"),this.closeWebsocket())}},{key:"sendPresence",value:function(e,t,n,r){this.connected?this._stropheConn.sendPresence(e,t,n,r):n("Not connected")}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(l.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var e=this._stropheConn._proto._buildBody().attrs({type:"terminate"}),t=Object(l.$pres)({xmlns:l.Strophe.NS.CLIENT,type:"unavailable"});e.cnode(t.tree());var n=navigator.sendBeacon(-1===this.service.indexOf("https://")?"https:".concat(this.service):this.service,l.Strophe.serialize(e.tree()));return m.info("Successfully send unavailable beacon ".concat(n)),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var e=this._stropheConn.streamManagement;return!(!e||!e.getResumeToken())&&(this._resumeTask.schedule(),!0)}}],[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:"CONN_STATUS_CHANGED",CONN_SHARD_CHANGED:"CONN_SHARD_CHANGED"}}},{key:"Status",get:function(){return l.Strophe.Status}}]),n}(d.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return g}));var r=n(6),i=n(5),o=n(10),a=n(45),s=n.n(a),c=n(28),u=n(8),l=n(32),d=n(11),f=n(20),p=Object(o.getLogger)(e),h=25e5,m=1,v=["1","2","3"],g=function(){function e(t){var n,i,o;Object(r.a)(this,e),this.pc=t;var a=null===(i=null===(n=this.pc.options)||void 0===n?void 0:n.videoQuality)||void 0===i?void 0:i.maxBitratesVideo,s={low:2e5,standard:7e5,high:h};this.videoBitrates=null!==a&&void 0!==a?a:s;var c=null!==(o=this.videoBitrates.VP8)&&void 0!==o?o:this.videoBitrates;this.localStreamEncodingsConfig=[{active:!0,maxBitrate:d.a.isFirefox()?c.high:c.low,rid:"1",scaleResolutionDownBy:d.a.isFirefox()?m:4},{active:!0,maxBitrate:c.standard,rid:"2",scaleResolutionDownBy:2},{active:!0,maxBitrate:d.a.isFirefox()?c.low:c.high,rid:"3",scaleResolutionDownBy:d.a.isFirefox()?4:m}]}return Object(i.a)(e,[{key:"_getStreamEncodings",value:function(e){return this.pc.isSimulcastOn()&&e.isVideoTrack()?this.localStreamEncodingsConfig:e.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}]}},{key:"ensureCorrectOrderOfSsrcs",value:function(e){var t=s.a.parse(e.sdp);return t.media.forEach((function(e){if(e.type!==u.a.AUDIO&&e.ssrcGroups&&e.ssrcGroups.length){var t=[],n=new Set;e.ssrcGroups.map((function(e){return e.ssrcs.split(" ").filter(Boolean).forEach((function(e){return n.add(e)}))})),n.forEach((function(n){var r=e.ssrcs.filter((function(e){return e.id.toString()===n}));t=t.concat(r)})),e.ssrcs=t}})),new RTCSessionDescription({type:e.type,sdp:s.a.write(t)})}},{key:"findTransceiver",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===t||void 0===t?void 0:t.track)&&t.getOriginalStream()?this.pc.peerconnection.getTransceivers().find((function(e){var n,r;return(null===(r=null===(n=e.sender)||void 0===n?void 0:n.track)||void 0===r?void 0:r.id)===t.getTrackId()})):this.pc.peerconnection.getTransceivers().find((function(t){var n,r;return(null===(r=null===(n=t.receiver)||void 0===n?void 0:n.track)||void 0===r?void 0:r.kind)===e}))}},{key:"insertUnifiedPlanSimulcastReceive",value:function(e){if(d.a.usesSdpMungingForSimulcast())return e;var t=s.a.parse(e.sdp),n=t.media.findIndex((function(e){return e.type===u.a.VIDEO}));if(t.media[n].rids&&(t.media[n].simulcast_03||t.media[n].simulcast))return t.media.forEach((function(e,r){e.type===u.a.VIDEO&&r!==n&&(t.media[r].rids=void 0,t.media[r].simulcast=void 0,t.media[r].simulcast_03=void 0)})),new RTCSessionDescription({type:e.type,sdp:s.a.write(t)});t.media[n].rids=[{id:"1",direction:"recv"},{id:"2",direction:"recv"},{id:"3",direction:"recv"}];var r=d.a.isFirefox()&&d.a.isVersionGreaterThan(71)?"recv ".concat(v.join(";")):"recv rid=".concat(v.join(";"));return t.media[n].simulcast_03={value:r},new RTCSessionDescription({type:e.type,sdp:s.a.write(t)})}},{key:"addTrack",value:function(e,t){var n=e.getTrack();if(t){var r=[];e.getOriginalStream()&&r.push(e.getOriginalStream());var i={direction:c.a.SENDRECV,streams:r,sendEncodings:[]};d.a.isFirefox()||(i.sendEncodings=this._getStreamEncodings(e)),this.pc.peerconnection.addTransceiver(n,i)}else this.pc.peerconnection.addTrack(n)}},{key:"calculateEncodingsActiveState",value:function(e,t){var n=this,r=e.getTrack().getSettings().height;return this.localStreamEncodingsConfig.map((function(e){return r/e.scaleResolutionDownBy})).map((function(r,i){var o,a=e.getVideoType()!==l.VideoType.CAMERA||(t>0&&4===(null===(o=n.localStreamEncodingsConfig[i])||void 0===o?void 0:o.scaleResolutionDownBy)||r<=t);return n.pc.isSharingLowFpsScreen()&&e.getVideoType()===l.VideoType.DESKTOP&&n.pc.usesUnifiedPlan()&&!d.a.isWebKitBased()&&n.localStreamEncodingsConfig[i].scaleResolutionDownBy!==m&&(a=!1),a}))}},{key:"calculateEncodingsBitrates",value:function(e){var t,n,r=this,i=e.getVideoType(),o=(null===(n=null===(t=this.pc.options)||void 0===t?void 0:t.videoQuality)||void 0===n?void 0:n.desktopBitrate)||5e5,a=e._originalStream&&e._originalStream.id!==e.getStreamId();return this.localStreamEncodingsConfig.map((function(e){return r.pc.isSharingLowFpsScreen()&&!d.a.isWebKitBased()?a?h:o:i===l.VideoType.DESKTOP&&d.a.isChromiumBased()&&!r.pc.usesUnifiedPlan()?void 0:e.maxBitrate}))}},{key:"replaceTrack",value:function(e,t){var n,r,i,o,a=null!==(n=null===t||void 0===t?void 0:t.getType())&&void 0!==n?n:null===e||void 0===e?void 0:e.getType(),s=this.pc.getLocalTracks(a),u=null!==(r=null===t||void 0===t?void 0:t.getTrack())&&void 0!==r?r:null,l=f.a.isMultiStreamSupportEnabled()&&(null===s||void 0===s?void 0:s.length)&&!e&&t&&!s.find((function(e){return e===t}));if(e&&!e.isMuted())o=this.pc.peerconnection.getTransceivers().find((function(t){return t.sender.track===e.getTrack()}));else if(l)o=this.pc.peerconnection.getTransceivers().find((function(e){return e.receiver.track.kind===a&&e.direction===c.a.RECVONLY&&e.currentDirection===c.a.INACTIVE}));else{o=this.pc.peerconnection.getTransceivers().find((function(e){return e.receiver.track.kind===a}));var d=null!==(i=null===t||void 0===t?void 0:t.getSourceName())&&void 0!==i?i:null===e||void 0===e?void 0:e.getSourceName();if(d){var h=Number(d.split("-")[1].substring(1));h&&(o=this.pc.peerconnection.getTransceivers().filter((function(e){return e.receiver.track.kind===a&&e.direction!==c.a.RECVONLY}))[h])}}return o?(p.debug("".concat(this.pc," Replacing ").concat(e," with ").concat(t)),o.sender.replaceTrack(u).then((function(){return Promise.resolve(o)}))):Promise.reject(new Error("replace track failed"))}},{key:"setAudioTransferActive",value:function(e){this.setMediaTransferActive(u.a.AUDIO,e)}},{key:"setEncodings",value:function(e){var t,n,r=e.getType(),i=this.findTransceiver(r,e),o=null===(t=null===i||void 0===i?void 0:i.sender)||void 0===t?void 0:t.getParameters();return(null===(n=null===o||void 0===o?void 0:o.encodings)||void 0===n?void 0:n.length)?(o.encodings=this._getStreamEncodings(e),i.sender.setParameters(o)):Promise.resolve()}},{key:"setMediaTransferActive",value:function(e,t){var n=this.pc.peerconnection.getTransceivers().filter((function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===e})),r=this.pc.getLocalTracks(e);p.info("".concat(this.pc," ").concat(t?"Enabling":"Suspending"," ").concat(e," media transfer.")),n.forEach((function(e,n){t?n<r.length?e.direction=c.a.SENDRECV:e.direction=c.a.RECVONLY:e.direction=c.a.INACTIVE}))}},{key:"setVideoTransferActive",value:function(e){this.setMediaTransferActive(u.a.VIDEO,e)}},{key:"updateEncodingsResolution",value:function(e){var t=this;if(d.a.isWebKitBased()&&e.encodings&&Array.isArray(e.encodings)){var n;(n=e.encodings).every((function(e){return"undefined"!==typeof e.scaleResolutionDownBy&&e.scaleResolutionDownBy===n[0].scaleResolutionDownBy}))&&e.encodings.forEach((function(e,n){e.scaleResolutionDownBy=t.localStreamEncodingsConfig[n].scaleResolutionDownBy}))}}}]),e}()}).call(this,"/index.js")},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a={}},function(e,t,n){"use strict";var r=n(292),i=Object(r.b)();t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";var r=n(69);t.a=r.a.indexOf},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="https://api.callstats.io/static/callstats-ws.min.js",i=5},function(e,t,n){"use strict";var r=n(0),i=r.createContext({});t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(5),o=function(){function e(){var t=this;Object(r.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=function(){t.clearRejectTimeout(),e.apply(void 0,arguments)},t.reject=function(){t.clearRejectTimeout(),n.apply(void 0,arguments)}})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return Object(i.a)(e,[{key:"clearRejectTimeout",value:function(){clearTimeout(this._timeout)}},{key:"setRejectTimeout",value:function(e){var t=this;this._timeout=setTimeout((function(){t.reject(new Error("timeout"))}),e)}}]),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"capitalize",(function(){return r.a})),n.d(t,"createChainedFunction",(function(){return i.a})),n.d(t,"createSvgIcon",(function(){return o.a})),n.d(t,"debounce",(function(){return a.a})),n.d(t,"deprecatedPropType",(function(){return s.a})),n.d(t,"isMuiElement",(function(){return c.a})),n.d(t,"ownerDocument",(function(){return u.a})),n.d(t,"ownerWindow",(function(){return l.a})),n.d(t,"requirePropFactory",(function(){return d.a})),n.d(t,"setRef",(function(){return f.a})),n.d(t,"unsupportedProp",(function(){return p})),n.d(t,"useControlled",(function(){return h.a})),n.d(t,"useEventCallback",(function(){return m.a})),n.d(t,"useForkRef",(function(){return v.a})),n.d(t,"unstable_useId",(function(){return g.a})),n.d(t,"useIsFocusVisible",(function(){return y.a}));var r=n(34),i=n(77),o=n(125),a=n(105),s=n(82),c=n(108),u=n(52),l=n(123),d=n(179),f=n(73);function p(e,t,n,r,i){return null}var h=n(122),m=n(66),v=n(38),g=n(150),y=n(124)},function(e,t){function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function r(e){return e[n(0,e.length-1)]}var i={randomHexDigit:function(){return r("0123456789abcdef")},randomHexString:function(e){for(var t="";e--;)t+=this.randomHexDigit();return t},randomElement:r,randomAlphanumStr:function(e){for(var t="",n=0;n<e;n+=1)t+=r("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t},randomInt:n};e.exports=i},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");t.default=a},function(e,t){e.exports={ENVIRONMENT:"environment",USER:"user"}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substring(14).split(" ")},r.parseRtpMap=function(e){var t=e.substring(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substring(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},r.parseSsrcGroup=function(e){var t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substring(6)},r.parseFingerprint=function(e){var t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substring(12),password:i.substring(10)}:null},r.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},r.parseRtpParameters=function(e){var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" ");t.profile=n[2];for(var i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))}));var u=r.matchPrefix(e,"a=rtcp-fb:* ").map(r.parseRtcpFb);return t.codecs.forEach((function(e){u.forEach((function(t){e.rtcpFeedback.find((function(e){return e.type===t.type&&e.parameter===t.parameter}))||e.rtcpFeedback.push(t)}))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substring(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substring(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substring(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:t};var a=r.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=a[0].substring(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,22)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substring(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substring(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substring(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiMediaDevicesEvents",(function(){return r})),n.d(t,"DEVICE_LIST_CHANGED",(function(){return i})),n.d(t,"PERMISSIONS_CHANGED",(function(){return o})),n.d(t,"PERMISSION_PROMPT_IS_SHOWN",(function(){return a})),n.d(t,"SLOW_GET_USER_MEDIA",(function(){return s})),function(e){e.DEVICE_LIST_CHANGED="mediaDevices.devicechange",e.PERMISSIONS_CHANGED="rtc.permissions_changed",e.PERMISSION_PROMPT_IS_SHOWN="mediaDevices.permissionPromptIsShown",e.SLOW_GET_USER_MEDIA="mediaDevices.slowGetUserMedia"}(r||(r={}));var i=r.DEVICE_LIST_CHANGED,o=r.PERMISSIONS_CHANGED,a=r.PERMISSION_PROMPT_IS_SHOWN,s=r.SLOW_GET_USER_MEDIA},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c}));var r="MAIN_THREAD_FINISH",i="MAIN_THREAD_INIT",o="MAIN_THREAD_NEW_DATA_ARRIVED",a="WORKER_LIBFLAC_READY",s="WORKER_BLOB_READY",c="DEBUG"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),i=n(5),o=n(33),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"start",value:function(e){throw new Error("Not implemented")}},{key:"stop",value:function(){throw new Error("Not implemented")}},{key:"exportRecordedData",value:function(){throw new Error("Not implemented")}},{key:"setMuted",value:function(e){throw new Error("Not implemented")}},{key:"setMicDevice",value:function(e){throw new Error("Not implemented")}},{key:"_getAudioStream",value:function(e){return o.a.createLocalTracks({devices:["audio"],micDeviceId:e}).then((function(e){if(1!==e.length)throw new Error("Unexpected number of streams from createLocalTracks.");var t=e[0].stream;if(void 0===t)throw new Error("Failed to create local track.");return t}))}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback((function(e){i||s(e)}),[])]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(52);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=n(42),o=!0,a=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!c[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function h(){return{isFocusVisible:f,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),i=n(0),o=n.n(i),a=n(13),s=n(15),c=n(22),u=n(34),l=i.forwardRef((function(e,t){var n=e.children,o=e.classes,c=e.className,l=e.color,d=void 0===l?"inherit":l,f=e.component,p=void 0===f?"svg":f,h=e.fontSize,m=void 0===h?"medium":h,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,_=void 0===y?"0 0 24 24":y,b=Object(a.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(p,Object(r.a)({className:Object(s.a)(o.root,c,"inherit"!==d&&o["color".concat(Object(u.a)(d))],"default"!==m&&"medium"!==m&&o["fontSize".concat(Object(u.a)(m))]),focusable:"false",viewBox:_,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},b),n,g?i.createElement("title",null,g):null)}));l.muiName="SvgIcon";var d=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function f(e,t){var n=function(t,n){return o.a.createElement(d,Object(r.a)({ref:n},t),e)};return n.muiName=d.muiName,o.a.memo(o.a.forwardRef(n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(141);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){var r=n(322),i={loadScript:function(e,t,n,i,o,a){var s=document,c="script",u=s.createElement(c),l=s.getElementsByTagName(c)[0];if(u.async=t,i){var d=r();if(d){var f=d.src,p=f.substring(0,f.lastIndexOf("/")+1);f&&p&&(e=p+e)}}o&&(u.onload=o),a&&(u.onerror=a),u.src=e,n?l.parentNode.insertBefore(u,l):l.parentNode.appendChild(u)}};e.exports=i},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(4),c=n(39),u=n(8),l=n(18),d=n(23),f=n(11),p=n(17),h=Object(a.getLogger)(e),m={ACTIVE:"active",INACTIVE:"inactive",INTERRUPTED:"interrupted",RESTORING:"restoring"},v=function(){function e(t,n,r){Object(i.a)(this,e),this.rtc=t,this.conference=n,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout="number"===typeof r.outOfLastNTimeout?r.outOfLastNTimeout:500,this.p2pRtcMuteTimeout="number"===typeof r.p2pRtcMuteTimeout?r.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"===typeof r.rtcMuteTimeout?r.rtcMuteTimeout:1e4,this.rtcMutedTimestamp={},h.info("RtcMuteTimeout set to: ".concat(this.rtcMuteTimeout)),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return Object(o.a)(e,[{key:"_getVideoFrozenTimeout",value:function(e){return this.rtc.isInLastN(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(l.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(s.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(s.USER_LEFT,this._onUserLeft),f.a.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(l.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(l.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(s.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(s.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(s.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(l.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(l.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),f.a.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(l.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(l.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(s.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(s.TRACK_REMOVED,this._onRemoteTrackRemoved)),this.conference.off(s.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this.rtc.removeListener(l.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(s.P2P_STATUS,this._onP2PStatus),this.conference.off(s.USER_LEFT,this._onUserLeft);for(var e=0,t=Object.keys(this.trackTimers);e<t.length;e++){var n=t[e];this.clearTimeout(n),this.clearRtcMutedTimestamp(n)}for(var r in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(r)&&this.onUserLeft(r);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(e,t){h.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED(".concat(Date.now(),"): ").concat(e,": ").concat(t)),e!==this.conference.myUserId()&&(this.connStatusFromJvb[e]=t,this.figureOutConnectionStatus(e))}},{key:"_changeConnectionStatus",value:function(e,t){if(e.getConnectionStatus()!==t){var n=e.getId();e._setConnectionStatus(t),h.debug("Emit endpoint conn status(".concat(Date.now(),") ").concat(n,": ").concat(t)),p.a.sendLog(JSON.stringify({id:"peer.conn.status",participant:n,status:t})),this.conference.eventEmitter.emit(s.PARTICIPANT_CONN_STATUS_CHANGED,n,t)}}},{key:"clearTimeout",value:function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)}},{key:"clearRtcMutedTimestamp",value:function(e){this.rtcMutedTimestamp[e]=null}},{key:"onRemoteTrackAdded",value:function(e){var t=this;e.isLocal()||e.getType()!==u.a.VIDEO||(h.debug("Detector on remote track added for: ".concat(e.getParticipantId())),e.on(c.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),e.on(c.TRACK_VIDEOTYPE_CHANGED,(function(n){return t._onTrackVideoTypeChanged(e,n)})))}},{key:"onRemoteTrackRemoved",value:function(e){if(!e.isLocal()&&e.getType()===u.a.VIDEO){var t=e.getParticipantId();h.debug("Detector on remote track removed: ".concat(t)),e.off(c.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}}},{key:"isVideoTrackFrozen",value:function(e){if(!f.a.supportsVideoMuteOnConnInterrupted())return!1;var t=e.getId(),n=e.hasAnyVideoTrackWebRTCMuted(),r=this.rtcMutedTimestamp[t],i=this._getVideoFrozenTimeout(t);return n&&"number"===typeof r&&Date.now()-r>=i}},{key:"refreshConnectionStatusForAll",value:function(){var e,t=this.conference.getParticipants(),n=Object(r.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.figureOutConnectionStatus(i.getId())}}catch(o){n.e(o)}finally{n.f()}}},{key:"figureOutConnectionStatus",value:function(t){var n=this.conference.getParticipantById(t);if(n){var r=this.conference.isP2PActive(),i=this._isRestoringTimedout(t),o=0===this.conference.getLastN(),a=n.isVideoMuted()||o,s=this.isVideoTrackFrozen(n),c=this.rtc.isInLastN(t),l=this.connStatusFromJvb[t];"boolean"!==typeof l&&(l=!0);var d=r?e._getNewStateForP2PMode(a,s):e._getNewStateForJvbMode(l,c,i,a,s);d!==m.RESTORING&&this._clearRestoringTimer(t),h.debug("Figure out conn status for ".concat(t,", is video muted: ").concat(a," is active(jvb): ").concat(l," video track frozen: ").concat(s," p2p mode: ").concat(r," is in last N: ").concat(c," currentStatus => newStatus: ").concat(n.getConnectionStatus()," => ").concat(d));var f=this.connectionStatusMap[t]||{};if(!("p2p"in f)||!("connectionStatus"in f)||f.p2p!==r||f.connectionStatus!==d){var p=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(t,p),this.connectionStatusMap[t]=Object.assign(Object.assign({},f),{connectionStatus:d,p2p:r,startedMs:p}),!("videoType"in this.connectionStatusMap[t])){var v=n.getTracksByMediaType(u.a.VIDEO);Array.isArray(v)&&0!==v.length&&(this.connectionStatusMap[t].videoType=v[0].videoType)}}this._changeConnectionStatus(n,d)}else h.debug("figure out conn status - no participant for: ".concat(t))}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(e,t){var n=this.connectionStatusMap[e];n&&"startedMs"in n&&"videoType"in n&&"connectionStatus"in n&&"p2p"in n&&(n.value=t-n.startedMs,p.a.sendAnalytics(Object(d.I)(n)))}},{key:"_onLastNChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Date.now();h.debug("LastN endpoints changed leaving=".concat(e,", entering=").concat(t," at ").concat(n)),f.a.supportsVideoMuteOnConnInterrupted()||this.refreshConnectionStatusForAll();var i,o=Object(r.a)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.enteredLastNTimestamp.delete(a),this._clearRestoringTimer(a),f.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(a)}}catch(l){o.e(l)}finally{o.f()}var s,c=Object(r.a)(t);try{for(c.s();!(s=c.n()).done;){var u=s.value;this.enteredLastNTimestamp.set(u,n),f.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutConnectionStatus(u)}}catch(l){c.e(l)}finally{c.f()}}},{key:"_clearRestoringTimer",value:function(e){var t=this.restoringTimers.get(e);t&&(clearTimeout(t),this.restoringTimers.delete(e))}},{key:"_isRestoringTimedout",value:function(e){var t=this,n=this.enteredLastNTimestamp.get(e);return!!(n&&Date.now()-n>=1e4)||(this.restoringTimers.get(e)||this.restoringTimers.set(e,setTimeout((function(){return t.figureOutConnectionStatus(e)}),1e4)),!1)}},{key:"onUserLeft",value:function(e){this.maybeSendParticipantConnectionStatusEvent(e,Date.now()),delete this.connectionStatusMap[e]}},{key:"onTrackRtcMuted",value:function(e){var t=this,n=e.getParticipantId(),r=this.conference.getParticipantById(n);if(h.debug("Detector track RTC muted: ".concat(n),Date.now()),r){if(this.rtcMutedTimestamp[n]=Date.now(),!r.isVideoMuted()){this.clearTimeout(n);var i=this._getVideoFrozenTimeout(n);this.trackTimers[n]=window.setTimeout((function(){h.debug("Set RTC mute timeout for: ".concat(n,"                     of ").concat(i," ms")),t.clearTimeout(n),t.figureOutConnectionStatus(n)}),i)}}else h.error("No participant for id: ".concat(n))}},{key:"onTrackRtcUnmuted",value:function(e){var t=e.getParticipantId();h.debug("Detector track RTC unmuted: ".concat(t),Date.now()),this.clearTimeout(t),this.clearRtcMutedTimestamp(t),this.figureOutConnectionStatus(t)}},{key:"onSignallingMuteChanged",value:function(e){var t=e.getParticipantId();h.debug("Detector on track signalling mute changed: ".concat(t),e.isMuted()),this.figureOutConnectionStatus(t)}},{key:"onTrackVideoTypeChanged",value:function(e,t){var n=e.getParticipantId(),r=Date.now();this.maybeSendParticipantConnectionStatusEvent(n,r),this.connectionStatusMap[n]=Object.assign(Object.assign({},this.connectionStatusMap[n]||{}),{videoType:t,startedMs:r})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,r,i){return e?r?m.ACTIVE:f.a.supportsVideoMuteOnConnInterrupted()?i?t?n?m.INTERRUPTED:m.RESTORING:m.INACTIVE:m.ACTIVE:t?m.ACTIVE:m.INACTIVE:m.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(e,t){return f.a.supportsVideoMuteOnConnInterrupted()?e||!t?m.ACTIVE:m.INTERRUPTED:m.ACTIVE}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(200).default,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;t.parse=function(e){var n="object"===typeof(arguments.length<=1?void 0:arguments[1])&&(arguments.length<=1?void 0:arguments[1]),r=(arguments.length<=1?0:arguments.length-1)>1||!n?arguments.length<=1?void 0:arguments[1]:void 0,o=(arguments.length<=1?0:arguments.length-1)>1&&(arguments.length<=2?void 0:arguments[2])||n||{},a=JSON.parse(e,r);return"ignore"===o.protoAction?a:a&&"object"===typeof a&&e.match(i)?(t.scan(a,o),a):a},t.scan=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[e];n.length;){var i=n;n=[];var o,a=r(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Object.prototype.hasOwnProperty.call(s,"__proto__")){if("remove"!==t.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}for(var c in s){var u=s[c];u&&"object"===typeof u&&n.push(s[c])}}}catch(l){a.e(l)}finally{a.f()}}},t.safeParse=function(e,n){try{return t.parse(e,n)}catch(r){return null}}},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}),"MicOff");t.default=a},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(48),u="NETWORK_INFO_CHANGED",l=Object(s.getLogger)(e),d=new(function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._current={isOnline:!0},e}return Object(i.a)(n,[{key:"updateNetworkInfo",value:function(e){var t=e.isOnline;l.debug("updateNetworkInfo",{isOnline:t}),this._current={isOnline:!0===t},this.eventEmitter.emit(u,this._current)}},{key:"isOnline",value:function(){return!0===this._current.isOnline}}]),n}(c.a));t.b=d}).call(this,"/index.js")},function(e,t,n){"use strict";var r;!function(e){e.REMOTE_SOURCE_CONSTRAINTS_CHANGED="media_session.REMOTE_SOURCE_CONSTRAINTS_CHANGED",e.REMOTE_VIDEO_CONSTRAINTS_CHANGED="media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED"}(r||(r={})),t.a=r},function(e,t){e.exports={CAMERA:"camera",DESKTOP:"desktop",DESKTOP_HIGH_FPS:"desktop_high_fps",NONE:"none"}},function(e,t,n){"use strict";t.a={getFocusRecordingUpdate:function(e){var t=e&&e.getElementsByTagName("jibri-recording-status")[0];if(t)return{error:t.getAttribute("failure_reason"),initiator:t.getAttribute("initiator"),recordingMode:t.getAttribute("recording_mode"),sessionID:t.getAttribute("session_id"),status:t.getAttribute("status")}},getHiddenDomainUpdate:function(e){var t=e.getElementsByTagName("live-stream-view-url")[0],n=t&&t.textContent,r=e.getElementsByTagName("mode")[0],i=r&&r.textContent&&r.textContent.toLowerCase(),o=e.getElementsByTagName("session_id")[0];return{liveStreamViewURL:n,mode:i,sessionID:o&&o.textContent}},getSessionIdFromIq:function(e){var t=e&&e.getElementsByTagName("jibri")[0];return t&&t.getAttribute("session_id")},getSessionId:function(e){var t=e.getElementsByTagName("session_id")[0];return t&&t.textContent},isFromFocus:function(e){return e.getAttribute("from").includes("focus")}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r={disableAudioLevels:!1,flags:{sendMultipleVideoStreams:!0,sourceNameSignaling:!0}},i={hosts:{domain:"sariska.io",muc:"muc.sariska.io"},serviceUrl:"wss://api.sariska.io/api/v1/media/websocket",clientNode:"https://www.sariska.io"},o={hosts:{domain:"dev.sariska.io",muc:"muc.dev.sariska.io"},serviceUrl:"wss://api.dev.sariska.io/api/v1/media/websocket",clientNode:"https://www.sariska.io"},a={enableLocalRecording:!0,enableVirtualBackground:!1,enableNoiseCancellation:!1,enableTalkWhileMuted:!0,enableNoAudioDetection:!0,enableNoisyMicDetection:!0,createVADProcessor:!0,openBridgeChannel:"websocket",hiddenDomain:"recorder.sariska.io",enableLayerSuspension:!0,e2eping:{pingInterval:-1},analytics:{disabled:!1},p2p:{enabled:!1}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n(26);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"===typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function c(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(u)(e,t)}if("function"!==typeof e)throw new Error(i(2));var a=e,l=t,d=[],f=d,p=!1;function h(){f===d&&(f=d.slice())}function m(){if(p)throw new Error(i(3));return l}function v(e){if("function"!==typeof e)throw new Error(i(4));if(p)throw new Error(i(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error(i(6));t=!1,h();var n=f.indexOf(e);f.splice(n,1),d=null}}}function g(e){if(!c(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(p)throw new Error(i(9));try{p=!0,l=a(l,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:s.INIT}),(r={dispatch:g,subscribe:v,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error(i(10));a=e,g({type:s.REPLACE})}})[o]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e},r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var a,c=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:s.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},s=0;s<c.length;s++){var u=c[s],l=n[u],d=e[u],f=l(d,t);if("undefined"===typeof f){t&&t.type;throw new Error(i(14))}o[u]=f,r=r||f!==d}return(r=r||c.length!==Object.keys(e).length)?o:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(i(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return o=d.apply(void 0,s)(n.dispatch),Object(r.a)(Object(r.a)({},n),{},{dispatch:o})}}}},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(348)},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(9),i=n(16),o=n(12),a=n(6),s=n(5),c=n(29),u=n(24),l=n(25),d=n(10),f=n(146),p=n.n(f),h=n(78),m=n.n(h),v=n(190),g=n(4),y=n(112),_=n(48),b=n(56),E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},S=Object(d.getLogger)(e),C=5e3,T="olm",O="error",R="key-info",A="key-info-ack",w="session-ack",k="session-init",P=Symbol("OlmData"),N={OLM_ID_KEY_READY:"olm.id_key_ready",PARTICIPANT_E2EE_CHANNEL_READY:"olm.participant_e2ee_channel_ready",PARTICIPANT_KEY_UPDATED:"olm.partitipant_key_updated"},I=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this))._conf=e,r._init=new y.a,r._key=void 0,r._keyIndex=-1,r._reqs=new Map,r._sessionInitialization=void 0,n.isSupported()?(r._bootstrapOlm(),r._conf.on(g.ENDPOINT_MESSAGE_RECEIVED,r._onEndpointMessageReceived.bind(Object(c.a)(r))),r._conf.on(g.CONFERENCE_LEFT,r._onConferenceLeft.bind(Object(c.a)(r))),r._conf.on(g.USER_LEFT,r._onParticipantLeft.bind(Object(c.a)(r))),r._conf.on(g.PARTICIPANT_PROPERTY_CHANGED,r._onParticipantPropertyChanged.bind(Object(c.a)(r)))):r._init.reject(new Error("Olm not supported")),r}return Object(s.a)(n,[{key:"initSessions",value:function(){return E(this,void 0,void 0,Object(i.a)().mark((function e(){var t,n,r,a,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sessionInitialization){e.next=4;break}throw new Error("OlmAdapter initSessions called multiple times");case 4:return this._sessionInitialization=new y.a,e.next=7,this._init;case 7:t=[],n=this._conf.myUserId(),r=Object(o.a)(this._conf.getParticipants());try{for(r.s();!(a=r.n()).done;)(s=a.value).hasFeature(b.b)&&n<s.getId()&&t.push(this._sendSessionInit(s))}catch(i){r.e(i)}finally{r.f()}return e.next=13,Promise.allSettled(t);case 13:this._sessionInitialization.resolve(),this._sessionInitialization=void 0;case 15:case"end":return e.stop()}}),e,this)})))}},{key:"updateKey",value:function(e){return E(this,void 0,void 0,Object(i.a)().mark((function t(){var n,a,s,c,u=this;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._key=e,this._keyIndex++,n=[],a=Object(o.a)(this._conf.getParticipants()),t.prev=4,c=Object(i.a)().mark((function e(){var t,o,a,c,l,d,f;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.value,a=o.getId(),(c=u._getParticipantOlmData(o)).session){e.next=6;break}return S.warn("Tried to send key to participant ".concat(a," but we have no session")),e.abrupt("return",1);case 6:l=Object(v.a)(),t={},Object(r.a)(t,b.d,T),Object(r.a)(t,"olm",{type:R,data:{ciphertext:u._encryptKeyInfo(c.session),uuid:l}}),d=t,(f=new y.a).setRejectTimeout(C),f.catch((function(){u._reqs.delete(l)})),u._reqs.set(l,f),n.push(f),u._sendMessage(d,a);case 14:case"end":return e.stop()}}),e)})),a.s();case 7:if((s=a.n()).done){t.next=13;break}return t.delegateYield(c(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("continue",11);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(4),a.e(t.t1);case 18:return t.prev=18,a.f(),t.finish(18);case 21:return t.next=23,Promise.allSettled(n);case 23:return t.abrupt("return",this._keyIndex);case 24:case"end":return t.stop()}}),t,this,[[4,15,18,21]])})))}},{key:"updateCurrentKey",value:function(e){return this._key=e,this._keyIndex}},{key:"clearParticipantSession",value:function(e){var t=this._getParticipantOlmData(e);t.session&&(t.session.free(),t.session=void 0)}},{key:"clearAllParticipantsSessions",value:function(){var e,t=Object(o.a)(this._conf.getParticipants());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.clearParticipantSession(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"_bootstrapOlm",value:function(){return E(this,void 0,void 0,Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("Initializing Olm..."),e.prev=1,e.next=4,Olm.init();case 4:this._olmAccount=new Olm.Account,this._olmAccount.create(),t=JSON.parse(this._olmAccount.identity_keys()),this._idKey=t.curve25519,S.debug("Olm ".concat(Olm.get_library_version().join(".")," initialized")),this._init.resolve(),this._onIdKeyReady(this._idKey),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),S.error("Failed to initialize Olm",e.t0),this._init.reject(e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})))}},{key:"_onIdKeyReady",value:function(e){S.debug("Olm id key ready: ".concat(e)),this._conf.setLocalParticipantProperty("e2ee.idKey",e)}},{key:"_onParticipantE2EEChannelReady",value:function(e){S.debug("E2EE channel with participant ".concat(e," is ready"))}},{key:"_encryptKeyInfo",value:function(e){var t={};return void 0!==this._key&&(t.key=!!this._key&&p.a.fromByteArray(this._key),t.keyIndex=this._keyIndex),e.encrypt(JSON.stringify(t))}},{key:"_getParticipantOlmData",value:function(e){return e[P]=e[P]||{},e[P]}},{key:"_onConferenceLeft",value:function(){return E(this,void 0,void 0,Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("Conference left"),e.next=3,this._init;case 3:t=Object(o.a)(this._conf.getParticipants());try{for(t.s();!(n=t.n()).done;)r=n.value,this._onParticipantLeft(r.getId(),r)}catch(i){t.e(i)}finally{t.f()}this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_onEndpointMessageReceived",value:function(e,t){return E(this,void 0,void 0,Object(i.a)().mark((function n(){var o,a,s,c,u,l,d,f,h,v,g,y,_,E,C,P,I,M,x,L,j,F,U,V,H,B;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t[b.d]===T){n.next=2;break}return n.abrupt("return");case 2:if(t.olm){n.next=5;break}return S.warn("Incorrectly formatted message"),n.abrupt("return");case 5:return n.next=7,this._init;case 7:o=t.olm,a=e.getId(),s=this._getParticipantOlmData(e),n.t0=o.type,n.next=n.t0===k?13:n.t0===w?15:n.t0===O?17:n.t0===R?19:n.t0===A?21:23;break;case 13:return s.session?(S.warn("Participant ".concat(a," already has a session")),this._sendError(e,"Session already established")):((u=new Olm.Session).create_outbound(this._olmAccount,o.data.idKey,o.data.otKey),s.session=u,c={},Object(r.a)(c,b.d,T),Object(r.a)(c,"olm",{type:w,data:{ciphertext:this._encryptKeyInfo(u),uuid:o.data.uuid}}),l=c,this._sendMessage(l,a),this._onParticipantE2EEChannelReady(a)),n.abrupt("break",23);case 15:return s.session?(S.warn("Participant ".concat(a," already has a session")),this._sendError(e,"No session found")):o.data.uuid===s.pendingSessionUuid?(d=o.data.ciphertext,f=this._reqs.get(o.data.uuid),(h=new Olm.Session).create_inbound(this._olmAccount,d.body),this._olmAccount.remove_one_time_keys(h),v=h.decrypt(d.type,d.body),s.session=h,s.pendingSessionUuid=void 0,this._onParticipantE2EEChannelReady(a),this._reqs.delete(o.data.uuid),f.resolve(),(g=D(v)).key&&(y=p.a.toByteArray(g.key),_=g.keyIndex,s.lastKey=y,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,a,y,_))):(S.warn("Received ACK with the wrong UUID"),this._sendError(e,"Invalid UUID")),n.abrupt("break",23);case 17:return S.error(o.data.error),n.abrupt("break",23);case 19:return s.session?(E=o.data.ciphertext,C=s.session.decrypt(E.type,E.body),void 0!==(P=D(C)).key&&void 0!==P.keyIndex&&(M=!!P.key&&p.a.toByteArray(P.key),x=P.keyIndex,m()(s.lastKey,M)||(s.lastKey=M,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,a,M,x)),I={},Object(r.a)(I,b.d,T),Object(r.a)(I,"olm",{type:A,data:{ciphertext:this._encryptKeyInfo(s.session),uuid:o.data.uuid}}),L=I,this._sendMessage(L,a))):(S.debug("Received key info message from ".concat(a," but we have no session for them!")),this._sendError(e,"No session found while processing key-info")),n.abrupt("break",23);case 21:return s.session?(j=o.data.ciphertext,F=s.session.decrypt(j.type,j.body),void 0!==(U=D(F)).key&&void 0!==U.keyIndex&&(V=!!U.key&&p.a.toByteArray(U.key),H=U.keyIndex,m()(s.lastKey,V)||(s.lastKey=V,this.eventEmitter.emit(N.PARTICIPANT_KEY_UPDATED,a,V,H))),B=this._reqs.get(o.data.uuid),this._reqs.delete(o.data.uuid),B.resolve()):(S.debug("Received key info ack message from ".concat(a," but we have no session for them!")),this._sendError(e,"No session found while processing key-info-ack")),n.abrupt("break",23);case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_onParticipantLeft",value:function(e,t){S.debug("Participant ".concat(e," left")),this.clearParticipantSession(t)}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,o){return E(this,void 0,void 0,Object(i.a)().mark((function n(){var a,s,c,u,l,d,f,p=this;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="e2ee.enabled"===n.t0?3:24;break;case 3:if(!o||!this._conf.isE2EEEnabled()){n.next=23;break}return a=this._conf.myUserId(),s=e.getId(),n.next=8,e.getFeatures();case 8:if(!(n.sent.has(b.b)&&a<s)){n.next=23;break}if(!this._sessionInitialization){n.next=13;break}return n.next=13,this._sessionInitialization;case 13:return n.next=15,this._sendSessionInit(e);case 15:u=this._getParticipantOlmData(e),l=Object(v.a)(),(d=new y.a).setRejectTimeout(C),d.catch((function(){p._reqs.delete(l),u.pendingSessionUuid=void 0})),this._reqs.set(l,d),c={},Object(r.a)(c,b.d,T),Object(r.a)(c,"olm",{type:R,data:{ciphertext:this._encryptKeyInfo(u.session),uuid:l}}),f=c,this._sendMessage(f,s);case 23:return n.abrupt("break",24);case 24:case"end":return n.stop()}}),n,this)})))}},{key:"_sendError",value:function(e,t){var n,i=e.getId(),o=(n={},Object(r.a)(n,b.d,T),Object(r.a)(n,"olm",{type:O,data:{error:t}}),n);this._sendMessage(o,i)}},{key:"_sendMessage",value:function(e,t){this._conf.sendMessage(e,t)}},{key:"_sendSessionInit",value:function(e){var t,n=this,i=e.getId(),o=this._getParticipantOlmData(e);if(o.session)return S.warn("Tried to send session-init to ".concat(i," but we already have a session")),Promise.reject();if(void 0!==o.pendingSessionUuid)return S.warn("Tried to send session-init to ".concat(i," but we already have a pending session")),Promise.reject();this._olmAccount.generate_one_time_keys(1);var a=JSON.parse(this._olmAccount.one_time_keys()),s=Object.values(a.curve25519)[0];if(!s)return Promise.reject(new Error("No one-time-keys generated"));this._olmAccount.mark_keys_as_published();var c=Object(v.a)(),u=(t={},Object(r.a)(t,b.d,T),Object(r.a)(t,"olm",{type:k,data:{idKey:this._idKey,otKey:s,uuid:c}}),t),l=new y.a;return l.setRejectTimeout(C),l.catch((function(){n._reqs.delete(c),o.pendingSessionUuid=void 0})),this._reqs.set(c,l),this._sendMessage(u,i),o.pendingSessionUuid=c,l}}],[{key:"isSupported",value:function(){return"undefined"!==typeof window.Olm}}]),n}(_.a);function D(e){try{return JSON.parse(e)}catch(t){return{}}}I.events=N}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(31),i=n(12),o=n(6),a=n(5),s=n(29),c=n(24),u=n(25),l=n(10),d=n(7),f=n(46),p=n(28),h=n(8),m=n(23),v=n(2),g=n(83),y=n(20),_=n(43),b=n(147),E=n(21),S=n(17),C=n(238),T=n(36),O=n.n(T),R=n(240),A=n(11),w=n(241),k=n(80),P=n(132),N=n(100),I=Object(l.getLogger)(e),D=1e4;var M=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r,i,a,c,u,l,d){var f;return Object(o.a)(this,n),(f=t.call(this,e,r,i,a,c,u,d))._bridgeSessionId=null,f._cachedOldLocalSdp=void 0,f._cachedNewLocalSdp=void 0,f._iceCheckingStartedTimestamp=null,f._gatheringStartedTimestamp=null,f.localRecvMaxFrameHeight=void 0,f._sourceReceiverConstraints=void 0,f._localVideoActive=!0,f._remoteVideoActive=!0,f._gatheringReported=!1,f.lasticecandidate=!1,f.closed=!1,f.isP2P=l,f.remoteRecvMaxFrameHeight=void 0,f.remoteSourceMaxFrameHeights=void 0,f.modificationQueue=new C.a,f.wasConnected=!1,f.establishmentDuration=void 0,f._xmppListeners=[],f._xmppListeners.push(a.addEventListener(N.a.Events.CONN_STATUS_CHANGED,f.onXmppStatusChanged.bind(Object(s.a)(f)))),f._removeSenderVideoConstraintsChangeListener=void 0,f}return Object(a.a)(n,[{key:"_assertNotEnded",value:function(){return this.state!==k.b}},{key:"doInitialize",value:function(e){var t,n,r,i,o,a=this;this.failICE=Boolean(e.failICE),this.lasticecandidate=!1,this.options=e,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(e.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(e.webrtcIceTcpDisable);var s={disableRtx:e.disableRtx};if(e.gatherStats&&(s.maxstats=300),s.capScreenshareBitrate=!1,s.enableInsertableStreams=e.enableInsertableStreams,s.videoQuality=e.videoQuality,s.forceTurnRelay=e.forceTurnRelay,s.audioQuality=e.audioQuality,s.usesUnifiedPlan=this.usesUnifiedPlan=A.a.supportsUnifiedPlan()&&(A.a.isFirefox()||A.a.isWebKitBased()||(A.a.isChromiumBased()&&this.isP2P?null===(n=null===(t=e.p2p)||void 0===t?void 0:t.enableUnifiedOnChrome)||void 0===n||n:null===(r=e.enableUnifiedOnChrome)||void 0===r||r)),this.isP2P){s.disableSimulcast=!0;var c=this._abtestSuspendVideoEnabled(e);"undefined"!==typeof c&&(s.abtestSuspendVideo=c)}else s.disableSimulcast=e.disableSimulcast||e.preferH264&&!e.disableH264||e.videoQuality&&e.videoQuality.preferredCodec===f.H264,s.capScreenshareBitrate=s.disableSimulcast||!("number"===typeof(null===(i=e.desktopSharingFrameRate)||void 0===i?void 0:i.max)&&(null===(o=e.desktopSharingFrameRate)||void 0===o?void 0:o.max)>g.a),S.a.analytics.addPermanentProperties({capScreenshareBitrate:s.capScreenshareBitrate});e.startSilent&&(s.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this._signalingLayer,this.pcConfig,this.isP2P,s),this.peerconnection.onicecandidate=function(e){if(e){var t=e.candidate,n=window.performance.now();if(t){null===a._gatheringStartedTimestamp&&(a._gatheringStartedTimestamp=n);var r=t.protocol;if("string"===typeof r)if("tcp"===(r=r.toLowerCase())||"ssltcp"===r){if(a.webrtcIceTcpDisable)return}else if("udp"===r&&a.webrtcIceUdpDisable)return}else a._gatheringReported||(S.a.sendAnalytics(m.o,{phase:"gathering",value:n-a._gatheringStartedTimestamp,p2p:a.isP2P,initiator:a.isInitiator}),a._gatheringReported=!0);a.sendIceCandidate(t)}},this.peerconnection.onsignalingstatechange=function(){"stable"===a.peerconnection.signalingState?a.wasstable=!0:"closed"!==a.peerconnection.signalingState&&"closed"!==a.peerconnection.connectionState||a.room.eventEmitter.emit(v.XMPPEvents.SUSPEND_DETECTED,a)},this.peerconnection.oniceconnectionstatechange=function(){var e=window.performance.now(),t=!1;switch(a.isP2P||(a.room.connectionTimes["ice.state.".concat(a.peerconnection.iceConnectionState)]=e),I.log("(TIME) ICE ".concat(a.peerconnection.iceConnectionState," ").concat(a.isP2P?"P2P":"JVB",":\t"),e),S.a.sendAnalytics(m.q,{p2p:a.isP2P,state:a.peerconnection.iceConnectionState,signaling_state:a.peerconnection.signalingState,reconnect:a.isReconnect,value:e}),a.room.eventEmitter.emit(v.XMPPEvents.ICE_CONNECTION_STATE_CHANGED,a,a.peerconnection.iceConnectionState),a.peerconnection.iceConnectionState){case"checking":a._iceCheckingStartedTimestamp=e;break;case"connected":if("stable"===a.peerconnection.signalingState){t=!0;var n=!a.options.enableIceRestart&&a.room.supportsRestartByTerminate();(a.isReconnect||n)&&a.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_RESTORED,a)}if(!a.wasConnected&&(a.wasstable||t||a.usesUnifiedPlan&&a.isInitiator&&A.a.isChromiumBased())){S.a.sendAnalytics(m.o,{phase:"checking",value:e-a._iceCheckingStartedTimestamp,p2p:a.isP2P,initiator:a.isInitiator});var r=Math.min(a._iceCheckingStartedTimestamp,a._gatheringStartedTimestamp);a.establishmentDuration=e-r,S.a.sendAnalytics(m.o,{phase:"establishment",value:a.establishmentDuration,p2p:a.isP2P,initiator:a.isInitiator}),a.wasConnected=!0,a.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_ESTABLISHED,a)}a.isReconnect=!1;break;case"disconnected":a.isReconnect=!0,a.wasstable&&a.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_INTERRUPTED,a);break;case"failed":a.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_ICE_FAILED,a)}},this.peerconnection.onconnectionstatechange=function(){var e=a.peerconnection.iceConnectionState;if("failed"===a.peerconnection.connectionState)"disconnected"===e&&a.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_ICE_FAILED,a)},this.peerconnection.onnegotiationneeded=function(){var e=a.peerconnection.signalingState,t=a.peerconnection.remoteDescription;if(a.usesUnifiedPlan&&!a.isP2P&&"stable"===e&&t&&"string"===typeof t.sdp){I.info("".concat(a," onnegotiationneeded fired on ").concat(a.peerconnection));a.modificationQueue.push((function(e){var t=new _.a(a.peerconnection.localDescription.sdp);a._renegotiate().then((function(){return a.peerconnection.configureSenderVideoEncodings()})).then((function(){var e=new _.a(a.peerconnection.localDescription.sdp);a.notifyMySSRCUpdate(t,e)})).then((function(){return e()}),(function(t){return e(t)}))}),(function(e){e?I.error("".concat(a," onnegotiationneeded error"),e):I.debug("".concat(a," onnegotiationneeded executed - OK"))}))}}}},{key:"getRemoteRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteRecvMaxFrameHeight}},{key:"getRemoteSourcesRecvMaxFrameHeight",value:function(){if(this.isP2P)return this.remoteSourceMaxFrameHeights}},{key:"sendIceCandidate",value:function(e){var t=this,n=new _.a(this.peerconnection.localDescription.sdp);if(e&&e.candidate.length&&!this.lasticecandidate){var r=E.a.iceparams(n.media[e.sdpMLineIndex],n.session),i=E.a.candidateToJingle(e.candidate);if(!r||!i){var o="failed to get ice && jcand";return O.a.callErrorHandler(new Error(o)),void I.error(o)}r.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.dripContainer.length&&setTimeout((function(){0!==t.dripContainer.length&&(t.sendIceCandidates(t.dripContainer),t.dripContainer=[])}),150),this.dripContainer.push(e)):this.sendIceCandidates([e])}else I.log("".concat(this," sendIceCandidate: last candidate")),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(e){var t=this;if(this._assertNotEnded("sendIceCandidates")){I.log("".concat(this," sendIceCandidates ").concat(JSON.stringify(e)));for(var n=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiatorJid,sid:this.sid}),r=new _.a(this.peerconnection.localDescription.sdp),i=function(i){var o=e.filter((function(e){return e.sdpMLineIndex===i})),a=E.a.parseMLine(r.media[i].split("\r\n")[0]);if(o.length>0){var s=E.a.iceparams(r.media[i],r.session);s.xmlns="urn:xmpp:jingle:transports:ice-udp:1",n.c("content",{creator:t.initiatorJid===t.localJid?"initiator":"responder",name:o[0].sdpMid?o[0].sdpMid:a.media}).c("transport",s);for(var c=0;c<o.length;c++){var u=E.a.candidateToJingle(o[c].candidate);t.failICE&&(u.ip="1.1.1.1"),n.c("candidate",u).up()}var l=E.a.findLine(r.media[i],"a=fingerprint:",r.session);if(l){var d=E.a.parseFingerprint(l);d.required=!0,n.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(d.fingerprint),delete d.fingerprint,n.attrs(d),n.up()}n.up(),n.up()}},o=0;o<r.media.length;o++)i(o);this.connection.sendIQ(n,null,this.newJingleErrorHandler(n),D)}}},{key:"sendIceFailedNotification",value:function(){var e=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiatorJid,sid:this.sid}).c("ice-state",{xmlns:"http://jitsi.org/protocol/focus"}).t("failed").up();this._bridgeSessionId&&e.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId}),this.connection.sendIQ2(e,{timeout:65}).catch(this.newJingleErrorHandler(e))}},{key:"addIceCandidates",value:function(e){var t=this;if("closed"!==this.peerconnection.signalingState){var n=[];if(e.find(">content>transport>candidate").each((function(e,t){var r=E.a.candidateFromJingle(t);r=r.replace("\r\n","").replace("a=","");var i=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:"",candidate:r});n.push(i)})),n.length){I.debug("".concat(this," Queued add (").concat(n.length,") ICE candidates task")),this.modificationQueue.push((function(e){for(var r=0,i=n;r<i.length;r++){var o=i[r];t.peerconnection.addIceCandidate(o).then((function(){return I.debug("".concat(t," addIceCandidate ok!"))}),(function(e){return I.error("".concat(t," addIceCandidate failed!"),e)}))}e(),I.debug("".concat(t," ICE candidates task finished"))}))}else I.error("".concat(this," No ICE candidates to add ?"),e[0]&&e[0].outerHTML)}else I.warn("".concat(this," Ignored add ICE candidate when in closed state"))}},{key:"readSsrcInfo",value:function(e){var t=this;$(e).find('>description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(e,n){var r=Number(n.getAttribute("ssrc"));if(y.a.isSourceNameSignalingEnabled()&&n.hasAttribute("name")){var i=n.getAttribute("name");t._signalingLayer.setTrackSourceName(r,i)}t.isP2P?t._signalingLayer.setSSRCOwner(r,d.Strophe.getResourceFromJid(t.remoteJid)):$(n).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each((function(e,n){var i,o=n.getAttribute("owner");(null===o||void 0===o?void 0:o.length)&&(isNaN(r)||r<0?I.warn("".concat(t," Invalid SSRC ").concat(r," value received for ").concat(o)):t._signalingLayer.setSSRCOwner(r,(i=o,d.Strophe.getResourceFromJid(i)||i)))}))}))}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():I.error("".concat(this," Unable to generate recvonly SSRC - no peerconnection"))}},{key:"getConfiguredVideoCodec",value:function(){return this.peerconnection.getConfiguredVideoCodec()}},{key:"acceptOffer",value:function(e,t,n,r){var i=this;this.setOfferAnswerCycle(e,(function(){i.sendSessionAccept((function(){t(),i.room.eventEmitter.emit(v.XMPPEvents.SESSION_ACCEPT,i);var e=r.filter((function(e){return e.getType()===h.a.VIDEO}));e.length&&e.splice(0,1),y.a.isMultiStreamSupportEnabled()&&e.length&&i.addTracks(e)}),(function(e){n(e),i.room.eventEmitter.emit(v.XMPPEvents.SESSION_ACCEPT_ERROR,i,e)}))}),n,r)}},{key:"invite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error("Trying to invite from the responder session");I.debug("".concat(this," Queued invite task")),this.modificationQueue.push((function(n){var r,o=[],a=Object(i.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push(e.peerconnection.addTrack(s,e.isInitiator))}}catch(c){a.e(c)}finally{a.f()}Promise.all(o).then((function(){return e.peerconnection.createOffer(e.mediaConstraints)})).then((function(t){return e.peerconnection.setLocalDescription(t)})).then((function(){e.sendSessionInitiate(e.peerconnection.localDescription.sdp)})).then((function(){return n()}),(function(e){return n(e)}))}),(function(t){t?I.error("".concat(e," invite error"),t):I.debug("".concat(e," invite executed - OK"))}))}},{key:"sendSessionInitiate",value:function(e){var t=this,n=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-initiate",initiator:this.initiatorJid,sid:this.sid});new _.a(e).toJingle(n,this.isInitiator?"initiator":"responder"),n=n.tree(),I.debug("".concat(this," Session-initiate: "),n),this.connection.sendIQ(n,(function(){I.info("".concat(t,' Got RESULT for "session-initiate"'))}),(function(e){I.error("".concat(t,' "session-initiate" error'),e)}),D)}},{key:"setAnswer",value:function(e){var t=this;if(!this.isInitiator)throw new Error("Trying to set an answer on the responder session");this.setOfferAnswerCycle(e,(function(){if(I.info("".concat(t," setAnswer - succeeded")),t.usesUnifiedPlan&&A.a.isChromiumBased()){I.debug("".concat(t," Queued responderRenegotiate task")),t.modificationQueue.push((function(e){var n=t.peerconnection.remoteDescription.sdp,r=new RTCSessionDescription({type:"offer",sdp:n});return t._responderRenegotiate(r).then((function(){return e()}),(function(t){return e(t)}))}),(function(e){e?I.error("".concat(t," failed to renegotiate a decoder for muted endpoint ").concat(e)):I.debug("".concat(t," renegotiate a decoder for muted endpoint"))}))}}),(function(e){I.error("".concat(t," setAnswer failed: "),e)}))}},{key:"setOfferAnswerCycle",value:function(e,t,n){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];I.debug("".concat(this," Queued setOfferAnswerCycle task")),this.modificationQueue.push((function(t){var n=[],s=a.filter((function(e){return e.getType()===h.a.AUDIO})),c=a.filter((function(e){return e.getType()===h.a.VIDEO})),u=a;y.a.isMultiStreamSupportEnabled()&&c.length>1&&(u=[].concat(Object(r.a)(s),[c[0]]));var l,d=Object(i.a)(u);try{for(d.s();!(l=d.n()).done;){var f=l.value;n.push(o.peerconnection.addTrack(f,o.isInitiator))}}catch(g){d.e(g)}finally{d.f()}var p=o._processNewJingleOfferIq(e),m=o.peerconnection.localDescription.sdp,v=$(e).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("id");v!==o._bridgeSessionId&&(o._bridgeSessionId=v),Promise.all(n).then((function(){return o._renegotiate(p.raw)})).then((function(){if(o.state===k.c&&(o.state=k.a,o.isP2P&&(!o._localVideoActive||o.localRecvMaxFrameHeight||o._sourceReceiverConstraints)&&o.sendContentModify()),m){var e=new _.a(o.peerconnection.localDescription.sdp);o.notifyMySSRCUpdate(new _.a(m),e)}})).then((function(){return t()}),(function(e){return t(e)}))}),(function(e){e?(I.error("".concat(o," setOfferAnswerCycle task failed: ").concat(e)),n(e)):(I.debug("".concat(o," setOfferAnswerCycle task done")),t())}))}},{key:"setVideoCodecs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.peerconnection.getConfiguredVideoCodec();if(this._assertNotEnded()&&t!==r){I.info("".concat(this," Switching video codec from ").concat(r," to ").concat(t)),this.peerconnection.setVideoCodecs(t,n);I.debug("".concat(this," Queued setVideoCodecs task")),this.modificationQueue.push((function(t){e._renegotiate().then((function(){return I.debug("".concat(e," setVideoCodecs task is done")),t()}),(function(n){return I.error("".concat(e," setVideoCodecs task failed: ").concat(n)),t(n)}))}))}}},{key:"replaceTransport",value:function(e,t,n){var r=this;if(this.options.enableForcedReload){var i=new _.a(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(i,t,n),void this.room.eventEmitter.emit(v.XMPPEvents.CONNECTION_RESTARTED,this)}this.room.eventEmitter.emit(v.XMPPEvents.ICE_RESTARTING,this);var o=e.clone();e.find(">content[name='data']").attr("senders","rejected"),e.find(">content>description>source").remove(),e.find(">content>description>ssrc-group").remove();var a=e.find(">content>transport>fingerprint");a.attr("hash","sha-1"),a.text("00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00"),this.setOfferAnswerCycle(e,(function(){r.setOfferAnswerCycle(o,(function(){var e=new _.a(r.peerconnection.localDescription.sdp);r.sendTransportAccept(e,t,n),r.room.eventEmitter.emit(v.XMPPEvents.ICE_RESTART_SUCCESS,r,o)}),n)}),n)}},{key:"sendSessionAccept",value:function(e,t){var n=this,r=new _.a(this.peerconnection.localDescription.sdp),i=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(r.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(r.removeUdpCandidates=!0),this.failICE&&(r.failICE=!0),r.toJingle(i,this.initiatorJid===this.localJid?"initiator":"responder"),I.info("".concat(this," Sending session-accept")),I.debug(i.tree()),this.connection.sendIQ(i,e,this.newJingleErrorHandler(i,(function(e){t(e),n.room.eventEmitter.emit(v.XMPPEvents.SESSION_ACCEPT_TIMEOUT,n)})),D)}},{key:"sendContentModify",value:function(){var e=this,t=this.localRecvMaxFrameHeight,n=this._localVideoActive?"both":"none",r=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-modify",initiator:this.initiatorJid,sid:this.sid}).c("content",{name:h.a.VIDEO,senders:n});"undefined"!==typeof t&&(r=r.c("max-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).t(t),I.info("".concat(this," sending content-modify, video senders: ").concat(n,",")+" max frame height: ".concat(t))),"undefined"!==typeof this._sourceReceiverConstraints&&this._sourceReceiverConstraints.forEach((function(t,n){r.c("source-frame-height",{xmlns:"http://jitsi.org/jitmeet/video"}).attrs({sourceName:n,maxHeight:t}),r.up(),I.info("".concat(e," sending content-modify for source-name: ").concat(n,", maxHeight: ").concat(t))})),I.debug(r.tree()),this.connection.sendIQ(r,null,this.newJingleErrorHandler(r),D)}},{key:"setReceiverVideoConstraint",value:function(e,t){I.info("".concat(this," setReceiverVideoConstraint - max frame height: ").concat(e)+" sourceReceiverConstraints: ".concat(t)),y.a.isSourceNameSignalingEnabled()?this._sourceReceiverConstraints=t:this.localRecvMaxFrameHeight=e,this.isP2P&&this.state===k.a&&this.sendContentModify()}},{key:"sendTransportAccept",value:function(e,t,n){var r=this,i=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiatorJid,sid:this.sid});e.media.forEach((function(t,n){var o=E.a.parseMLine(t.split("\r\n")[0]);i.c("content",{creator:r.initiatorJid===r.localJid?"initiator":"responder",name:o.media}),e.transportToJingle(n,i),i.up()})),I.info("".concat(this," Sending transport-accept")),I.debug(i.tree()),this.connection.sendIQ(i,t,this.newJingleErrorHandler(i,n),D)}},{key:"sendTransportReject",value:function(e,t){var n=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiatorJid,sid:this.sid});I.info("".concat(this," Sending 'transport-reject'")),I.debug(n.tree()),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),D)}},{key:"setSenderVideoConstraint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._assertNotEnded()){I.info("".concat(this," setSenderVideoConstraint: ").concat(e,", sourceName: ").concat(t));var n=t?this.rtc.getLocalVideoTracks().find((function(e){return e.getSourceName()===t})):this.rtc.getLocalVideoTrack();return this.peerconnection.setSenderVideoConstraints(e,n)}return Promise.resolve()}},{key:"terminate",value:function(e,t,n){if(this.state!==k.b){if(!n||Boolean(n.sendSessionTerminate)){var r=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiatorJid,sid:this.sid}).c("reason").c(n&&n.reason||"success").up();n&&n.reasonDescription?r.c("text").t(n.reasonDescription).up().up():r.up(),this._bridgeSessionId&&r.c("bridge-session",{xmlns:"http://jitsi.org/protocol/focus",id:this._bridgeSessionId,restart:n&&!0===n.requestRestart}).up(),I.info("".concat(this," Sending session-terminate")),I.debug(r.tree()),this.connection.sendIQ(r,e,this.newJingleErrorHandler(r,t),D)}else I.info("".concat(this," Skipped sending session-terminate"));this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(e,t){I.info("".concat(this," Session terminated"),e,t),this._xmppListeners.forEach((function(e){return e()})),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close()}},{key:"onXmppStatusChanged",value:function(e){e===N.a.Status.CONNECTED&&this._cachedOldLocalSdp&&(I.info("".concat(this," Sending SSRC update on reconnect")),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(e,t){var n=this,r=[],i=this;return $(e).each((function(e,o){var a=$(o).attr("name"),s="";$(o).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map((function(){return this.getAttribute("ssrc")})).get();t.length&&(s+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\r\n"))})),$(o).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=$(this).attr("ssrc");t.containsSSRC(e)?(!i.usesUnifiedPlan||!i.isP2P)&&I.warn("".concat(i," Source-add request for existing SSRC: ").concat(e)):$(this).find(">parameter").each((function(){s+="a=ssrc:".concat(e," ").concat($(this).attr("name")),$(this).attr("value")&&$(this).attr("value").length&&(s+=":".concat($(this).attr("value"))),s+="\r\n"}))}));var c=!1;t.media.forEach((function(e,t){E.a.findLine(e,"a=mid:".concat(a))&&(r[t]||(r[t]=""),r[t]+=s,c=!0)})),!c&&n.isP2P&&y.a.isSourceNameSignalingEnabled()&&(r[a]=s)})),r}},{key:"addRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!0,e)}},{key:"removeRemoteStream",value:function(e){this._addOrRemoveRemoteStream(!1,e)}},{key:"removeRemoteStreamsOnLeave",value:function(e){var t=this;I.debug("".concat(this," Queued removeRemoteStreamsOnLeave task for participant ").concat(e)),this.modificationQueue.push((function(n){var r=t.peerconnection.getRemoteSourceInfoByParticipant(e);if(r.length){var i=new _.a(t.peerconnection.localDescription.sdp),o=t._processRemoteRemoveSource(r);t._renegotiate(o.raw).then((function(){var e=new _.a(t.peerconnection.localDescription.sdp);t.notifyMySSRCUpdate(i,e),n()})).catch((function(e){return n(e)}))}else n()}),(function(e){e?I.error("".concat(t," removeRemoteStreamsOnLeave error:"),e):I.info("".concat(t," removeRemoteStreamsOnLeave done!"))}))}},{key:"_addOrRemoveRemoteStream",value:function(e,t){var n=this,r=e?"addRemoteStream":"removeRemoteStream";e&&this.readSsrcInfo(t);I.debug("".concat(this," Queued ").concat(r," task")),this.modificationQueue.push((function(i){if(!n.peerconnection.localDescription||!n.peerconnection.localDescription.sdp){var o="".concat(r," - localDescription not ready yet");return I.error(o),void i(o)}I.log("".concat(n," Processing ").concat(r));var a=new _.a(n.peerconnection.localDescription.sdp),s=new _.a(n.peerconnection.remoteDescription.sdp),c=e?n._parseSsrcInfoFromSourceAdd(t,s):n._parseSsrcInfoFromSourceRemove(t,s),u=e?n._processRemoteAddSource(c):n._processRemoteRemoveSource(c),l=new RTCSessionDescription({type:"offer",sdp:u.raw});(e&&n.usesUnifiedPlan&&n.isP2P&&A.a.isChromiumBased()?n._responderRenegotiate(l):n._renegotiate(u.raw)).then((function(){var e=new _.a(n.peerconnection.localDescription.sdp);I.log("".concat(n," ").concat(r," - OK")),n.notifyMySSRCUpdate(a,e),i()}),(function(e){I.error("".concat(n," ").concat(r," failed:"),e),i(e)}))}))}},{key:"_processNewJingleOfferIq",value:function(e){var t=new _.a("");return this.webrtcIceTcpDisable&&(t.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(t.removeUdpCandidates=!0),this.failICE&&(t.failICE=!0),t.fromJingle(e),this.readSsrcInfo($(e).find(">content")),t}},{key:"_processRemoteRemoveSource",value:function(e){var t=this,n=this.usesUnifiedPlan?new _.a(this.peerconnection.peerconnection.remoteDescription.sdp):new _.a(this.peerconnection.remoteDescription.sdp);return e.forEach((function(e,r){var i;if((e=e.split("\r\n")).pop(),t.usesUnifiedPlan){if(e.forEach((function(e){var r;if((i=n.media.findIndex((function(t){return t.includes(e)})))>-1)if(n.media[i]=n.media[i].replace("".concat(e,"\r\n"),""),t.isP2P){var o=null===(r=E.a.parseMLine(n.media[i].split("\r\n")[0]))||void 0===r?void 0:r.media,a=t.peerconnection.getDesiredMediaDirection(o,!1);[p.a.SENDRECV,p.a.SENDONLY].forEach((function(e){n.media[i]=n.media[i].replace("a=".concat(e),"a=".concat(a))}))}else n.media[i]=n.media[i].replace("a=".concat(p.a.SENDONLY),"a=".concat(p.a.INACTIVE))})),i>-1&&!t.isP2P&&y.a.isMultiStreamSupportEnabled()){var o=E.a.parseMLine(n.media[i].split("\r\n")[0]),a=o.media,s=o.port;n.media[i]=n.media[i].replace("m=".concat(a," ").concat(s),"m=".concat(a," 0"))}}else e.forEach((function(e){n.media[r]=n.media[r].replace("".concat(e,"\r\n"),"")}))})),n.raw=n.session+n.media.join(""),n}},{key:"_processRemoteAddSource",value:function(e){var t=this,n=new _.a(this.peerconnection.remoteDescription.sdp);return e.length>n.media.length&&y.a.isSourceNameSignalingEnabled()&&this.isP2P&&this.usesUnifiedPlan&&(n.addMlineForNewLocalSource(h.a.VIDEO),n=new _.a(n.raw)),e.forEach((function(e,r){var i;if(n.media[r]+=e,t.isP2P&&t.usesUnifiedPlan){var o=null===(i=E.a.parseMLine(n.media[r].split("\r\n")[0]))||void 0===i?void 0:i.media,a=t.peerconnection.getDesiredMediaDirection(o,!0);[p.a.RECVONLY,p.a.INACTIVE].forEach((function(e){n.media[r]=n.media[r].replace("a=".concat(e),"a=".concat(a))}))}})),n.raw=n.session+n.media.join(""),n}},{key:"_renegotiate",value:function(e){if("closed"===this.peerconnection.signalingState){var t=new Error("Attempted to renegotiate in state closed");return this.room.eventEmitter.emit(v.XMPPEvents.RENEGOTIATION_FAILED,t,this),Promise.reject(t)}var n=e||this.peerconnection.remoteDescription.sdp;if(!n){var r=new Error("Can not renegotiate without remote description, current state: ".concat(this.state));return this.room.eventEmitter.emit(v.XMPPEvents.RENEGOTIATION_FAILED,r,this),Promise.reject(r)}var i=new RTCSessionDescription({type:this.isInitiator?"answer":"offer",sdp:n});return this.isInitiator?this._initiatorRenegotiate(i):this._responderRenegotiate(i)}},{key:"_responderRenegotiate",value:function(e){var t=this;return I.debug("".concat(this," Renegotiate: setting remote description")),this.peerconnection.setRemoteDescription(e).then((function(){return I.debug("".concat(t," Renegotiate: creating answer")),t.peerconnection.createAnswer(t.mediaConstraints).then((function(e){return I.debug("".concat(t," Renegotiate: setting local description")),t.peerconnection.setLocalDescription(e)}))}))}},{key:"_initiatorRenegotiate",value:function(e){var t=this;return I.debug("".concat(this," Renegotiate: creating offer")),this.peerconnection.createOffer(this.mediaConstraints).then((function(n){return I.debug("".concat(t," Renegotiate: setting local description")),t.peerconnection.setLocalDescription(n).then((function(){return I.debug("".concat(t," Renegotiate: setting remote description")),t.peerconnection.setRemoteDescription(e)}))}))}},{key:"addTracks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!y.a.isMultiStreamSupportEnabled()||!(null===t||void 0===t?void 0:t.length)||t.find((function(e){return e.getType()!==h.a.VIDEO})))return Promise.reject(new Error("Multiple tracks of the given media type are not supported"));var n=[],r=function(r){var o,a=new _.a(e.peerconnection.localDescription.sdp),s=new _.a(e.peerconnection.peerconnection.remoteDescription.sdp),c=Object(i.a)(t);try{for(c.s();!(o=c.n()).done;){var u=o.value;s.addMlineForNewLocalSource(u.getType())}}catch(d){c.e(d)}finally{c.f()}var l=new RTCSessionDescription({type:"offer",sdp:s.raw});e._responderRenegotiate(l).then((function(){var r,o=Object(i.a)(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push(e.peerconnection.replaceTrack(null,a))}}catch(d){o.e(d)}finally{o.f()}return Promise.all(n)})).then((function(){return e._renegotiate()})).then((function(){var t=new _.a(e.peerconnection.localDescription.sdp);e.notifyMySSRCUpdate(a,t),r()})).catch((function(e){return r(e)}))};return new Promise((function(t,n){I.debug("".concat(e," Queued renegotiation after addTrack")),e.modificationQueue.push(r,(function(r){r?(I.error("".concat(e," renegotiation after addTrack error"),r),n(r)):(I.debug("".concat(e," renegotiation after addTrack executed - OK")),t())}))}))}},{key:"replaceTrack",value:function(e,t){var n=this,r=function(r){I.debug("".concat(n," replaceTrack worker started. oldTrack = ").concat(e,", newTrack = ").concat(t));var i=n.peerconnection.localDescription.sdp;n.usesUnifiedPlan||(n.peerconnection.options.capScreenshareBitrate&&e&&t&&t.isVideoTrack()&&n.peerconnection.clearRecvonlySsrc(),!e&&t&&t.isVideoTrack()?n.peerconnection.clearRecvonlySsrc():e&&e.isVideoTrack()&&!t&&(n.peerconnection.clearRecvonlySsrc(),n.peerconnection.generateRecvonlySsrc())),n.peerconnection.replaceTrack(e,t).then((function(r){var o=Promise.resolve();return I.debug("".concat(n," TPC.replaceTrack finished. shouldRenegotiate = ").concat(r,", JingleSessionState = ").concat(n.state)),r&&(e||t)&&n.state===k.a&&(o=n._renegotiate().then((function(){var e=new _.a(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(new _.a(i),e)}))),o.then((function(){if(y.a.isSourceNameSignalingEnabled()&&e&&t&&e.isVideoTrack()&&t.setSourceName(e.getSourceName()),null===t||void 0===t?void 0:t.isVideoTrack())return I.debug("".concat(n," replaceTrack worker: configuring video stream")),n.peerconnection.configureSenderVideoEncodings(t)}))})).then((function(){return r()}),(function(e){return r(e)}))};return new Promise((function(i,o){I.debug("".concat(n," Queued replaceTrack task. Old track = ").concat(e,", new track = ").concat(t)),n.modificationQueue.push(r,(function(e){e?(I.error("".concat(n," Replace track error:"),e),o(e)):(I.info("".concat(n,"  Replace track done!")),i())}))}))}},{key:"_parseSsrcInfoFromSourceRemove",value:function(e,t){var n=[];return $(e).each((function(e,r){var i=$(r).attr("name"),o="";$(r).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map((function(){return this.getAttribute("ssrc")})).get();t.length&&(o+="a=ssrc-group:".concat(e," ").concat(t.join(" "),"\r\n"))}));var a=[];$(r).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each((function(){var e=$(this).attr("ssrc");a.push(e)})),t.media.forEach((function(e,t){E.a.findLine(e,"a=mid:".concat(i))&&(n[t]||(n[t]=""),a.forEach((function(r){var i=E.a.findLines(e,"a=ssrc:".concat(r));i.length&&(n[t]+="".concat(i.join("\r\n"),"\r\n"))})),n[t]+=o)}))})),n}},{key:"_verifyNoSSRCChanged",value:function(e,t){var n=new _.a(this.peerconnection.localDescription.sdp),r=new b.a(t,n),i=r.getNewMedia();if(Object.keys(i).length)return I.error("".concat(this," - some SSRC were added on ").concat(e),i),!1;var o=(r=new b.a(n,t)).getNewMedia();return!Object.keys(o).length||(I.error("".concat(this," - some SSRCs were removed on ").concat(e),o),!1)}},{key:"addTrackAsUnmute",value:function(e){var t=this;return this._addRemoveTrackAsMuteUnmute(!1,e).then((function(){if(e.isVideoTrack())return t.peerconnection.configureSenderVideoEncodings(e)}))}},{key:"removeTrackAsMute",value:function(e){return this._addRemoveTrackAsMuteUnmute(!0,e)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(e,t){var n=this;if(!t)return Promise.reject('invalid "track" argument value');var r=e?"removeTrackMute":"addTrackUnmute",i=function(i){var o=n.peerconnection;if(o){var a=o.localDescription.sdp;(e?o.removeTrackMute(t):o.addTrackUnmute(t)).then((function(e){e&&a&&o.remoteDescription.sdp?n._renegotiate().then((function(){!n.usesUnifiedPlan&&n._verifyNoSSRCChanged(r,new _.a(a));var e=o.localDescription.sdp;n.notifyMySSRCUpdate(new _.a(a),new _.a(e)),i()})):i()}),i)}else i("Error:  tried ".concat(r," track with no active peer")+"connection")};return I.debug("".concat(this," Queued ").concat(r," task")),new Promise((function(e,t){n.modificationQueue.push(i,(function(i){i?(I.error("".concat(n," ").concat(r," failed")),t(i)):(I.debug("".concat(n," ").concat(r," done")),e())}))}))}},{key:"setMediaTransferActive",value:function(e,t){var n=this;if(!this.peerconnection)return Promise.reject('Can not modify transfer active state, before "initialize" is called');var r=e?"audio active":"audio inactive",i=t?"video active":"video inactive";I.info("".concat(this," Queued make ").concat(i,", ").concat(r," task"));var o=function(r){var i=n.state===k.a,o=n.peerconnection.setAudioTransferActive(e);n._localVideoActive!==t&&(n._localVideoActive=t,n.isP2P&&i&&n.sendContentModify());var a=n.peerconnection.setVideoTransferActive(n._localVideoActive&&n._remoteVideoActive);i&&(o||a)?n._renegotiate().then(r,r):r()};return new Promise((function(e,t){n.modificationQueue.push(o,(function(o){o?(I.error("".concat(n," Make ").concat(i,", ").concat(r," task failed!")),t(o)):(I.debug("".concat(n," Make ").concat(i,", ").concat(r," task done!")),e())}))}))}},{key:"modifyContents",value:function(e){var t=this,r=n.parseVideoSenders(e),i=n.parseMaxFrameHeight(e),o=n.parseSourceMaxFrameHeight(e);if(i&&(I.info("".concat(this," received remote max frame height: ").concat(i)),this.remoteRecvMaxFrameHeight=i,this.eventEmitter.emit(P.a.REMOTE_VIDEO_CONSTRAINTS_CHANGED,this)),o&&(this.remoteSourceMaxFrameHeights=o,this.eventEmitter.emit(P.a.REMOTE_SOURCE_CONSTRAINTS_CHANGED,this,o)),null!==r){I.debug("".concat(this,' queued "content-modify" task(video senders="').concat(r,'")')),this.modificationQueue.push((function(e){t._assertNotEnded()&&t._modifyRemoteVideoActive(r)?t._renegotiate().then(e,e):e()}),(function(e){e?I.error("".concat(t,' "content-modify" failed'),e):I.debug("".concat(t,' "content-modify" task(video senders="').concat(r,'") done'))}))}else I.error("".concat(this,' - failed to parse video "senders" attribute in "content-modify" action'))}},{key:"_modifyRemoteVideoActive",value:function(e){var t="both"===e||"initiator"===e&&this.isInitiator||"responder"===e&&!this.isInitiator;return t!==this._remoteVideoActive&&(I.debug("".concat(this," new remote video active: ").concat(t)),this._remoteVideoActive=t),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(e,t){var n=this;if(this.state===k.a){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=e),this._cachedNewLocalSdp=t,void I.warn("".concat(this," Not sending SSRC update while the signaling is disconnected"));this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var r=function(e){var t=e.getNewMedia(),n=[],r=null;return Object.keys(t).forEach((function(e){var i=Object.keys(t[e].ssrcs);r=t[e].mid,(null===i||void 0===i?void 0:i.length)&&(n=n.concat(i))})),{mediaType:r,ssrcs:n}},i=new b.a(t,e),o=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiatorJid,sid:this.sid});i.toJingle(o);var a={},s=r(i);s.ssrcs.length&&(I.info("".concat(this," Sending source-remove for ").concat(s.mediaType)+" ssrcs=".concat(s.ssrcs)),this.connection.sendIQ(o,(function(){n.room.eventEmitter.emit(v.XMPPEvents.SOURCE_REMOVE,n,a)}),this.newJingleErrorHandler(o,(function(e){n.room.eventEmitter.emit(v.XMPPEvents.SOURCE_REMOVE_ERROR,n,e,a)})),D)),i=new b.a(e,t);var c=Object(d.$iq)({to:this.remoteJid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiatorJid,sid:this.sid});i.toJingle(c);var u=r(i);u.ssrcs.length&&(I.info("".concat(this," Sending source-add for ").concat(u.mediaType," ssrcs=").concat(u.ssrcs)),this.connection.sendIQ(c,(function(){n.room.eventEmitter.emit(v.XMPPEvents.SOURCE_ADD,n,a)}),this.newJingleErrorHandler(c,(function(e){n.room.eventEmitter.emit(v.XMPPEvents.SOURCE_ADD_ERROR,n,e,u.mediaType,a)})),D))}else I.warn("".concat(this," Skipping SSRC update in '").concat(this.state," ' state."))}},{key:"newJingleErrorHandler",value:function(e,t){var n=this;return function(e){var r={},i=$(e).find("error");if(i.length){r.code=i.attr("code");var o=$(e).find("error :first");o.length&&(r.reason=o[0].tagName);var a=i.find(">text");a.length&&(r.msg=a.text())}e||(r.reason="timeout"),r.session=n.toString(),t?t(r):n.state===k.b&&"item-not-found"===r.reason?I.debug("".concat(n," Jingle error: ").concat(JSON.stringify(r))):O.a.callErrorHandler(new Error("Jingle error: ".concat(JSON.stringify(r))))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var e=this;this.state=k.b,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),I.debug("".concat(this," Clearing modificationQueue")),this.modificationQueue.clear(),I.debug("".concat(this," Queued PC close task")),this.modificationQueue.push((function(t){e.peerconnection&&e.peerconnection.close(),t(),I.debug("".concat(e," PC close task done!"))})),I.debug("".concat(this," Shutdown modificationQueue!")),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[session=".concat(this.isP2P?"P2P":"JVB",",initiator=").concat(this.isInitiator,",sid=").concat(this.sid,"]")}},{key:"_abtestSuspendVideoEnabled",value:function(e){var t=e.abTesting;if(t&&t.enableSuspendVideoTest){var n=this._getInitiatorJid();return Object(R.integerHash)(n)%2===0}}}],[{key:"parseVideoSenders",value:function(e){var t=e.find('>content[name="video"]');if(t.length){var n=t[0].getAttribute("senders");if("both"===n||"initiator"===n||"responder"===n||"none"===n)return n}return null}},{key:"parseMaxFrameHeight",value:function(e){var t=e.find('>content[name="video"]>max-frame-height');return t.length?Number(t.text()):null}},{key:"parseSourceMaxFrameHeight",value:function(e){var t,n,r=[],i=e.find('>content[name="video"]>source-frame-height');return i.length?(i.each((function(e,i){n=i.getAttribute("sourceName"),t=i.getAttribute("maxHeight"),r.push({maxHeight:t,sourceName:n})})),r):null}}]),n}(w.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r,i=n(6),o=n(5),a=n(10),s=n(4),c=n(39),u=n(18),l=n(23),d=n(11),f=n(17);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.INTERRUPTED="interrupted",e.RESTORING="restoring"}(r||(r={}));var p=Object(a.getLogger)(e),h=function(){function e(t,n,r,o){Object(i.a)(this,e),this.rtc=t,this.conference=n,this.track=r,this.restoringTimer=null,this.rtcMutedTimestamp=null,this.streamingStatusMap={},this.trackTimer=null,this.outOfForwardedSourcesTimeout="number"===typeof o.outOfForwardedSourcesTimeout?o.outOfForwardedSourcesTimeout:500,this.p2pRtcMuteTimeout="number"===typeof o.p2pRtcMuteTimeout?o.p2pRtcMuteTimeout:2500,this.rtcMuteTimeout="number"===typeof o.rtcMuteTimeout?o.rtcMuteTimeout:1e4,p.info("RtcMuteTimeout set to: ".concat(this.rtcMuteTimeout))}return Object(o.a)(e,[{key:"_getVideoFrozenTimeout",value:function(){var e=this.track.getSourceName();return this.rtc.isInForwardedSources(e)?this.rtcMuteTimeout:this.conference.isP2PActive()?this.p2pRtcMuteTimeout:this.outOfForwardedSourcesTimeout}},{key:"init",value:function(){this._onP2PStatus=this.figureOutStreamingStatus.bind(this),this.conference.on(s.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(s.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),d.a.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(u.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(u.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this.track.on(c.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this),this.track.on(c.TRACK_VIDEOTYPE_CHANGED,this._onTrackVideoTypeChanged)),this._onForwardedSourcesChanged=this.onForwardedSourcesChanged.bind(this),this.conference.on(s.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this._onLastNValueChanged=this.figureOutStreamingStatus.bind(this),this.rtc.on(u.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){d.a.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(u.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(u.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.track.off(c.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged)),this.conference.off(s.JitsiConferenceEvents.FORWARDED_SOURCES_CHANGED,this._onForwardedSourcesChanged),this.conference.off(s.JitsiConferenceEvents.P2P_STATUS,this._onP2PStatus),this.conference.off(s.JitsiConferenceEvents.USER_LEFT,this._onUserLeft),this.rtc.removeListener(u.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.maybeSendTrackStreamingStatusEvent(Date.now()),this.figureOutStreamingStatus()}},{key:"_changeStreamingStatus",value:function(e){if(this.track.getTrackStreamingStatus()!==e){var t=this.track.getSourceName();this.track._setTrackStreamingStatus(e),p.debug("Emit track streaming status(".concat(Date.now(),") ").concat(t,": ").concat(e)),f.a.sendLog(JSON.stringify({id:"track.streaming.status",track:t,status:e})),this.track.emit(c.TRACK_STREAMING_STATUS_CHANGED,this.track,e)}}},{key:"clearTimeout",value:function(){this.trackTimer&&(window.clearTimeout(this.trackTimer),this.trackTimer=null)}},{key:"clearRtcMutedTimestamp",value:function(){this.rtcMutedTimestamp=null}},{key:"isVideoTrackFrozen",value:function(){if(!d.a.supportsVideoMuteOnConnInterrupted())return!1;var e=this.track.isWebRTCTrackMuted(),t=this.rtcMutedTimestamp,n=this._getVideoFrozenTimeout();return e&&"number"===typeof t&&Date.now()-t>=n}},{key:"figureOutStreamingStatus",value:function(){var t=this.track.getSourceName(),n=this.conference.isP2PActive(),i=this._isRestoringTimedout(),o=0===this.conference.getLastN(),a=this.track.isMuted()||o,s=this.isVideoTrackFrozen(),c=this.rtc.isInForwardedSources(t),u=n?e._getNewStateForP2PMode(a,s):e._getNewStateForJvbMode(c,i,a,s);u!==r.RESTORING&&this._clearRestoringTimer(),p.debug("Figure out conn status for ".concat(t,", is video muted: ").concat(a," video track frozen: ").concat(s," p2p mode: ").concat(n," is in forwarded sources: ").concat(c," currentStatus => newStatus: ").concat(this.track.getTrackStreamingStatus()," => ").concat(u));var l=this.streamingStatusMap||{};if(!("p2p"in l)||!("streamingStatus"in l)||l.p2p!==n||l.streamingStatus!==u){var d=Date.now();this.maybeSendTrackStreamingStatusEvent(d),this.streamingStatusMap=Object.assign(Object.assign({},l),{streamingStatus:u,p2p:n,startedMs:d}),"videoType"in this.streamingStatusMap||(this.streamingStatusMap.videoType=this.track.getVideoType())}this._changeStreamingStatus(u)}},{key:"maybeSendTrackStreamingStatusEvent",value:function(e){var t=this.streamingStatusMap;t&&"startedMs"in t&&"videoType"in t&&"streamingStatus"in t&&"p2p"in t&&(t.value=e-t.startedMs,f.a.sendAnalytics(Object(l.L)(t)))}},{key:"onForwardedSourcesChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=this.track.getSourceName();p.debug("Fowarded sources changed leaving=".concat(e,", entering=").concat(t," at ").concat(n)),d.a.supportsVideoMuteOnConnInterrupted()||this.figureOutStreamingStatus(),e.includes(r)&&(this.track._clearEnteredForwardedSourcesTimestamp(),this._clearRestoringTimer(),d.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus()),t.includes(r)&&(this.track._setEnteredForwardedSourcesTimestamp(n),d.a.supportsVideoMuteOnConnInterrupted()&&this.figureOutStreamingStatus())}},{key:"_clearRestoringTimer",value:function(){var e=this.restoringTimer;e&&(clearTimeout(e),this.restoringTimer=null)}},{key:"_isRestoringTimedout",value:function(){var e=this,t=this.track._getEnteredForwardedSourcesTimestamp();return!!(t&&Date.now()-t>=1e4)||(this.restoringTimer||(this.restoringTimer=setTimeout((function(){return e.figureOutStreamingStatus()}),1e4)),!1)}},{key:"_isCurrentTrack",value:function(e){return e.getSourceName()===this.track.getSourceName()}},{key:"onUserLeft",value:function(e){this.track.getParticipantId()===e&&(this.maybeSendTrackStreamingStatusEvent(Date.now()),this.streamingStatusMap={})}},{key:"onTrackRtcMuted",value:function(e){var t=this;if(this._isCurrentTrack(e)){var n=e.getSourceName();if(p.debug("Detector track RTC muted: ".concat(n),Date.now()),this.rtcMutedTimestamp=Date.now(),!e.isMuted()){this.clearTimeout();var r=this._getVideoFrozenTimeout();this.trackTimer=window.setTimeout((function(){p.debug("Set RTC mute timeout for: ".concat(n," of ").concat(r," ms")),t.clearTimeout(),t.figureOutStreamingStatus()}),r)}}}},{key:"onTrackRtcUnmuted",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();p.debug("Detector track RTC unmuted: ".concat(t),Date.now()),this.clearTimeout(),this.clearRtcMutedTimestamp(),this.figureOutStreamingStatus()}}},{key:"onSignallingMuteChanged",value:function(e){if(this._isCurrentTrack(e)){var t=this.track.getSourceName();p.debug("Detector on track signalling mute changed: ".concat(t),e.isMuted()),this.figureOutStreamingStatus()}}},{key:"onTrackVideoTypeChanged",value:function(e){var t=Date.now();this.maybeSendTrackStreamingStatusEvent(t),this.streamingStatusMap=Object.assign(Object.assign({},this.streamingStatusMap||{}),{videoType:e,startedMs:t})}}],[{key:"_getNewStateForJvbMode",value:function(e,t,n,i){return n?r.ACTIVE:d.a.supportsVideoMuteOnConnInterrupted()?i?e?t?r.INTERRUPTED:r.RESTORING:r.INACTIVE:r.ACTIVE:e?r.ACTIVE:r.INACTIVE}},{key:"_getNewStateForP2PMode",value:function(e,t){return d.a.supportsVideoMuteOnConnInterrupted()?e||!t?r.ACTIVE:r.INTERRUPTED:r.ACTIVE}}]),e}();t.b=h}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(16),i=n(6),o=n(5),a=n(11),s=n(24),c=n(25),u=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e,{sharedKey:!0})}return Object(o.a)(n,[{key:"setKey",value:function(e){this.e2eeCtx.setKey(void 0,{encryptionKey:e.encryptionKey},e.index)}}]),n}(n(155).a),l=n(225),d=n(142),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(t){Object(i.a)(this,e);var n=t.options.config.e2ee,r=void 0===n?{}:n;this._externallyManaged=r.externallyManagedKey,this._externallyManaged?this._keyHandler=new u(t):this._keyHandler=new l.a(t)}return Object(o.a)(e,[{key:"isEnabled",value:function(){return this._keyHandler.isEnabled()}},{key:"setEnabled",value:function(e){return f(this,void 0,void 0,Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._keyHandler.setEnabled(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setEncryptionKey",value:function(e){this._keyHandler.setKey(e)}}],[{key:"isSupported",value:function(e){var t=e.e2ee;return!(!(void 0===t?{}:t).externallyManagedKey&&!d.a.isSupported())&&(!(e.testing&&e.testing.disableE2EE)&&(a.a.supportsInsertableStreams()||e.enableEncodedTransformSupport&&a.a.supportsEncodedTransform()))}}]),e}()},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),i=n(21);function o(e,t){if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function a(e,t){if(this.mySDP=e,this.otherSDP=t,!e)throw new Error('"mySDP" is undefined!');if(!t)throw new Error('"otherSDP" is undefined!')}a.prototype.getNewMedia=function(){var e=this.mySDP.getMediaSsrcMap(),t=this.otherSDP.getMediaSsrcMap(),n={};return Object.keys(t).forEach((function(r){var i=e[r],a=t[r];i||!a?(Object.keys(a.ssrcs).forEach((function(e){if(-1===Object.keys(i.ssrcs).indexOf(e))n[r]||(n[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcs[e]=a.ssrcs[e];else if(a.ssrcs[e].lines&&i.ssrcs[e].lines){void 0!==i.ssrcs[e].lines.find((function(e){return-1!==e.indexOf("msid")}))!==(void 0!==a.ssrcs[e].lines.find((function(e){return-1!==e.indexOf("msid")})))&&(n[r]||(n[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcs[e]=a.ssrcs[e])}})),a.ssrcGroups.forEach((function(e){for(var t=!1,s=0;s<i.ssrcGroups.length;s++){var c=i.ssrcGroups[s];if(e.semantics===c.semantics&&o(e.ssrcs,c.ssrcs)){t=!0;break}}t||(n[r]||(n[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),n[r].ssrcGroups.push(e))}))):n[r]=a})),n},a.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach((function(o){n=!0;var a=t[o];e.c("content",{name:a.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:a.mid}),Object.keys(a.ssrcs).forEach((function(t){var n=a.ssrcs[t],o=n.lines,s=i.a.parseSourceNameLine(o);e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({name:r.a.isSourceNameSignalingEnabled()?s:void 0,ssrc:n.ssrc});var c=i.a.parseMSIDAttribute(o);c&&(e.c("parameter"),e.attrs({name:"msid"}),e.attrs({value:c}),e.up()),e.up()})),a.ssrcGroups.forEach((function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach((function(t){e.c("source",{ssrc:t}).up()})),e.up())})),e.up(),e.up()})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return M}));var r=n(6),i=n(5),o=(n(33),n(30)),a="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case ".concat(1,": {\n            timer = setInterval(() => {\n                postMessage({ id: ").concat(3," });\n            }, request.data.timeMs);\n            break;\n        }\n        case ").concat(2,": {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"),s=URL.createObjectURL(new Blob([a],{type:"application/javascript"})),c=function(){function e(t){var n;Object(r.a)(this,e);var i=document.createElement("div"),o=t.getVideoTracks()[0],a=null!==(n=o.getSettings())&&void 0!==n?n:o.getConstraints(),s=a.height,c=a.width,u=a.frameRate;this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._desktopElement=document.createElement("video"),this._videoElement=document.createElement("video"),i.appendChild(this._videoElement),i.appendChild(this._desktopElement),null!==document.body&&document.body.appendChild(i),this._frameRate=parseInt(u,10),this._videoElement.width=parseInt(c,10),this._videoElement.height=parseInt(s,10),this._videoElement.autoplay=!0,this._videoElement.srcObject=t,this._videoElement.play(),i.style.display="none",this._onVideoFrameTimer=this._onVideoFrameTimer.bind(this)}return Object(i.a)(e,[{key:"_onVideoFrameTimer",value:function(e){3===e.data.id&&this._renderVideo()}},{key:"_renderVideo",value:function(){var e,t=this._desktopStream.getVideoTracks(),n=Object(o.a)(t,1)[0],r=null!==(e=n.getSettings())&&void 0!==e?e:n.getConstraints(),i=r.height,a=r.width;this._canvas.width=parseInt(a,10),this._canvas.height=parseInt(i,10),this._ctx.drawImage(this._desktopElement,0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._videoElement,this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.beginPath(),this._ctx.lineWidth=2,this._ctx.strokeStyle="#A9A9A9",this._ctx.rect(this._canvas.width-this._videoElement.width,this._canvas.height-this._videoElement.height,this._videoElement.width,this._videoElement.height),this._ctx.stroke()}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"desktop"===e.videoType}},{key:"startEffect",value:function(e){var t,n=e.getVideoTracks()[0],r=null!==(t=n.getSettings())&&void 0!==t?t:n.getConstraints(),i=r.height,o=r.width;return this._desktopStream=e,this._desktopElement.width=parseInt(o,10),this._desktopElement.height=parseInt(i,10),this._desktopElement.autoplay=!0,this._desktopElement.srcObject=e,this._desktopElement.play(),this._canvas.width=parseInt(o,10),this._canvas.height=parseInt(i,10),this._videoFrameTimerWorker=new Worker(s,{name:"Presenter effect worker"}),this._videoFrameTimerWorker.onmessage=this._onVideoFrameTimer,this._videoFrameTimerWorker.postMessage({id:1,timeMs:1e3/this._frameRate}),this._canvas.captureStream(this._frameRate)}},{key:"stopEffect",value:function(){this._videoFrameTimerWorker.postMessage({id:2}),this._videoFrameTimerWorker.terminate()}}]),e}();function u(e){return MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints?Promise.resolve(new c(e)):Promise.reject(new Error("JitsiStreamPresenterEffect not supported!"))}var l,d=n(279),f=n(12),p=function(){function e(t){Object(r.a)(this,e);try{if(this._wasmInterface=t,this._wasmPcmInput=this._wasmInterface._malloc(1920),!this._wasmPcmInput)throw Error("Failed to create wasm input memory buffer!");if(this._wasmPcmOutput=this._wasmInterface._malloc(1920),!this._wasmPcmOutput)throw t._free(this._wasmPcmInput),Error("Failed to create wasm output memory buffer!");this._wasmPcmInputF32Index=this._wasmPcmInput/4,this._context=this._wasmInterface._rnnoise_create()}catch(n){throw this._releaseWasmResources(),n}}return Object(i.a)(e,[{key:"_copyPCMSampleToWasmBuffer",value:function(e){this._wasmInterface.HEAPF32.set(e,this._wasmPcmInputF32Index)}},{key:"_convertTo16BitPCM",value:function(e){var t,n=Object(f.a)(e.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(o.a)(t.value,2),i=r[0],a=r[1];e[i]=32767*a}}catch(s){n.e(s)}finally{n.f()}}},{key:"_releaseWasmResources",value:function(){this._wasmPcmInput&&(this._wasmInterface._free(this._wasmPcmInput),this._wasmPcmInput=null),this._wasmPcmOutput&&(this._wasmInterface._free(this._wasmPcmOutput),this._wasmPcmOutput=null),this._context&&(this._wasmInterface._rnnoise_destroy(this._context),this._context=null)}},{key:"getSampleLength",value:function(){return 480}},{key:"getRequiredPCMFrequency",value:function(){return 44100}},{key:"destroy",value:function(){this._destroyed||(this._releaseWasmResources(),this._destroyed=!0)}},{key:"calculateAudioFrameVAD",value:function(e){if(this._destroyed)throw new Error("RnnoiseProcessor instance is destroyed, please create another one!");var t=e.length;if(480!==t)throw new Error("Rnnoise can only process PCM frames of 480 samples! Input sample was:".concat(t));return this._convertTo16BitPCM(e),this._copyPCMSampleToWasmBuffer(e),this._wasmInterface._rnnoise_process_frame(this._context,this._wasmPcmOutput,this._wasmPcmInput)}}]),e}();function h(){return l||(l=Object(d.a)()),l.then((function(e){return new p(e)}))}var m=n(280),v=n.n(m),g="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case ".concat(1,": {\n            timer = setInterval(() => {\n                postMessage({ id: ").concat(3," });\n            }, request.data.timeMs);\n            break;\n        }\n        case ").concat(2,": {\n            if (timer) {\n                clearInterval(timer);\n            }\n            break;\n        }\n        }\n    };\n"),y=URL.createObjectURL(new Blob([g],{type:"application/javascript"})),_=function(){function e(t){Object(r.a)(this,e),this.callback=t,this._currentCanvas=document.createElement("canvas"),this._currentCanvasContext=this._currentCanvas.getContext("2d"),this._videoElement=document.createElement("video"),this._handleWorkerAction=this._handleWorkerAction.bind(this),this._initScreenshotCapture=this._initScreenshotCapture.bind(this),this._streamWorker=new Worker(y,{name:"Screenshot capture worker"}),this._streamWorker.onmessage=this._handleWorkerAction}return Object(i.a)(e,[{key:"startEffect",value:function(e,t){var n=this;return new Promise((function(r,i){var o;"desktop"!==t&&i();var a=e.getVideoTracks()[0],s=null!==(o=a.getSettings())&&void 0!==o?o:a.getConstraints(),c=s.height,u=s.width;n._streamHeight=c,n._streamWidth=u,n._currentCanvas.height=parseInt(c,10),n._currentCanvas.width=parseInt(u,10),n._videoElement.height=parseInt(c,10),n._videoElement.width=parseInt(u,10),n._videoElement.srcObject=e,n._videoElement.play(),n._videoElement.addEventListener("loadeddata",n._initScreenshotCapture),r()}))}},{key:"stopEffect",value:function(){this._streamWorker.postMessage({id:2}),this._videoElement.removeEventListener("loadeddata",this._initScreenshotCapture)}},{key:"_initScreenshotCapture",value:function(){var e=document.createElement("canvas").getContext("2d");e.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var t=e.getImageData(0,0,this._streamWidth,this._streamHeight).data;this._storedImageData=t,this._streamWorker.postMessage({id:1,timeMs:3e4})}},{key:"_handleWorkerAction",value:function(e){return 3===e.data.id&&this._handleScreenshot()}},{key:"_shouldProcessScreenshot",value:function(e){return e>=1e5}},{key:"_handleScreenshot",value:function(){this._currentCanvasContext.drawImage(this._videoElement,0,0,this._streamWidth,this._streamHeight);var e=this._currentCanvasContext.getImageData(0,0,this._streamWidth,this._streamHeight).data,t=v()(e,this._storedImageData,null,this._streamWidth,this._streamHeight);this._shouldProcessScreenshot(t)&&(this._storedImageData=e,this.callback(this._currentCanvas))}}]),e}();function b(e){return MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints?Promise.resolve(new _(e)):Promise.reject(new Error("ScreenshotCaptureEffect not supported!"))}var E=n(16),S="image",C="desktop-share",T="\n    var timer;\n\n    onmessage = function(request) {\n        switch (request.data.id) {\n        case ".concat(1,": {\n            timer = setTimeout(() => {\n                postMessage({ id: ").concat(3," });\n            }, request.data.timeMs);\n            break;\n        }\n        case ").concat(2,": {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            break;\n        }\n        }\n    };\n"),O=URL.createObjectURL(new Blob([T],{type:"application/javascript"})),R=function(){function e(t,n){var i,o,a;Object(r.a)(this,e),this._options=n,this._options.virtualBackground.backgroundType===S&&(this._virtualImage=document.createElement("img"),this._virtualImage.crossOrigin="anonymous",this._virtualImage.src=this._options.virtualBackground.virtualSource),this._options.virtualBackground.backgroundType===C&&(this._virtualVideo=document.createElement("video"),this._virtualVideo.autoplay=!0,this._virtualVideo.srcObject=null===(a=null===(o=null===(i=this._options)||void 0===i?void 0:i.virtualBackground)||void 0===o?void 0:o.virtualSource)||void 0===a?void 0:a.stream),this._model=t,this._segmentationPixelCount=this._options.width*this._options.height,this._onMaskFrameTimer=this._onMaskFrameTimer.bind(this),this._outputCanvasElement=document.createElement("canvas"),this._outputCanvasElement.getContext("2d"),this._inputVideoElement=document.createElement("video")}return Object(i.a)(e,[{key:"_onMaskFrameTimer",value:function(e){3===e.data.id&&this._renderMask()}},{key:"runPostProcessing",value:function(){this._outputCanvasCtx.globalCompositeOperation="copy",this._options.virtualBackground.backgroundType===S?this._outputCanvasCtx.filter="blur(4px)":this._outputCanvasCtx.filter="blur(8px)",this._outputCanvasCtx.drawImage(this._segmentationMaskCanvas,0,0,this._options.width,this._options.height,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._outputCanvasCtx.globalCompositeOperation="source-in",this._outputCanvasCtx.filter="none",this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0),this._outputCanvasCtx.globalCompositeOperation="destination-over",this._options.virtualBackground.backgroundType===S&&this._outputCanvasCtx.drawImage(this._virtualImage,0,0,this._inputVideoElement.width,this._inputVideoElement.height),this._options.virtualBackground.backgroundType===C?this._outputCanvasCtx.drawImage(this._virtualVideo,0,0,this._desktopShareDimensions.width,this._desktopShareDimensions.height):(this._outputCanvasCtx.filter="blur(".concat(this._options.virtualBackground.blurValue,"px)"),this._outputCanvasCtx.drawImage(this._inputVideoElement,0,0))}},{key:"runInference",value:function(){this._model._runInference();for(var e=this._model._getOutputMemoryOffset()/4,t=0;t<this._segmentationPixelCount;t++){var n=this._model.HEAPF32[e+2*t],r=this._model.HEAPF32[e+2*t+1],i=Math.max(n,r),o=Math.exp(n-i),a=Math.exp(r-i);this._segmentationMask.data[4*t+3]=255*a/(o+a)}this._segmentationMaskCtx.putImageData(this._segmentationMask,0,0)}},{key:"_renderMask",value:function(){var e,t,n,r=null===(n=null===(t=null===(e=this._options)||void 0===e?void 0:e.virtualBackground)||void 0===t?void 0:t.virtualSource)||void 0===n?void 0:n.track;r&&(this._desktopShareDimensions=r.getSettings?r.getSettings():r.getConstraints()),this.resizeSource(),this.runInference(),this.runPostProcessing(),this._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})}},{key:"resizeSource",value:function(){this._segmentationMaskCtx.drawImage(this._inputVideoElement,0,0,this._inputVideoElement.width,this._inputVideoElement.height,0,0,this._options.width,this._options.height);for(var e=this._segmentationMaskCtx.getImageData(0,0,this._options.width,this._options.height),t=this._model._getInputMemoryOffset()/4,n=0;n<this._segmentationPixelCount;n++)this._model.HEAPF32[t+3*n]=e.data[4*n]/255,this._model.HEAPF32[t+3*n+1]=e.data[4*n+1]/255,this._model.HEAPF32[t+3*n+2]=e.data[4*n+2]/255}},{key:"isEnabled",value:function(e){return e.isVideoTrack()&&"camera"===e.videoType}},{key:"startEffect",value:function(e){var t=this;this._maskFrameTimerWorker=new Worker(O,{name:"Blur effect worker"}),this._maskFrameTimerWorker.onmessage=this._onMaskFrameTimer;var n=e.getVideoTracks()[0],r=n.getSettings?n.getSettings():n.getConstraints(),i=r.height,o=r.frameRate,a=r.width;return this._segmentationMask=new ImageData(this._options.width,this._options.height),this._segmentationMaskCanvas=document.createElement("canvas"),this._segmentationMaskCanvas.width=this._options.width,this._segmentationMaskCanvas.height=this._options.height,this._segmentationMaskCtx=this._segmentationMaskCanvas.getContext("2d"),this._outputCanvasElement.width=parseInt(a,10),this._outputCanvasElement.height=parseInt(i,10),this._outputCanvasCtx=this._outputCanvasElement.getContext("2d"),this._inputVideoElement.width=parseInt(a,10),this._inputVideoElement.height=parseInt(i,10),this._inputVideoElement.autoplay=!0,this._inputVideoElement.srcObject=e,this._inputVideoElement.onloadeddata=function(){t._maskFrameTimerWorker.postMessage({id:1,timeMs:1e3/30})},this._outputCanvasElement.captureStream(parseInt(o,10))}},{key:"stopEffect",value:function(){this._maskFrameTimerWorker.postMessage({id:2}),this._maskFrameTimerWorker.terminate()}}]),e}(),A=n(281),w=n.n(A),k=n(282),P=n.n(k),N=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},I={model96:"https://sdk.sariska.io/segm_lite_v681.tflite",model144:"https://sdk.sariska.io/segm_full_v679.tflite"},D={model96:{height:96,width:160},model144:{height:144,width:256}};function M(e,t){var r;return N(this,void 0,void 0,Object(E.a)().mark((function t(){var i,o,a,s,c,u;return Object(E.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(MediaStreamTrack.prototype.getSettings||MediaStreamTrack.prototype.getConstraints){t.next=2;break}throw new Error("JitsiStreamBackgroundEffect not supported!");case 2:if(t.prev=2,o=n(340),!(null===(r=null===o||void 0===o?void 0:o.feature)||void 0===r?void 0:r.simd)){t.next=10;break}return t.next=7,P()();case 7:i=t.sent,t.next=13;break;case 10:return t.next=12,w()();case 12:i=t.sent;case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(2),t.abrupt("return");case 18:return a=i._getModelBufferMemoryOffset(),t.next=21,fetch(o.feature.simd?I.model144:I.model96);case 21:if((s=t.sent).ok){t.next=24;break}throw new Error("Failed to download tflite model!");case 24:return t.next=26,s.arrayBuffer();case 26:return c=t.sent,i.HEAPU8.set(new Uint8Array(c),a),i._loadModel(c.byteLength),u=Object.assign(Object.assign({},o.feature.simd?D.model144:D.model96),{virtualBackground:e}),t.abrupt("return",new R(i,u));case 31:case"end":return t.stop()}}),t,null,[[2,15]])})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o.a})),n.d(t,"a",(function(){return a.a}));var r=n(206);n(121);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"recording.ogg",n=window.URL.createObjectURL(e),r=document.createElement("a");r.style="display: none",r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}var o=n(207),a=n(208)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=r.useState(e),n=t[0],i=t[1],o=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}},function(e,t,n){"use strict";var r=n(106);t.a=r.a.toString},function(e,t,n){"use strict";var r=n(106),i=n(151);t.a=function(e){return null==e?e+"":"object"===typeof e?r.a[i.a.call(e)]||"object":typeof e}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));window.AudioContext=window.AudioContext||window.webkitAudioContext;var r=null;function i(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}window.AudioContext&&(r=new AudioContext).suspend&&r.suspend(),i.prototype.start=function(){var e=this;if(i.isLocalStatsSupported()){r.resume();var t=r.createAnalyser();t.smoothingTimeConstant=.8,t.fftSize=2048,r.createMediaStreamSource(this.stream).connect(t),this.intervalId=setInterval((function(){var n=new Uint8Array(t.frequencyBinCount);t.getByteTimeDomainData(n);var r=function(e){for(var t=0,n=e.length,r=0;r<n;r++)t<e[r]&&(t=e[r]);return parseFloat(((t-127)/128).toFixed(3))}(n);e.audioLevel=function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))}(r,e.audioLevel),e.callback(e.audioLevel)}),this.intervalMilis)}},i.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},i.isLocalStatsSupported=function(){return Boolean(r)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(12),i=n(16),o=n(6),a=n(5),s=n(29),c=n(24),u=n(25),l=n(10),d=n(4),f=n(18),p=n(11),h=n(112),m=n(48),v=n(224),g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},y=Object(l.getLogger)(e),_=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,n),(r=t.call(this)).conference=e,r.e2eeCtx=new v.a(i),r.enabled=!1,r._enabling=void 0,r.conference.on(d._MEDIA_SESSION_STARTED,r._onMediaSessionStarted.bind(Object(s.a)(r))),r.conference.on(d.TRACK_ADDED,(function(e){return e.isLocal()&&r._onLocalTrackAdded(e)})),r.conference.rtc.on(f.default.REMOTE_TRACK_ADDED,(function(e,t){return r._setupReceiverE2EEForTrack(t,e)})),r.conference.on(d.TRACK_MUTE_CHANGED,r._trackMuteChanged.bind(Object(s.a)(r))),r}return Object(a.a)(n,[{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){return g(this,void 0,void 0,Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==this.enabled){t.next=2;break}return t.abrupt("return");case 2:if(t.t0=this._enabling,!t.t0){t.next=6;break}return t.next=6,this._enabling;case 6:if(this._enabling=new h.a,this.enabled=e,e||this.e2eeCtx.cleanupAll(),t.t1=this._setEnabled,!t.t1){t.next=13;break}return t.next=13,this._setEnabled(e);case 13:this.conference.setLocalParticipantProperty("e2ee.enabled",e),this.conference._restartMediaSessions(),this._enabling.resolve();case 16:case"end":return t.stop()}}),t,this)})))}},{key:"setEncryptionKey",value:function(){throw new Error("Not implemented by subclass")}},{key:"_onLocalTrackAdded",value:function(e){var t,n=Object(r.a)(this.conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setupSenderE2EEForTrack(i,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_onMediaSessionStarted",value:function(e){var t,n=this.conference.getLocalTracks(),i=Object(r.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this._setupSenderE2EEForTrack(e,o)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_setupReceiverE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.findReceiverForTrack(t.track);n?this.e2eeCtx.handleReceiver(n,t.getType(),t.getParticipantId()):y.warn("Could not handle E2EE for ".concat(t,": receiver not found in: ").concat(e))}}},{key:"_setupSenderE2EEForTrack",value:function(e,t){if(this.enabled){var n=e.peerconnection,r=n&&n.findSenderForTrack(t.track);r?this.e2eeCtx.handleSender(r,t.getType(),t.getParticipantId()):y.warn("Could not handle E2EE for ".concat(t,": sender not found in ").concat(n))}}},{key:"_trackMuteChanged",value:function(e){if(p.a.doesVideoMuteByStreamRemove()&&e.isLocal()&&e.isVideoTrack()&&!e.isMuted()){var t,n=Object(r.a)(this.conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setupSenderE2EEForTrack(i,e)}}catch(o){n.e(o)}finally{n.f()}}}}]),n}(m.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return w}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(10),u=n(78),l=n.n(u),d=n(7),f=n(157),p=n(8),h=n(32),m=n(2),v=n(36),g=n.n(v),y=n(48),_=n(231),b=n(232),E=n(233),S=n(100),C=n(234),T=Object(c.getLogger)(e),O={packet2JSON:function(e,t){for(var n=0,r=Array.from(e.children);n<r.length;n++){for(var i=r[n],o={attributes:{},children:[],tagName:i.tagName},a=0,s=Array.from(i.attributes);a<s.length;a++){var c=s[a];o.attributes[c.name]=c.value}var u=d.Strophe.getText(i);u&&(o.value=d.Strophe.xmlunescape(u)),t.push(o),this.packet2JSON(i,o.children)}},json2packet:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r&&(t.c(r.tagName,r.attributes),r.value&&t.t(r.value),r.children&&this.json2packet(r.children,t),t.up())}}};function R(e,t){for(var n=[],r=0;r<e.length;r++)e[r].tagName===t&&n.push(e[r]);return n}var A=["owner","admin","member"],w=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,i,a,s,c){var u;return Object(r.a)(this,n),(u=t.call(this)).xmpp=s,u.connection=e,u.roomjid=d.Strophe.getBareJidFromJid(i),u.myroomjid=i,u.password=a,u.replaceParticipant=!1,T.info("Joined MUC as ".concat(u.myroomjid)),u.members={},u.presMap={},u.presHandlers={},u._removeConnListeners=[],u.joined=!1,u.inProgressEmitted=!1,u.role=null,u.focusMucJid=null,u.noBridgeAvailable=!1,u.options=c||{},u.moderator=new C.a(u.roomjid,u.xmpp,u.eventEmitter,{connection:u.xmpp.options,conference:u.options}),("undefined"===typeof u.options.enableLobby||u.options.enableLobby)&&(u.lobby=new E.a(Object(o.a)(u))),u.avModeration=new _.a(Object(o.a)(u)),u.breakoutRooms=new b.a(Object(o.a)(u)),u.initPresenceMap(c),u.lastPresences={},u.phoneNumber=null,u.phonePin=null,u.connectionTimes={},u.participantPropertyListener=null,u.locked=!1,u.transcriptionStatus=f.OFF,u}return Object(i.a)(n,[{key:"initPresenceMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],e.statsId&&this.presMap.nodes.push({tagName:"stats-id",value:e.statsId}),this.presenceUpdateTime=Date.now()}},{key:"join",value:function(e,t){var n=this;return this.password=e,this.replaceParticipant=t,new Promise((function(e){n.options.disableFocus&&T.info("Conference focus disabled for ".concat(n.roomjid)),(n.options.disableFocus?Promise.resolve():n.moderator.allocateConferenceFocus()).then((function(){n.sendPresence(!0),n._removeConnListeners.push(n.connection.addEventListener(S.a.Events.CONN_STATUS_CHANGED,n.onConnStatusChanged.bind(n))),e()}))}))}},{key:"sendPresence",value:function(e){var t=this.presMap.to;if(this.connection&&this.connection.connected&&t&&(this.joined||e)){var n=Object(d.$pres)({to:t});e&&(this.replaceParticipant&&n.c("flip_device").up(),n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),this.options.billingId&&n.c("billingid").t(this.options.billingId).up(),n.up()),O.json2packet(this.presMap.nodes,n),this.presenceSyncTime=Date.now(),this.connection.send(n),e&&this.connection.flush()}}},{key:"doLeave",value:function(){T.log("do leave",this.myroomjid);var e=Object(d.$pres)({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(e),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var e=this,t=Object(d.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:d.Strophe.NS.DISCO_INFO});this.connection.sendIQ(t,(function(t){var n=1===$(t).find('>query>feature[var="muc_passwordprotected"]').length;n!==e.locked&&(e.eventEmitter.emit(m.XMPPEvents.MUC_LOCK_CHANGED,n),e.locked=n);var r=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');r.length?e.setMeetingId(r.text()):T.warn("No meeting ID from backend");var i=1===$(t).find('>query>feature[var="muc_membersonly"]').length,o=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value');e.lobby&&e.lobby.setLobbyRoomJid(o&&o.length?o.text():void 0);var a=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_isbreakout"]>value'),s=Boolean(null===a||void 0===a?void 0:a.text());e.breakoutRooms._setIsBreakoutRoom(s);var c=$(t).find('>query>x[type="result"]>field[var="muc#roominfo_breakout_main_room"]>value');(null===c||void 0===c?void 0:c.length)&&e.breakoutRooms._setMainRoomJid(c.text()),i!==e.membersOnlyEnabled&&(e.membersOnlyEnabled=i,e.eventEmitter.emit(m.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,i))}),(function(e){g.a.callErrorHandler(e),T.error("Error getting room info: ",e)}))}},{key:"setMeetingId",value:function(e){this.meetingId!==e&&(this.meetingId&&T.warn("Meeting Id changed from:".concat(this.meetingId," to:").concat(e)),this.meetingId=e,this.eventEmitter.emit(m.XMPPEvents.MEETING_ID_SET,e))}},{key:"createNonAnonymousRoom",value:function(){var e=this;if(!this.options.disableDiscoInfo){var t=Object(d.$iq)({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"});this.connection.sendIQ(t,(function(t){if(!$(t).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]').length){var n="non-anonymous rooms not supported";return g.a.callErrorHandler(new Error(n)),void T.error(n)}var r=Object(d.$iq)({to:e.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});r.c("x",{xmlns:"jabber:x:data",type:"submit"}),r.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),r.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),e.connection.sendIQ(r)}),(function(e){g.a.callErrorHandler(e),T.error("Error getting room configuration form: ",e)}))}}},{key:"onConnStatusChanged",value:function(e){e===S.a.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(e){var t=this,n=e.getAttribute("from"),r={},i=e.getElementsByTagName("status")[0];i&&(r.status=i.textContent||"");var o=!1,a=!1,s=e.getElementsByTagNameNS("http://jabber.org/protocol/muc#user","x")[0],c=s&&s.getElementsByTagName("item")[0];r.isReplaceParticipant=e.getElementsByTagName("flip_device").length,r.affiliation=c&&c.getAttribute("affiliation"),r.role=c&&c.getAttribute("role");var u=c&&c.getAttribute("jid");r.jid=u,r.isFocus=u&&0===u.indexOf("".concat(this.moderator.getFocusUserJid(),"/")),r.isHiddenDomain=u&&u.indexOf("@")>0&&this.options.hiddenDomain===u.substring(u.indexOf("@")+1,u.indexOf("/"));var f=e.getElementsByTagName("nick");f[0]&&"transcriber"===f[0].innerHTML.toLowerCase()&&(r.isHiddenDomain=!0),this.eventEmitter.emit(m.XMPPEvents.PRESENCE_RECEIVED,{fromHiddenDomain:r.isHiddenDomain,presence:e});var p=e.querySelector("x");p&&p.remove();var h=[];O.packet2JSON(e,h),this.lastPresences[n]=h;for(var v=function(e){var n={},r=e.children.find((function(e){return"user"===e.tagName}));if(r){n.user={};var i=["id","name","avatar"];t.options.hiddenFromRecorderFeatureEnabled&&i.push("hidden-from-recorder");for(var o=function(){var e=s[a],t=r.children.find((function(t){return t.tagName===e}));t&&(n.user[e]=t.value)},a=0,s=i;a<s.length;a++)o()}var c=e.children.find((function(e){return"group"===e.tagName}));return c&&(n.group=c.value),n},g=0;g<h.length;g++){var y=h[g];switch(y.tagName){case"bot":var _=y.attributes;if(!_)break;var b=_.type;r.botType=b;break;case"nick":r.nick=y.value;break;case"userId":r.id=y.value;break;case"stats-id":r.statsID=y.value;break;case"identity":r.identity=v(y);break;case"features":r.features=this._extractFeatures(y);break;case"stat":var E=y.attributes;if(!E)break;"version"===E.name&&(r.version=E.value)}}if(!this.joined&&!this.inProgressEmitted){var S=this.connectionTimes["muc.join.started"]=window.performance.now();T.log("(TIME) MUC join started:\t",S),this.eventEmitter.emit(m.XMPPEvents.MUC_JOIN_IN_PROGRESS),this.inProgressEmitted=!0}if(n===this.myroomjid){var C="owner"===r.affiliation?r.role:"none";if(this.role!==C&&(this.role=C,this.eventEmitter.emit(m.XMPPEvents.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var R=this.connectionTimes["muc.joined"]=window.performance.now();T.log("(TIME) MUC joined:\t",R),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(m.XMPPEvents.MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo()}}else if(void 0===u)T.info("Ignoring member with undefined JID");else if(void 0===this.members[n])this.members[n]=r,T.log("entered",n,r),o=void 0!==r.status,a=void 0!==r.version,r.isFocus?this._initFocus(n,r.features):(this.eventEmitter.emit(m.XMPPEvents.MUC_MEMBER_JOINED,n,r.nick,r.role,r.isHiddenDomain,r.statsID,r.status,r.identity,r.botType,r.jid,r.features,r.isReplaceParticipant),o=!1);else{var A=this.members[n];A.role!==r.role&&(A.role=r.role,this.eventEmitter.emit(m.XMPPEvents.MUC_ROLE_CHANGED,n,r.role)),A.affiliation!==r.affiliation&&(A.affiliation=r.affiliation),A.botType!==r.botType&&(A.botType=r.botType,this.eventEmitter.emit(m.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,n,r.botType)),r.isFocus&&(A.isFocus=!0,this._initFocus(n,r.features)),r.displayName&&(A.displayName=r.displayName),A.status!==r.status&&(o=!0,A.status=r.status),A.version!==r.version&&(a=!0,A.version=r.version),l()(A.features,r.features)||(A.features=r.features,this.eventEmitter.emit(m.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,n,r.features))}for(var w=0;w<h.length;w++){var k=h[w];switch(k.tagName){case"nick":if(!r.isFocus){var P=this.xmpp.options.displayJids?d.Strophe.getResourceFromJid(n):r.nick;this.eventEmitter.emit(m.XMPPEvents.DISPLAY_NAME_CHANGED,n,P)}break;case"bridgeNotAvailable":r.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(m.XMPPEvents.BRIDGE_DOWN));break;case"conference-properties":if(r.isFocus){for(var N={},I=0;I<k.children.length;I++){var D=k.children[I].attributes;D&&D.key&&(N[D.key]=D.value)}this.eventEmitter.emit(m.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,N),"undefined"===typeof this.restartByTerminateSupported&&(this.restartByTerminateSupported="true"===N["support-terminate-restart"],T.info("Jicofo supports restart by terminate: ".concat(this.supportsRestartByTerminate())))}break;case"transcription-status":var M=k.attributes;if(!M)break;var x=M.status;x&&x!==this.transcriptionStatus&&(this.transcriptionStatus=x,this.eventEmitter.emit(m.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,x));break;case"call-control":var L=k.attributes;if(!L)break;this.phoneNumber=L.phone||null,this.phonePin=L.pin||null,this.eventEmitter.emit(m.XMPPEvents.PHONE_NUMBER_CHANGED);break;default:this.processNode(k,n)}}o&&this.eventEmitter.emit(m.XMPPEvents.PRESENCE_STATUS,n,r.status),a&&T.info("Received version for ".concat(u,": ").concat(r.version))}},{key:"_extractFeatures",value:function(e){for(var t=new Set,n=0;n<e.children.length;n++){var r=e.children[n].attributes;r&&r.var&&t.add(r.var)}return t}},{key:"_initFocus",value:function(e,t){this.focusMucJid=e,this.focusFeatures=t}},{key:"setParticipantPropertyListener",value:function(e){this.participantPropertyListener=e}},{key:"supportsRestartByTerminate",value:function(){return this.restartByTerminateSupported}},{key:"processNode",value:function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(n=[this.participantPropertyListener]),n&&n.forEach((function(n){n(e,d.Strophe.getResourceFromJid(t),t)}))}catch(r){g.a.callErrorHandler(r),T.error("Error processing:".concat(e.tagName," node."),r)}}},{key:"sendMessage",value:function(e,t){var n=Object(d.$msg)({to:this.roomjid,type:"groupchat"});"body"===t?n.c(t,{},e):n.c(t,{xmlns:"http://jitsi.org/jitmeet"},e),this.connection.send(n),this.eventEmitter.emit(m.XMPPEvents.SENDING_CHAT_MESSAGE,e)}},{key:"sendPrivateMessage",value:function(e,t,n){var r=Object(d.$msg)({to:"".concat(this.roomjid,"/").concat(e),type:"chat"});"body"===n?r.c(n,t).up():r.c(n,{xmlns:"http://jitsi.org/jitmeet"},t).up(),this.connection.send(r),this.eventEmitter.emit(m.XMPPEvents.SENDING_PRIVATE_CHAT_MESSAGE,t)}},{key:"setSubject",value:function(e){var t=Object(d.$msg)({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t)}},{key:"onParticipantLeft",value:function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(m.XMPPEvents.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))}},{key:"onPresenceUnavailable",value:function(e,t){var n=this;if($(e).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;var r=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy');if(r.length){var i,o=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason');return o.length&&(i=o.text()),this.eventEmitter.emit(m.XMPPEvents.MUC_DESTROYED,i,r.attr("jid")),this.connection.emuc.doLeave(this.roomjid),!0}var a=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]').length,s=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]').length,c=Object.keys(this.members),u=$(e).find("flip_device").length;if(s){var l,f,p=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');p.length&&(l=p.attr("nick"));var h=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>reason');h.length&&(f=h.text()),this.eventEmitter.emit(m.XMPPEvents.KICKED,a,l,d.Strophe.getResourceFromJid(t),f,u)}a?(c.forEach((function(e){var t=n.members[e];delete n.members[e],n.onParticipantLeft(e,t.isFocus)})),this.connection.emuc.doLeave(this.roomjid),s||this.eventEmitter.emit(m.XMPPEvents.MUC_LEFT)):(delete this.members[t],this.onParticipantLeft(t,!1))}},{key:"onMessage",value:function(e,t){var n=e.getAttribute("type");if("error"===n){var r=$(e).find(">settings-error>text").text();if(r.length)return this.eventEmitter.emit(m.XMPPEvents.SETTINGS_ERROR_RECEIVED,r),!0;var i=$(e).find(">error>text").text();return this.eventEmitter.emit(m.XMPPEvents.CHAT_ERROR_RECEIVED,i),!0}var o=$(e).find(">body").text(),a=$(e).find(">subject");if(a.length){var s=a.text();(s||""===s)&&(this.eventEmitter.emit(m.XMPPEvents.SUBJECT_CHANGED,s),T.log("Subject is changed to ".concat(s)))}var c,u=$(e).find(">delay").attr("stamp");if(!u&&(u=$(e).find('>[xmlns="jabber:x:delay"]').attr("stamp"))){var l=u.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);u="".concat(l[1],"-").concat(l[2],"-").concat(l[3],"Z")}if(t===this.roomjid)if($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length)this.discoRoomInfo();else if((c=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>invite'))&&c.length){var d,f=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>password');f&&f.length&&(d=f.text()),this.eventEmitter.emit(m.XMPPEvents.INVITE_MESSAGE_RECEIVED,t,c.attr("from"),o,d)}var p=$(e).find(">json-message").text();if(p){var h=this.xmpp.tryParseJSONAndVerify(p);if(h&&void 0===u)return void this.eventEmitter.emit(m.XMPPEvents.JSON_MESSAGE_RECEIVED,t,h)}o&&("chat"===n?this.eventEmitter.emit(m.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,t,o,this.myroomjid,u):"groupchat"===n&&this.eventEmitter.emit(m.XMPPEvents.MESSAGE_RECEIVED,t,o,this.myroomjid,u))}},{key:"onPresenceError",value:function(e,t){if($(e).find('>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length)T.log("on password required",t),this.eventEmitter.emit(m.XMPPEvents.PASSWORD_REQUIRED);else if($(e).find('>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length){d.Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(m.XMPPEvents.ROOM_JOIN_ERROR):(T.warn("onPresError ",e),this.eventEmitter.emit(m.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR))}else if($(e).find(">error>service-unavailable").length)T.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(m.XMPPEvents.ROOM_MAX_USERS_ERROR);else if($(e).find('>error[type="auth"]>registration-required[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length){var n,r=$(e).find('>error[type="auth"]>lobbyroom');if(r.length)n=r.text();else{var i=$(e).find(">lobbyroom");i.length&&(n=i.text())}this.eventEmitter.emit(m.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,n)}else T.warn("onPresError ",e),this.eventEmitter.emit(m.XMPPEvents.ROOM_CONNECT_ERROR)}},{key:"setAffiliation",value:function(e,t){var n=Object(d.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:t,jid:d.Strophe.getBareJidFromJid(e)}).c("reason").t("Your affiliation has been changed to '".concat(t,"'.")).up().up().up();this.connection.sendIQ(n,(function(n){return T.log("Set affiliation of participant with jid: ",e,"to",t,n)}),(function(e){return T.log("Set affiliation of participant error: ",e)}))}},{key:"kick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You have been kicked.",n=Object(d.$iq)({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:d.Strophe.getResourceFromJid(e),role:"none"}).c("reason").t(t).up().up().up();this.connection.sendIQ(n,(function(t){return T.log("Kick participant with jid: ",e,t)}),(function(e){return T.log("Kick participant error: ",e)}))}},{key:"lockRoom",value:function(e,t,n,r){var i=this;this.connection.sendIQ(Object(d.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),(function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]').length){var a=Object(d.$iq)({to:i.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});a.c("x",{xmlns:"jabber:x:data",type:"submit"}),a.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),a.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),a.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t(null===e||0===e.length?"0":"1").up().up(),i.membersOnlyEnabled&&a.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t("true").up().up(),a.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),i.connection.sendIQ(a,(function(){i.password=e,t()}),n)}else r()}),n)}},{key:"setMembersOnly",value:function(e,t,n){var r=this;e&&Object.values(this.members).filter((function(e){return!e.isFocus})).length&&Object.values(this.members).forEach((function(e){e.jid&&!A.includes(e.affiliation)&&r.xmpp.connection.sendIQ(Object(d.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"member",jid:d.Strophe.getBareJidFromJid(e.jid)}).up().up())}));var i=n||function(){};this.xmpp.connection.sendIQ(Object(d.$iq)({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),(function(n){if($(n).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]').length){var o=Object(d.$iq)({to:r.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});o.c("x",{xmlns:"jabber:x:data",type:"submit"}),o.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),o.c("field",{var:"muc#roomconfig_membersonly"}).c("value").t(e?"true":"false").up().up(),r.locked&&o.c("field",{var:"muc#roomconfig_passwordprotectedroom"}).c("value").t("1").up().up(),r.xmpp.connection.sendIQ(o,t,i)}else i(new Error("Setting members only room not supported!"))}),i)}},{key:"addToPresence",value:function(e,t){return this.addOrReplaceInPresence(e,t)}},{key:"addOrReplaceInPresence",value:function(e,t){t.tagName=e;var n=this.presMap.nodes.filter((function(t){return e===t.tagName}));return(1!==n.length||!l()(n[0],t))&&(this.removeFromPresence(e),this.presMap.nodes.push(t),this.presenceUpdateTime=Date.now(),!0)}},{key:"getFromPresence",value:function(e){return this.presMap.nodes.find((function(t){return e===t.tagName}))}},{key:"removeFromPresence",value:function(e){var t=this.presMap.nodes.filter((function(t){return e!==t.tagName}));this.presMap.nodes=t,this.presenceUpdateTime=Date.now()}},{key:"addPresenceListener",value:function(e,t){if("function"!==typeof t)throw new Error('"handler" is not a function');var n=this.presHandlers[e];n||(this.presHandlers[e]=n=[]),-1===n.indexOf(t)?n.push(t):T.warn("Trying to add the same handler more than once for: ".concat(e))}},{key:"removePresenceListener",value:function(e,t){var n=this.presHandlers[e],r=n?n.indexOf(t):-1;-1!==r?n.splice(r,1):T.warn("Handler for: ".concat(e," was not registered"))}},{key:"isFocus",value:function(e){var t=this.members[e];return t?t.isFocus:null}},{key:"isModerator",value:function(){return"moderator"===this.role}},{key:"getMemberRole",value:function(e){return this.members[e]?this.members[e].role:null}},{key:"addAudioInfoToPresence",value:function(e){var t="audiomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()})}},{key:"addVideoInfoToPresence",value:function(e){var t="videomuted";return!(e&&!this.getFromPresence(t))&&this.addOrReplaceInPresence(t,{value:e.toString()})}},{key:"getMediaPresenceInfo",value:function(e,t){var n=this.lastPresences["".concat(this.roomjid,"/").concat(e)];if(!n)return null;var r={muted:!0,videoType:t===p.a.VIDEO?h.VideoType.CAMERA:void 0},i=null;if(t===p.a.AUDIO)i=R(n,"audiomuted");else{if(t!==p.a.VIDEO)return T.error("Unsupported media type: ".concat(t)),null;i=R(n,"videomuted");var o=R(n,"jitsi_participant_codecType"),a=R(n,"videoType");a.length>0&&(r.videoType=a[0].value),o.length>0&&(r.codecType=o[0].value)}return i.length>0&&(r.muted="true"===i[0].value),r}},{key:"getLastPresence",value:function(e){return this.lastPresences["".concat(this.roomjid,"/").concat(e)]}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(e){return this.connection.rayo.dial(e,"fromnumber",d.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getLobby",value:function(){return this.lobby}},{key:"getAVModeration",value:function(){return this.avModeration}},{key:"getBreakoutRooms",value:function(){return this.breakoutRooms}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(e,t,n){T.info("set mute",t,e);var r=Object(d.$iq)({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/".concat(n),jid:e}).t(t.toString()).up();this.connection.sendIQ(r,(function(e){return T.log("set mute",e)}),(function(e){return T.log("set mute error",e)}))}},{key:"onMute",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(m.XMPPEvents.AUDIO_MUTED_BY_FOCUS,t.attr("actor")):T.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else T.warn("Ignored mute from non focus peer")}},{key:"onMuteVideo",value:function(e){if(e.getAttribute("from")===this.focusMucJid){var t=$(e).find("mute");t.length&&"true"===t.text()?this.eventEmitter.emit(m.XMPPEvents.VIDEO_MUTED_BY_FOCUS,t.attr("actor")):T.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else T.warn("Ignored mute from non focus peer")}},{key:"clean",value:function(){this._removeConnListeners.forEach((function(e){return e()})),this._removeConnListeners=[],this.joined=!1,this.inProgressEmitted=!1}},{key:"leave",value:function(){var e,t=this;this.avModeration.dispose(),this.breakoutRooms.dispose();var n=[];return(null===(e=this.lobby)||void 0===e?void 0:e.lobbyRoom)&&n.push(this.lobby.leave()),n.push(new Promise((function(e,n){var r=-1,i=function i(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.eventEmitter.removeListener(m.XMPPEvents.MUC_LEFT,i),clearTimeout(r),o?(t.connection.emuc.doLeave(t.roomjid),n(new Error("The timeout for the confirmation about leaving the room expired."))):e()};r=setTimeout((function(){return i(!0)}),5e3),t.clean(),t.eventEmitter.on(m.XMPPEvents.MUC_LEFT,i),t.doLeave()}))),Promise.allSettled(n)}}]),n}(y.a)}).call(this,"/index.js")},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"JitsiTranscriptionStatus",(function(){return r})),n.d(t,"ON",(function(){return i})),n.d(t,"OFF",(function(){return o})),function(e){e.ON="on",e.OFF="off"}(r||(r={}));var i=r.ON,o=r.OFF},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(12),i=n(6),o=n(5),a=n(24),s=n(25),c=n(10),u=n(47),l=n.n(u),d=n(39),f=n(8),p=n(11),h=n(35),m=Object(c.getLogger)(e),v={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"},g=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,r,o,a,s,c){var u;return Object(i.a)(this,n),(u=t.call(this)).addEventListener=u.addListener,u.removeEventListener=u.off=u.removeListener,u.containers=[],u.conference=e,u.audioLevel=-1,u.type=s,u.track=o,u.videoType=c,u.handlers=new Map,u.disposed=!1,u._streamInactiveHandler=a,u._setStream(r),u}return Object(o.a)(n,[{key:"_addMediaStreamInactiveHandler",value:function(e){p.a.isFirefox()?this.track.onended=e:this.stream.oninactive=e}},{key:"_setHandler",value:function(e,t){if(v.hasOwnProperty(e)){if(t?this.handlers.set(e,t):this.handlers.delete(e),this.stream){var n,i=Object(r.a)(this.stream.getTracks());try{for(i.s();!(n=i.n()).done;){n.value[v[e]]=t}}catch(o){i.e(o)}finally{i.f()}}}else m.error("Invalid handler type ".concat(e))}},{key:"_unregisterHandlers",value:function(){if(this.stream){var e,t=Object(r.a)(this.handlers.keys());try{for(t.s();!(e=t.n()).done;){var n,i=e.value,o=Object(r.a)(this.stream.getVideoTracks());try{for(o.s();!(n=o.n()).done;){n.value[v[i]]=void 0}}catch(a){o.e(a)}finally{o.f()}}}catch(a){t.e(a)}finally{t.f()}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0)}else m.warn("".concat(this,": unable to unregister handlers - no stream object"))}},{key:"_setStream",value:function(e){if(this.stream!==e&&(this.stream=e,this.stream)){var t,n=Object(r.a)(this.handlers.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setHandler(i,this.handlers.get(i))}}catch(o){n.e(o)}finally{n.f()}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler)}}},{key:"getVideoType",value:function(){return this.videoType}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===f.a.AUDIO}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===f.a.VIDEO}},{key:"isLocal",value:function(){throw new Error("Not implemented by subclass")}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default"}},{key:"_maybeFireTrackAttached",value:function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)}},{key:"attach",value:function(e){this.stream&&(this._onTrackAttach(e),h.a.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e)}},{key:"detach",value:function(e){if(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var r=t[n];e||(this._onTrackDetach(r),h.a.attachMediaStream(r,null)),e&&r!==e||t.splice(n,1)}e&&(this._onTrackDetach(e),h.a.attachMediaStream(e,null))}}},{key:"_onTrackAttach",value:function(e){}},{key:"_onTrackDetach",value:function(e){}},{key:"_attachTTFMTracker",value:function(e){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?h.a.getStreamID(this.stream):null}},{key:"isActive",value:function(){return"undefined"===typeof this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(e,t){var n=e;p.a.supportsReceiverStats()&&"undefined"!==typeof t&&this.isMuted()&&(n=0),this.audioLevel!==n?(this.audioLevel=n,this.emit(d.TRACK_AUDIO_LEVEL_CHANGED,n,t)):0===this.audioLevel&&0===n&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(d.NO_AUDIO_INPUT,n)}},{key:"getMSID",value:function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?"".concat(e," ").concat(t):null}},{key:"setAudioOutput",value:function(e){var t=this;return h.a.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map((function(t){return t.setSinkId(e).catch((function(e){throw m.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e}))}))).then((function(){t.emit(d.TRACK_AUDIO_OUTPUT_CHANGED,e)})):Promise.reject(new Error("Audio output device change is not supported"))}}]),n}(l.a)}).call(this,"/index.js")},function(e,t){e.exports={2160:{width:3840,height:2160},"4k":{width:3840,height:2160},1080:{width:1920,height:1080},fullhd:{width:1920,height:1080},720:{width:1280,height:720},hd:{width:1280,height:720},540:{width:960,height:540},qhd:{width:960,height:540},480:{width:640,height:480},vga:{width:640,height:480},360:{width:640,height:360},240:{width:320,height:240},180:{width:320,height:180}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(31),i=n(6),o=n(5),a=n(29),s=n(24),c=n(25),u=n(47),l=n.n(u),d=n(37),f=n(161),p=n(55),h=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r,o){var s;return Object(i.a)(this,n),(s=t.call(this))._procNodeSampleRate=e,s._vadProcessor=r,s._localTrack=o,s._bufferResidue=new Float32Array([]),s._audioContext=Object(f.a)({sampleRate:r.getRequiredPCMFrequency()}),s._vadSampleSize=r.getSampleLength(),s._onAudioProcess=s._onAudioProcess.bind(Object(a.a)(s)),s._initializeAudioContext(),s}return Object(o.a)(n,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(e){for(var t=e.inputBuffer.getChannelData(0),n=[].concat(Object(r.a)(this._bufferResidue),Object(r.a)(t)),i=Date.now(),o=0;o+this._vadSampleSize<n.length;o+=this._vadSampleSize){var a=n.slice(o,o+this._vadSampleSize),s=this._vadProcessor.calculateAudioFrameVAD(a.slice());this.emit(p.VAD_SCORE_PUBLISHED,{timestamp:i,score:s,pcmData:a,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(o,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(e,t,r){return d.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:e}).then((function(i){if(!i[0])throw new Error("Failed to create jitsi local track for device id: ".concat(e));return new n(t,r,i[0])}))}}]),n}(l.a)},function(e,t,n){"use strict";function r(e){var t=window.AudioContext||window.webkitAudioContext;if(t)return new t(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"E2ePingEvents",(function(){return r})),n.d(t,"E2E_RTT_CHANGED",(function(){return i})),function(e){e.E2E_RTT_CHANGED="e2eping.e2e_rtt_changed"}(r||(r={}));var i=r.E2E_RTT_CHANGED},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(121),u=Object(s.getLogger)(e),l=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._audioContext=null,e._audioProcessingNode=null,e._audioSource=null,e._stream=null,e._sampleRate=44100,e._audioContext=new AudioContext,e._sampleRate=e._audioContext.sampleRate,u.log("Current sampleRate ".concat(e._sampleRate,".")),e}return Object(i.a)(n,[{key:"_initializeAudioContext",value:function(e,t){var n=this;return"function"!==typeof t?Promise.reject("a callback function is required."):this._getAudioStream(e).then((function(e){n._stream=e,n._audioSource=n._audioContext.createMediaStreamSource(e),n._audioProcessingNode=n._audioContext.createScriptProcessor(4096,1,1),n._audioProcessingNode.onaudioprocess=t,u.debug("AudioContext is set up.")})).catch((function(e){return u.error("Error calling getUserMedia(): ".concat(e)),Promise.reject(e)}))}},{key:"_connectAudioGraph",value:function(){this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=void 0,this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_replaceMic",value:function(e){var t=this;return this._audioContext&&this._audioProcessingNode?this._getAudioStream(e).then((function(e){var n=t._audioContext.createMediaStreamSource(e);t._audioSource.disconnect(),n.connect(t._audioProcessingNode),t._stream=e,t._audioSource=n})):Promise.resolve()}}]),n}(c.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(30),i=n(12),o=n(6),a=n(5),s=n(24),c=n(25),u=n(10),l=n(7),d=n(8),f=n(70),p=n(84),h=n(32),m=n(2),v=n(20),g=n(156),y=Object(u.getLogger)(e),_="SourceInfo",b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).ssrcOwners=new Map,e.chatRoom=null,e._localSourceState={},e._remoteSourceState={},e._sourceNames=new Map,e}return Object(a.a)(n,[{key:"_addLocalSourceInfoToPresence",value:function(){return!!this.chatRoom&&this.chatRoom.addOrReplaceInPresence(_,{value:JSON.stringify(this._localSourceState)})}},{key:"_doesEndpointSendNewSourceInfo",value:function(e){var t,n=null===(t=this.chatRoom)||void 0===t?void 0:t.getLastPresence(e);return Boolean(n&&n.find((function(e){return e.tagName===_})))}},{key:"setChatRoom",value:function(e){var t=this,n=this.chatRoom;this.chatRoom=e,n&&(n.removePresenceListener("audiomuted",this._audioMuteHandler),n.removePresenceListener("videomuted",this._videoMuteHandler),n.removePresenceListener("videoType",this._videoTypeHandler),v.a.isSourceNameSignalingEnabled()&&(this._sourceInfoHandler&&n.removePresenceListener(_,this._sourceInfoHandler),this._memberLeftHandler&&n.removeEventListener(m.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler))),e&&(v.a.isSourceNameSignalingEnabled()?(this._bindChatRoomEventHandlers(e),this._addLocalSourceInfoToPresence()):(this._audioMuteHandler=function(e,n){t.eventEmitter.emit(f.a,n,d.a.AUDIO,"true"===e.value)},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){t.eventEmitter.emit(f.a,n,d.a.VIDEO,"true"===e.value)},e.addPresenceListener("videomuted",this._videoMuteHandler),this._videoTypeHandler=function(e,n){t.eventEmitter.emit(f.b,n,e.value)},e.addPresenceListener("videoType",this._videoTypeHandler)))}},{key:"_bindChatRoomEventHandlers",value:function(e){var t=this;this._audioMuteHandler=function(e,n){var r,i;t._doesEndpointSendNewSourceInfo(n)||(r=n,i="true"===e.value,t.eventEmitter.emit(f.a,r,d.a.AUDIO,i))},e.addPresenceListener("audiomuted",this._audioMuteHandler),this._videoMuteHandler=function(e,n){var r,i;t._doesEndpointSendNewSourceInfo(n)||(r=n,i="true"===e.value,t.eventEmitter.emit(f.a,r,d.a.VIDEO,i))},e.addPresenceListener("videomuted",this._videoMuteHandler);this._videoTypeHandler=function(e,n){var r,i;t._doesEndpointSendNewSourceInfo(n)||(r=n,i=e.value,t.eventEmitter.emit(f.b,r,i))},v.a.isMultiStreamSupportEnabled()||e.addPresenceListener("videoType",this._videoTypeHandler),this._sourceInfoHandler=function(e,n){for(var r,i=n,o=e.value,a=JSON.parse(o),s=t._doesEndpointSendNewSourceInfo(i),c=t._remoteSourceState[i]||(t._remoteSourceState[i]={}),u=0,l=Object.keys(a);u<l.length;u++){var m=l[u],v=Object(p.b)(m),g=Boolean(a[m].muted),y=c[m]||(c[m]={sourceName:m});y.muted!==g&&(y.muted=g,s&&!t._localSourceState[m]&&t.eventEmitter.emit(f.c,m,g));var _=v===d.a.VIDEO?null!==(r=a[m].videoType)&&void 0!==r?r:h.VideoType.CAMERA:void 0;y.videoType!==_&&(y.videoType=_,s&&!t._localSourceState[m]&&t.eventEmitter.emit(f.d,m,_))}for(var b=Object.keys(a),E=0,S=Object.keys(c);E<S.length;E++){var C=S[E];-1===b.indexOf(C)&&delete c[C]}},e.addPresenceListener("SourceInfo",this._sourceInfoHandler),this._memberLeftHandler=function(e){var n=l.Strophe.getResourceFromJid(e);if(delete t._remoteSourceState[n],v.a.isSourceNameSignalingEnabled()){var o,a=Object(i.a)(t.ssrcOwners.entries());try{for(a.s();!(o=a.n()).done;){var s=Object(r.a)(o.value,2),c=s[0];s[1]===n&&delete t._sourceNames[c]}}catch(u){a.e(u)}finally{a.f()}}},e.addEventListener(m.XMPPEvents.MUC_MEMBER_LEFT,this._memberLeftHandler)}},{key:"_findEndpointSourceInfoForMediaType",value:function(e,t){var n=this._remoteSourceState[e];if(!n)return null;for(var r=0,i=Object.values(n);r<i.length;r++){var o=i[r];if(Object(p.b)(o.sourceName)===t)return o}return null}},{key:"getPeerMediaInfo",value:function(e,t,n){var r,i=this,o=function(){if(i.chatRoom)return i.chatRoom.getMediaPresenceInfo(e,t);y.warn("Requested peer media info, before room was set")};if(v.a.isSourceNameSignalingEnabled()){var a=null===(r=this.chatRoom)||void 0===r?void 0:r.getLastPresence(e);if(!a)return void y.warn("getPeerMediaInfo - no presence stored for: ".concat(e));if(!this._doesEndpointSendNewSourceInfo(e))return o();if(n)return this.getPeerSourceInfo(e,n);var s={},c=this._findEndpointSourceInfoForMediaType(e,t);if(t===d.a.AUDIO)s.muted=!c||c.muted;else{if(t!==d.a.VIDEO)throw new Error("Unsupported media type: ".concat(t));s.muted=!c||c.muted,s.videoType=c?c.videoType:void 0;var u=Object(g.b)(a,"jitsi_participant_codecType");u.length>0&&(s.codecType=u[0].value)}return s}return o()}},{key:"getPeerSourceInfo",value:function(e,t){var n,r={muted:!0,videoType:h.VideoType.CAMERA};return this._remoteSourceState[e]?null!==(n=this._remoteSourceState[e][t])&&void 0!==n?n:r:void 0}},{key:"getSSRCOwner",value:function(e){return this.ssrcOwners.get(e)}},{key:"setSSRCOwner",value:function(e,t){if("number"!==typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this.ssrcOwners.get(e);n&&n!==t&&y.error("SSRC owner re-assigned from ".concat(n," to ").concat(t)),this.ssrcOwners.set(e,t)}},{key:"setTrackMuteStatus",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].muted=t,!!this.chatRoom&&this._addLocalSourceInfoToPresence()}},{key:"setTrackVideoType",value:function(e,t){return this._localSourceState[e]||(this._localSourceState[e]={}),this._localSourceState[e].videoType!==t&&(this._localSourceState[e].videoType=t===h.VideoType.CAMERA?void 0:t,this._addLocalSourceInfoToPresence())}},{key:"getTrackSourceName",value:function(e){return this._sourceNames.get(e)}},{key:"setTrackSourceName",value:function(e,t){if("number"!==typeof e)throw new TypeError("SSRC(".concat(e,") must be a number"));var n=this._sourceNames.get(e);n&&n!==t&&y.error("SSRC(".concat(e,") sourceName re-assigned from ").concat(n," to ").concat(t)),this._sourceNames.set(e,t)}}]),n}(p.a)}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(31),n(1);var r=n(65),i=(n(99),{xs:0,sm:600,md:960,lg:1280,xl:1920}),o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===Object(r.a)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,r){return e[a.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff");t.default=a},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(65);function i(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}},function(e,t,n){"use strict";var r=n(209);n.d(t,"a",(function(){return r.a}))},function(e,t,n){var r=n(332).default,i=n(333).default,o=function(){"use strict";function e(t,n,i){r(this,e),this._userId=t,this.setDisplayName(n),this._isLocalStats=i||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1,this._faceExpressions={happy:0,neutral:0,surprised:0,angry:0,fearful:0,disgusted:0,sad:0}}return i(e,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(e){if(!this.isDominantSpeaker()&&e)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!e){var t=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=t,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var e=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(e+=Date.now()-this._dominantSpeakerStart),e}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}},{key:"getFaceExpressions",value:function(){return this._faceExpressions}},{key:"setFaceExpressions",value:function(e){this._faceExpressions=e}},{key:"addFaceExpression",value:function(e,t){this._faceExpressions[e]+=t}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=n(9),i=n(6),o=n(5),a=n(47),s=n.n(a),c=n(118),u=n(37),l=n(11),d=n(17),f=n(8),p=n(18),h="microphone",m="camera",v=function(){function e(){var t=this;Object(i.a)(this,e),this._eventEmitter=new s.a,this._permissions={},u.a.addListener(p.default.DEVICE_LIST_CHANGED,(function(e){return t._eventEmitter.emit(c.DEVICE_LIST_CHANGED,e)})),u.a.addListener(p.default.DEVICE_LIST_AVAILABLE,(function(e){return t._logOutputDevice(t.getAudioOutputDevice(),e)})),u.a.addListener(p.default.PERMISSIONS_CHANGED,(function(e){return t._handlePermissionsChange(e)})),this._permissionsApiSupported=new Promise((function(e){if(navigator.permissions){var n=t,i=[];i.push(navigator.permissions.query({name:m}).then((function(e){return t._handlePermissionsChange(Object(r.a)({},f.a.VIDEO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(Object(r.a)({},f.a.VIDEO,n._parsePermissionState(this)))}catch(e){}},!0})).catch((function(){return!1}))),i.push(navigator.permissions.query({name:h}).then((function(e){return t._handlePermissionsChange(Object(r.a)({},f.a.AUDIO,t._parsePermissionState(e))),e.onchange=function(){try{n._handlePermissionsChange(Object(r.a)({},f.a.AUDIO,n._parsePermissionState(this)))}catch(e){}},!0})).catch((function(){return!1}))),Promise.all(i).then((function(t){return e(t.every((function(e){return e})))}))}else e(!1)}))}return Object(o.a)(e,[{key:"_parsePermissionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state||e.status;if("string"!==typeof t)throw new TypeError;return"granted"===t}},{key:"_handlePermissionsChange",value:function(e){var t=this;[f.a.AUDIO,f.a.VIDEO].some((function(n){return n in e&&e[n]!==t._permissions[n]}))&&(this._permissions=Object.assign(Object.assign({},this._permissions),e),this._eventEmitter.emit(c.PERMISSIONS_CHANGED,this._permissions),(this._permissions[f.a.AUDIO]||this._permissions[f.a.VIDEO])&&this.enumerateDevices((function(){})))}},{key:"_logOutputDevice",value:function(e,t){var n=t.find((function(t){return"audiooutput"===t.kind&&t.deviceId===e}));n&&d.a.sendActiveDeviceListEvent(u.a.getEventDataForActiveDevice(n))}},{key:"enumerateDevices",value:function(e){u.a.enumerateDevices(e)}},{key:"isDeviceListAvailable",value:function(){return u.a.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(e){return u.a.isDeviceChangeAvailable(e)}},{key:"isDevicePermissionGranted",value:function(e){var t=this;return new Promise((function(n){e in t._permissions?n(t._permissions[e]):t._permissionsApiSupported.then((function(r){if(r){var i=[];switch(e){case f.a.VIDEO:i.push(navigator.permissions.query({name:m}));break;case f.a.AUDIO:i.push(navigator.permissions.query({name:h}));break;default:i.push(navigator.permissions.query({name:m})),i.push(navigator.permissions.query({name:h}))}Promise.all(i).then((function(e){return n(e.every((function(e){try{return t._parsePermissionState(e)}catch(n){return!1}})))}),(function(){return n(!1)}))}else n(!1)}))}))}},{key:"isMultipleAudioInputSupported",value:function(){return!(l.a.isFirefox()&&l.a.isVersionLessThan("101")||l.a.isIosBrowser())}},{key:"getAudioOutputDevice",value:function(){return u.a.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(e){return u.a.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(e,u.a.getCurrentlyAvailableMediaDevices()),u.a.setAudioOutputDevice(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"emitEvent",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._eventEmitter).emit.apply(t,[e].concat(r))}}]),e}();t.a=new v},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t){e.exports={IDENTITY_UPDATED:"authentication.identity_updated"}},function(e,t,n){(function(t){var n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,p=Math.max,h=Math.min,m=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==r}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var u=a.test(e);return u||s.test(e)?c(e.slice(2),u?2:8):o.test(e)?n:+e}e.exports=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function _(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function b(){var e=m();if(_(e))return E(e);s=setTimeout(b,function(e){var n=t-(e-c);return d?h(n,o-(e-u)):n}(e))}function E(e){return s=void 0,f&&r?y(e):(r=i=void 0,a)}function S(){var e=m(),n=_(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(b,t),l?y(e):a}(c);if(d)return s=setTimeout(b,t),y(c)}return void 0===s&&(s=setTimeout(b,t)),a}return t=g(t)||0,v(n)&&(l=!!n.leading,o=(d="maxWait"in n)?p(g(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},S.flush=function(){return void 0===s?a:E(m())},S}}).call(this,n(103))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(16),i=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o(e){return i(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new TextEncoder,t.abrupt("return",crypto.subtle.deriveBits({name:"HKDF",salt:n.encode("JFrameRatchetKey"),hash:"SHA-256",info:new ArrayBuffer},e,256));case 2:case"end":return t.stop()}}),t)})))}function a(e){return i(this,void 0,void 0,Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveBits","deriveKey"]));case 1:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(7),c=n(2),u=n(48),l=["category","type","lang","name"],d=["category","type","lang"];function f(e,t){var n=0;return d.some((function(r){return 0!==(n=e[r]>t[r]?1:e[r]<t[r]&&-1)})),n}function p(e){var t=new Set,n=new Set;return $(e).find(">query>feature").each((function(e,n){return t.add(n.getAttribute("var"))})),$(e).find(">query>identity").each((function(e,t){return n.add({type:t.getAttribute("type"),name:t.getAttribute("name"),category:t.getAttribute("category")})})),{features:t,identities:n}}var h=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://jitsi.org/jitsimeet";if(Object(r.a)(this,n),(e=t.call(this)).node=o,e.disco=i.disco,!e.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");e.version="",e.rooms=new Set,e.externalFeatures=new Set;var a=i.emuc;return a.addListener(c.XMPPEvents.EMUC_ROOM_ADDED,(function(t){return e._addChatRoom(t)})),a.addListener(c.XMPPEvents.EMUC_ROOM_REMOVED,(function(t){return e._removeChatRoom(t)})),Object.keys(a.rooms).forEach((function(t){e._addChatRoom(a.rooms[t])})),s.Strophe.addNamespace("CAPS","http://jabber.org/protocol/caps"),e.disco.addFeature(s.Strophe.NS.CAPS),e}return Object(i.a)(n,[{key:"addFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(e),this._generateVersion(),r&&!this.externalFeatures.has(e)&&(this.externalFeatures.add(e),this.rooms.forEach((function(e){return t._updateRoomWithExternalFeatures(e)}))),n&&this.submit()}},{key:"removeFeature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(e),this._generateVersion(),r&&this.externalFeatures.has(e)&&(this.externalFeatures.delete(e),this.rooms.forEach((function(e){return t._updateRoomWithExternalFeatures(e)}))),n&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach((function(e){return e.sendPresence()}))}},{key:"_updateRoomWithExternalFeatures",value:function(e){if(0===this.externalFeatures.size)e.removeFromPresence("features");else{var t=[];this.externalFeatures.forEach((function(e){t.push({tagName:"feature",attributes:{var:e}})})),e.addOrReplaceInPresence("features",{children:t})}}},{key:"getFeaturesAndIdentities",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(e,t,n)}},{key:"_getDiscoInfo",value:function(e,t,n){var r=this;return new Promise((function(i,o){return r.disco.info(e,t,(function(e){i(p(e))}),o,n)}))}},{key:"_addChatRoom",value:function(e){this.rooms.add(e),this._fixChatRoomPresenceMap(e),this._updateRoomWithExternalFeatures(e)}},{key:"_removeChatRoom",value:function(e){this.rooms.delete(e)}},{key:"_fixChatRoomPresenceMap",value:function(e){e.addOrReplaceInPresence("c",{attributes:{xmlns:s.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var e=this;this.rooms.forEach((function(t){return e._fixChatRoomPresenceMap(t)}))}},{key:"_generateVersion",value:function(){this.version=function(e,t){var n=e.sort(f).reduce((function(e,t){return"".concat(l.reduce((function(e,n,r){return e+(0===r?"":"/")+(t[n]?t[n]:"")}),""),"<")}),""),r=t.sort().reduce((function(e,t){return"".concat(e+t,"<")}),"");return Object(s.b64_sha1)(n+r)}(this.disco._identities,this.disco._features),this._notifyVersionChanged()}}]),n}(u.a)},function(e,t,n){var r=n(328),i=n(329);t.write=i,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(12),i=n(6),o=n(5),a=n(29),s=n(24),c=n(25),u=n(10),l=n(47),d=n(4),f=n(55),p=n(160),h=Object(u.getLogger)(e),m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this))._createVADProcessor=r,o._vadEmitter=null,o._isVADEmitterRunning=!1,o._detectionServices=[],o._vadInitTracker=Promise.resolve(),o._processVADScore=o._processVADScore.bind(Object(a.a)(o)),e.on(d.TRACK_ADDED,o._trackAdded.bind(Object(a.a)(o))),e.on(d.TRACK_REMOVED,o._trackRemoved.bind(Object(a.a)(o))),e.on(d.TRACK_MUTE_CHANGED,o._trackMuteChanged.bind(Object(a.a)(o))),o}return Object(o.a)(n,[{key:"addVADDetectionService",value:function(e){var t=this;this._detectionServices.push(e),e.on(f.DETECTOR_STATE_CHANGE,(function(){!t._detectionServices.filter((function(e){return!0===e.isActive()})).length&&t._isVADEmitterRunning?t._stopVADEmitter():t._isVADEmitterRunning||t._startVADEmitter()}))}},{key:"_startVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.on(f.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0)}},{key:"_stopVADEmitter",value:function(){this._vadEmitter&&(this._vadEmitter.removeListener(f.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.stop()),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(e){var t,n=Object(r.a)(this._detectionServices);try{for(n.s();!(t=n.n()).done;){t.value.processVADScore(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_changeDetectorsMuteState",value:function(e){var t,n=Object(r.a)(this._detectionServices);try{for(n.s();!(t=n.n()).done;){t.value.changeMuteState(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){return t._createVADProcessor()})).then((function(t){return p.a.create(e.getDeviceId(),4096,t)})).then((function(n){h.debug("Created VAD emitter for track: ",e.getTrackLabel()),t._vadEmitter=n,t._changeDetectorsMuteState(e.isMuted())})).catch((function(e){h.warn("Failed to start VADAudioAnalyser",e)})))}},{key:"_trackMuteChanged",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){t._changeDetectorsMuteState(e.isMuted())})))}},{key:"_trackRemoved",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then((function(){h.debug("Removing track from VAD detection - ",e.getTrackLabel()),t._vadEmitter&&(t._stopVADEmitter(),t._vadEmitter.destroy(),t._vadEmitter=null);var n,i=Object(r.a)(t._detectionServices);try{for(i.s();!(n=i.n()).done;){n.value.reset()}}catch(o){i.e(o)}finally{i.f()}})))}}]),n}(l.EventEmitter)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(5),o=n(7),a=n(134),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e),this._connection=t.connection,this._mode=t.mode,this._setSessionID(t.sessionID),this.setStatus(t.status)}return Object(i.a)(e,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(e){this._error=e}},{key:"setLiveStreamViewURL",value:function(e){this._liveStreamViewURL=e}},{key:"setStatus",value:function(e){this._status=e}},{key:"setInitiator",value:function(e){this._initiator=e}},{key:"setTerminator",value:function(e){this._terminator=e}},{key:"start",value:function(e){var t=this,n=e.appData,r=e.broadcastId,i=e.focusMucJid,o=e.streamId;return new Promise((function(e,s){t._connection.sendIQ(t._createIQ({action:"start",appData:n,focusMucJid:i,broadcastId:r,streamId:o}),(function(n){t.setStatus("pending"),t._setSessionID(a.a.getSessionIdFromIq(n)),e()}),(function(e){t._setErrorFromIq(e),s(e)}))}))}},{key:"stop",value:function(e){var t=this,n=e.focusMucJid;return new Promise((function(e,r){t._connection.sendIQ(t._createIQ({action:"stop",focusMucJid:n}),e,r)}))}},{key:"_createIQ",value:function(e){var t=e.action,n=e.appData,r=e.broadcastId,i=e.focusMucJid,a=e.streamId;try{n=JSON.parse(n)||{}}catch(s){n={}}return n.base_url=n.base_url?n.base_url:"".concat(window.location.origin).concat(window.location.pathname),n.token=this._connection.emuc.xmpp.token,Object(o.$iq)({to:i,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:t,app_data:JSON.stringify(n),recording_mode:this._mode,streamid:a,you_tube_broadcast_id:r}).up()}},{key:"_setErrorFromIq",value:function(e){var t=e.getElementsByTagName("error")[0];this.setError(t.children[0].tagName)}},{key:"_setSessionID",value:function(e){this._sessionID=e}}]),e}()},function(e,t,n){var r=n(341);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,f)s+=f[1];else{var h=e[a],m=n[2],v=n[3],g=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=h&&h!==m,S="+"===_||"*"===_,C="?"===_||"*"===_,T=n[2]||l,O=g||y;r.push({name:v||o++,prefix:m||"",delimiter:T,optional:C,repeat:S,partial:E,asterisk:!!b,pattern:O?u(O):b?".*":"[^"+c(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},c=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=c(f[p]),!n[u].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(f),!n[u].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=c(u);else{var f=c(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+f+p+")*"),a+=p=u.optional?u.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=c(n.delimiter||"/"),m=a.slice(-h.length)===h;return i||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+h+"|$)",l(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}),"CallEnd");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(165);function a(){return i.a.useContext(o.a)}},function(e,t,n){"use strict";var r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var c=function(e,t){var n=t||0,r=a;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var i=n||0,a=0;a<16;++a)t[i+a]=r[a];return t}return c(r)}},,,,,,,,function(e,t){var n={trace:0,debug:1,info:2,log:3,warn:4,error:5};a.consoleTransport=console;var r=[a.consoleTransport];a.addGlobalTransport=function(e){-1===r.indexOf(e)&&r.push(e)},a.removeGlobalTransport=function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)};var i={};function o(){var e=arguments[0],t=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(n[t]<e.level))for(var a=!(e.options.disableCallerInfo||i.disableCallerInfo)&&function(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error,n=t.stack?t.stack.split("\n"):[];if(!n||n.length<3)return e;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===n[2].indexOf("log@")?e.methodName=n[3].substr(0,n[3].indexOf("@")):e.methodName=n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=r[1],e.fileLocation=r[2],e.line=r[3],e.column=r[4],e)}(),s=r.concat(e.transports),c=0;c<s.length;c++){var u=s[c],l=u[t];if(l&&"function"===typeof l){var d=[];d.push((new Date).toISOString()),e.id&&d.push("["+e.id+"]"),a&&a.methodName.length>1&&d.push("<"+a.methodName+">: ");var f=d.concat(o);l.bind(u).apply(u,f)}}}function a(e,t,r,i){this.id=t,this.options=i||{},this.transports=r,this.transports||(this.transports=[]),this.level=n[e];for(var a=Object.keys(n),s=0;s<a.length;s++)this[a[s]]=o.bind(null,this,a[s])}a.setGlobalOptions=function(e){i=e||{}},a.prototype.setLevel=function(e){this.level=n[e]},e.exports=a,a.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(201);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(202);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach((function(e){n[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach((function(e){n[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(6),i=n(5),o=n(129),a=n.n(o),s=n(10),c=n(149),u=n(173),l=Object(s.getLogger)(e),d="localRecStart",f="localRecStop",p="localRecPing",h="localRecStats",m=new Set(["flac","wav","ogg"]),v=Object.freeze({IDLE:Symbol("IDLE"),STARTING:Symbol("STARTING"),RECORDING:Symbol("RECORDING"),STOPPING:Symbol("STOPPING"),FAILED:Symbol("FAILED")}),g=function(){function e(){Object(r.a)(this,e),this._adapters={},this._conference=null,this._currentSessionToken=-1,this._state=v.IDLE,this._isMuted=!1,this._micDeviceId="default",this._format="flac",this._registered=!1,this.registerEvents=this.registerEvents.bind(this),this.getParticipantsStats=this.getParticipantsStats.bind(this),this._onStartCommand=this._onStartCommand.bind(this),this._onStopCommand=this._onStopCommand.bind(this),this._onPingCommand=this._onPingCommand.bind(this),this._doStartRecording=this._doStartRecording.bind(this),this._doStopRecording=this._doStopRecording.bind(this),this._updateStats=this._updateStats.bind(this),this._switchToNewSession=this._switchToNewSession.bind(this)}return Object(i.a)(e,[{key:"registerEvents",value:function(e){this._registered||(this._conference=e,this._conference&&(this._conference.addCommandListener(f,this._onStopCommand),this._conference.addCommandListener(d,this._onStartCommand),this._conference.addCommandListener(p,this._onPingCommand),this._registered=!0),this._conference.isModerator()||this._conference.sendCommandOnce(p,{}))}},{key:"onStateChanged",set:function(e){this._onStateChanged=e}},{key:"onNotify",set:function(e){this._onNotify=e}},{key:"onWarning",set:function(e){this._onWarning=e}},{key:"startRecording",value:function(e){this.registerEvents(),this.switchFormat(e),this._conference&&this._conference.isModerator()?(this._conference.removeCommand(f),this._conference.sendCommand(d,{attributes:{sessionToken:this._getRandomToken(),format:this._format}})):this._onWarning&&this._onWarning("localRecording.messages.notModerator")}},{key:"stopRecording",value:function(){this._conference&&(this._conference.isModerator()?(this._conference.removeCommand(d),this._conference.sendCommand(f,{attributes:{sessionToken:this._currentSessionToken}})):this._onWarning&&this._onWarning("localRecording.messages.notModerator"))}},{key:"downloadRecordedData",value:function(e){var t=this;this._adapters[e]?this._adapters[e].exportRecordedData().then((function(n){var r=n.data,i=n.format,o="session_".concat(e)+"_".concat(t._conference.myUserId(),".").concat(i);Object(c.d)(r,o)})).catch((function(t){l.error("Failed to download audio for"+" session ".concat(e,". Error: ").concat(t))})):l.error("Invalid session token for download ".concat(e))}},{key:"setMicDevice",value:function(e){e!==this._micDeviceId&&(this._micDeviceId=String(e),this._state===v.RECORDING&&(l.log("Before switching microphone..."),this._adapters[this._currentSessionToken].setMicDevice(this._micDeviceId).then((function(){l.log("Finished switching microphone.")})).catch((function(){l.error("Failed to switch microphone")}))),l.log("Switch microphone to ".concat(this._micDeviceId)))}},{key:"setMuted",value:function(e){this._isMuted=Boolean(e),this._state===v.RECORDING&&this._adapters[this._currentSessionToken].setMuted(this._isMuted)}},{key:"switchFormat",value:function(e){m.has(e)?(this._format=e,l.log("Recording format switched to ".concat(e))):l.log("Unknown format ".concat(e,". Ignoring..."))}},{key:"getLocalStats",value:function(){return{currentSessionToken:this._currentSessionToken,isRecording:this._state===v.RECORDING,recordedBytes:0,recordedLength:0}}},{key:"getParticipantsStats",value:function(){for(var e=this._conference.getParticipants().map((function(e){return{id:e.getId(),displayName:e.getDisplayName(),recordingStats:a.a.parse(e.getProperty(h)||"{}"),isSelf:!1}})),t={},n=0;n<e.length;++n)t[e[n].id]=e[n];var r=this._conference.myUserId();return t[r]={id:r,displayName:"localRecording.me",recordingStats:this.getLocalStats(),isSelf:!0},t}},{key:"_changeState",value:function(e){this._state!==e&&(l.log("state change: ".concat(this._state.toString()," -> ")+"".concat(e.toString())),this._state=e)}},{key:"_updateStats",value:function(){this._conference&&this._conference.setLocalParticipantProperty(h,JSON.stringify(this.getLocalStats()))}},{key:"_onStartCommand",value:function(e){var t=this,n=e.attributes,r=n.sessionToken,i=n.format;this._state===v.IDLE?(this._changeState(v.STARTING),this._switchToNewSession(r,i),this._doStartRecording()):this._state===v.RECORDING&&this._currentSessionToken!==r&&(this._changeState(v.STOPPING),this._doStopRecording().then((function(){t._changeState(v.STARTING),t._switchToNewSession(r,i),t._doStartRecording()})))}},{key:"_onStopCommand",value:function(e){this._state===v.RECORDING&&this._currentSessionToken===e.attributes.sessionToken&&(this._changeState(v.STOPPING),this._doStopRecording())}},{key:"_onPingCommand",value:function(){this._conference.isModerator()&&(l.log("Received ping, sending pong."),this._conference.sendCommandOnce("localRecPong",{}))}},{key:"_getRandomToken",value:function(){return Math.floor(1e8*Math.random())+1}},{key:"_doStartRecording",value:function(){var e=this;if(this._state===v.STARTING){var t=this._adapters[this._currentSessionToken];t.start(this._micDeviceId).then((function(){e._changeState(v.RECORDING),u.a.beginSegment(e._currentSessionToken),l.log("Local recording engaged."),e._onNotify&&e._onNotify("localRecording.messages.engaged"),e._onStateChanged&&e._onStateChanged(!0),t.setMuted(e._isMuted),e._updateStats()})).catch((function(e){l.error("Failed to start local recording.",e)}))}}},{key:"_doStopRecording",value:function(){var e=this;if(this._state===v.STOPPING){var t=this._currentSessionToken;return this._adapters[this._currentSessionToken].stop().then((function(){e._changeState(v.IDLE),u.a.endSegment(e._currentSessionToken),l.log("Local recording unengaged."),e.downloadRecordedData(t);var n=e._conference.isModerator()?"localRecording.messages.finishedModerator":"localRecording.messages.finished",r={token:t};e._onNotify&&e._onNotify(n,r),e._onStateChanged&&e._onStateChanged(!1),e._updateStats()})).catch((function(e){l.error("Failed to stop local recording.",e)}))}return Promise.resolve()}},{key:"_switchToNewSession",value:function(e,t){this._format=t,this._currentSessionToken=e,l.log("New session: ".concat(this._currentSessionToken,", ")+"format: ".concat(this._format)),this._adapters[e]=this._createRecordingAdapter(),u.a.createSession(e,this._format)}},{key:"_createRecordingAdapter",value:function(){switch(l.debug("[RecordingController] creating recording"+" adapter for ".concat(this._format," format.")),this._format){case"ogg":return new c.b;case"flac":return new c.a;case"wav":return new c.c;default:throw new Error("Unknown format: ".concat(this._format))}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(121),u=Object(s.getLogger)(e),l=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments))._mediaRecorder=null,e._initPromise=null,e._recordedData=null,e}return Object(i.a)(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){return new Promise((function(e){t._mediaRecorder.start(),e()}))}))}},{key:"stop",value:function(){var e=this;return new Promise((function(t){e._mediaRecorder.onstop=function(){return t()},e._mediaRecorder.stop()}))}},{key:"exportRecordedData",value:function(){return null!==this._recordedData?Promise.resolve({data:this._recordedData,format:"ogg"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,u.log(e?"Mute":"Unmute")),Promise.resolve()):(u.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"_initialize",value:function(e){var t=this;return this._mediaRecorder?Promise.resolve():new Promise((function(n,r){t._getAudioStream(e).then((function(e){t._stream=e,t._mediaRecorder=new MediaRecorder(e),t._mediaRecorder.ondataavailable=function(e){return t._saveMediaData(e.data)},n()})).catch((function(e){u.error("Error calling getUserMedia(): ".concat(e)),r()}))}))}},{key:"_saveMediaData",value:function(e){this._recordedData=e}}]),n}(c.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(10),u=n(163),l=Object(c.getLogger)(e),d=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._wavLength=0,e._wavBuffers=[],e._isInitialized=!1,e._initPromise=null,e._onAudioProcess=e._onAudioProcess.bind(Object(o.a)(e)),e}return Object(i.a)(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){t._wavBuffers=[],t._wavLength=0,t._connectAudioGraph()}))}},{key:"stop",value:function(){return this._disconnectAudioGraph(),this._data=this._exportMonoWAV(this._wavBuffers,this._wavLength),this._audioProcessingNode=null,this._audioSource=null,this._isInitialized=!1,Promise.resolve()}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:"wav"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,l.log(e?"Mute":"Unmute")),Promise.resolve()):(l.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"setMicDevice",value:function(e){return this._replaceMic(e)}},{key:"_createWavHeader",value:function(e){var t=new ArrayBuffer(44),n=new DataView(t);return f(n,0,"RIFF"),f(n,8,"WAVE"),f(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,1,!0),n.setUint32(24,this._sampleRate,!0),n.setUint32(28,1*Number(this._sampleRate)*16/8,!0),n.setUint16(32,1*Number(16)/8,!0),n.setUint16(34,16,!0),f(n,36,"data"),n.setUint32(4,32+e,!0),n.setUint32(40,e,!0),new Uint8Array(t)}},{key:"_initialize",value:function(e){var t=this;return this._isInitialized?Promise.resolve():this._initializeAudioContext(e,this._onAudioProcess).then((function(){t._isInitialized=!0}))}},{key:"_onAudioProcess",value:function(e){var t=e.inputBuffer.getChannelData(0);this._wavBuffers.push(new Float32Array(t)),this._wavLength+=t.length}},{key:"_exportMonoWAV",value:function(e,t){for(var n=2*t,r=new ArrayBuffer(44+n),i=new DataView(r),o=this._createWavHeader(n),a=o.length,s=0;s<a;++s)i.setUint8(s,o[s]);return function(e,t,n){var r,i,o,a,s,c=n.length,u=t;for(r=0;r<c;++r)for(s=(o=n[r]).length,i=0;i<s;++i,u+=2)a=Math.max(-1,Math.min(1,o[i])),e.setInt16(u,a<0?32768*a:32767*a,!0)}(i,44,e),new Blob([i],{type:"audio/wav"})}}]),n}(u.a);function f(e,t,n){for(var r=n.length,i=0;i<r;++i)e.setUint8(t+i,n.charCodeAt(i))}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(10),u=n(163),l=n(119),d=Object(c.getLogger)(e),f=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._encoder=null,e._stopPromiseResolver=null,e._initWorkerPromiseResolver=null,e._initPromise=null,e._onAudioProcess=e._onAudioProcess.bind(Object(o.a)(e)),e._onWorkerMessage=e._onWorkerMessage.bind(Object(o.a)(e)),e}return Object(i.a)(n,[{key:"start",value:function(e){var t=this;return this._initPromise||(this._initPromise=this._initialize(e)),this._initPromise.then((function(){t._connectAudioGraph()}))}},{key:"stop",value:function(){var e=this;return this._encoder?new Promise((function(t){e._initPromise=null,e._disconnectAudioGraph(),e._stopPromiseResolver=t,e._encoder.postMessage({command:l.b})})):(d.error("Attempting to stop but has nothing to stop."),Promise.reject())}},{key:"exportRecordedData",value:function(){return null!==this._data?Promise.resolve({data:this._data,format:"flac"}):Promise.reject("No audio data recorded.")}},{key:"setMuted",value:function(e){var t=!e;if(!this._stream)return Promise.resolve();var n=this._stream.getAudioTracks()[0];return n?(n.enabled!==t&&(n.enabled=t,d.log(e?"Mute":"Unmute")),Promise.resolve()):(d.error("Cannot mute/unmute. Track not found!"),Promise.resolve())}},{key:"setMicDevice",value:function(e){return this._replaceMic(e)}},{key:"_initialize",value:function(e){var t=this;return null!==this._encoder?Promise.resolve():new Promise((function(e,n){try{t._loadWebWorker()}catch(r){n()}t._initWorkerPromiseResolver=e,t._encoder.onmessage=t._onWorkerMessage,t._encoder.postMessage({command:l.c,config:{sampleRate:t._sampleRate,bps:16}})})).then((function(){return t._initializeAudioContext(e,t._onAudioProcess)}))}},{key:"_onAudioProcess",value:function(e){var t=e.inputBuffer.getChannelData(0);this._encoder.postMessage({command:l.d,buf:t})}},{key:"_onWorkerMessage",value:function(e){switch(e.data.command){case l.e:this._data=e.data.buf,null!==this._stopPromiseResolver&&(this._stopPromiseResolver(),this._stopPromiseResolver=null,this._encoder.terminate(),this._encoder=null);break;case l.a:d.log(e.data);break;case l.f:d.log("libflac is ready."),this._initWorkerPromiseResolver();break;default:d.error('Unknown event\n                from encoder (WebWorker): "'.concat(e.data.command,'"!'))}}},{key:"_loadWebWorker",value:function(){var e=new Blob(["importScripts('https://sdk.sariska.io/flacEncodeWorker.min.js');"],{type:"application/javascript"}),t=(window.URL||window.webkitURL).createObjectURL(e);this._encoder=new Worker(t),URL.revokeObjectURL(t)}}]),n}(u.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(6),i=n(5),o=n(129),a=n.n(o),s=n(90),c=n(10),u=Object(c.getLogger)(e);function l(){return window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}var d=Object.freeze({SESSION_STARTED:"SESSION_STARTED",SEGMENT_STARTED:"SEGMENT_STARTED",SEGMENT_ENDED:"SEGMENT_ENDED"}),f="localRecordingMetadataVersion1",p=new(function(){function e(){Object(r.a)(this,e),this._sessionsMetadata={},this._loadMetadata()}return Object(i.a)(e,[{key:"_loadMetadata",value:function(){var e=s.b.getItem(f);if(null!==e)try{var t=a.a.parse(e);this._sessionsMetadata=t}catch(n){return void u.warn("Failed to parse localStorage item.")}}},{key:"_saveMetadata",value:function(){s.b.setItem(f,JSON.stringify(this._sessionsMetadata))}},{key:"createSession",value:function(e,t){void 0===this._sessionsMetadata[e]?(this._sessionsMetadata[e]={format:t,events:[]},this._sessionsMetadata[e].events.push({type:d.SESSION_STARTED,timestamp:l()}),this._saveMetadata()):u.warn("Session ".concat(e," already exists"))}},{key:"getSessions",value:function(){for(var e=Object.keys(this._sessionsMetadata),t=[],n=0;n<e.length;++n){var r=this._sessionsMetadata[e[n]],i={start:r.events[0].timestamp,format:r.format,sessionToken:e[n],segments:this.getSegments(e[n])};t.push(i)}return t.sort((function(e,t){return(e.start||0)-(t.start||0)})),t}},{key:"removeSession",value:function(e){delete this._sessionsMetadata[e],this._saveMetadata()}},{key:"getSegments",value:function(e){var t=this._sessionsMetadata[e];return t?this._constructSegments(t.events):[]}},{key:"beginSegment",value:function(e){return void 0===this._sessionsMetadata[e]?(u.warn("Attempting to add segments to nonexistent"+" session ".concat(e)),-1):(this._sessionsMetadata[e].events.push({type:d.SEGMENT_STARTED,timestamp:l()}),this._saveMetadata(),this.getSegments(e).length-1)}},{key:"getCurrentSegmentIndex",value:function(e){if(void 0===this._sessionsMetadata[e])return-1;var t=this.getSegments(e);return 0===t.length||t[t.length-1].end?-1:t.length-1}},{key:"endSegment",value:function(e){void 0===this._sessionsMetadata[e]?u.warn("Attempting to end a segment in nonexistent"+" session ".concat(e)):(this._sessionsMetadata[e].events.push({type:d.SEGMENT_ENDED,timestamp:l()}),this._saveMetadata())}},{key:"_constructSegments",value:function(e){if(0===e.length)return[];var t=[],n=null,r={};function i(){if(void 0===r.gapBefore||null===r.gapBefore)if(t.length>0&&t[t.length-1].end){var e=t[t.length-1];r.start&&e.end?r.gapBefore=r.start-e.end:r.gapBefore=null}else null!==n&&0===t.length?r.gapBefore=r.start?r.start-n:null:r.gapBefore=null;r.duration=r.end&&r.start?r.end-r.start:null,t.push(r),r={}}for(var o=0;o<e.length;++o){var a=e[o];switch(a.type){case d.SESSION_STARTED:null===n?n=a.timestamp:u.warn("Unexpected SESSION_STARTED event.",a);break;case d.SEGMENT_STARTED:void 0===r.start||null===r.start||i(),r.start=a.timestamp;break;case d.SEGMENT_ENDED:void 0===r.start||null===r.start?u.warn("Unexpected SEGMENT_ENDED event",a):(r.end=a.timestamp,i());break;default:u.warn("Unexpected error during _constructSegments")}}return r.start&&i(),t}}]),e}());window.sessionManager=p}).call(this,"/index.js")},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return me}));var r=n(9),i=n(31),o=n(12),a=n(16),s=n(10),c=n(47),u=n.n(c),l=n(78),d=n.n(l),f=n(7),p=n(44),h=n(214),m=n(4),v=n(222),g=n(50),y=n(41),_=n(39),b=n(223),E=n(245),S=n(37),C=n(83),T=n(11),O=n(254),R=n(255),A=n(128),w=n(55),k=n(256),P=n(257),N=n(185),I=n(258),D=n(259),M=n(145),x=n(260),L=n(261),j=n(20),F=n(296),U=n(262),V=n(263),H=n(264),B=n(71),G=n(265),J=n(266),W=n(267),z=n(17),K=n(293),q=n(36),X=n.n(q),Y=n(268),Q=n(269),Z=n(59),ee=n(164),te=n(271),ne=n(56),re=n(133),ie=n.n(re),oe=n(46),ae=n.n(oe),se=n(8),ce=n(18),ue=n(84),le=n(32),de=n(23),fe=n(2),pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};window.APP={conference:{}};var he=Object(s.getLogger)(e);function me(e){var t;if(!e.name||e.name.toLowerCase()!==e.name.toString()){var n="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw he.error(n),new Error(n)}if(this.connection=e.connection,this.xmpp=null===(t=this.connection)||void 0===t?void 0:t.xmpp,this.xmpp.isRoomCreated(e.name,e.customDomain)){var r="A conference with the same name has already been created!";throw delete this.connection,delete this.xmpp,he.error(r),new Error(r)}this.eventEmitter=new u.a,this.options=e,this.eventManager=new h.a(this),this.participants={},this._signalingLayer=new ee.a,this._init(e),this.componentsVersions=new Y.a(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.isVideoMutedByFocus=!1,this.mutedVideoByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new O.a(this,this.eventEmitter,e),this.avgRtpStatsReporter=new J.a(this,e.config.avgRtpStatsN||15),e.config.disableAudioLevels||(this._audioOutputProblemDetector=new G.a(this)),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new W.a(this),this.deferredStartP2PTask=null;var i=parseInt(e.config.p2p&&e.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(i)?5:i,he.info("backToP2PDelay: ".concat(this.backToP2PDelay)),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new Q.a(this.room),this.recordingManager=new H.a(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(he.info("End-to-End Encryption is supported"),this._e2eEncryption=new M.a(this)),this._audioSenderLimitReached=void 0,this._videoSenderLimitReached=void 0,this.handleSubtitles(),e.config.enableLocalRecording&&(this.recordingController=new F.a,this.recordingController.registerEvents(this)),e.config.enableAnalytics&&this.enableAnalytics(),e.config.iAmRecorder&&(this.removeCommand("userinfo"),this.sendCommand("userinfo",{attributes:{xmlns:"http://jitsi.org/jitmeet/userinfo",robot:!0}}));var o=this;window.APP={conference:{_room:this,get membersCount(){return o.getParticipantsWithoutHidden().length+1},getStats:function(){return o.connectionQuality.getStats()},getConnectionState:function(){return o.getConnectionState()}}},this.localTracksDuration=new te.a(this),this.sessions={},this.user=e.user}me.prototype.constructor=me,me.resourceCreator=function(e){return f.Strophe.getNodeFromJid(e)},me.prototype._init=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.eventManager.setupXMPPListeners();var r=this.options.config,i={disabledCodec:r.videoQuality?r.videoQuality.disabledCodec:r.p2p&&r.p2p.disableH264&&ae.a.H264,enforcePreferredCodec:r.videoQuality&&r.videoQuality.enforcePreferredCodec,jvbCodec:r.videoQuality&&r.videoQuality.preferredCodec||r.preferH264&&ae.a.H264,p2pCodec:r.p2p?r.p2p.preferredCodec||r.p2p.preferH264&&ae.a.H264:ae.a.VP8};this.codecSelection=new E.a(this,i),this._statsCurrentId=r.statisticsId?r.statisticsId:B.a.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,Object.assign(Object.assign({},r),{statsId:this._statsCurrentId}),me.resourceCreator),this._signalingLayer.setChatRoom(this.room),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(fe.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(fe.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(fe.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(fe.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(fe.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this._removeLocalSourceOnReject=this._removeLocalSourceOnReject.bind(this),this._updateRoomPresence=this._updateRoomPresence.bind(this),this.room.addListener(fe.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),this.room.addListener(fe.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),this.room.addListener(fe.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),this.room.addListener(fe.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),(null===(e=r.e2eping)||void 0===e?void 0:e.enabled)&&(this.e2eping=new x.a(this,r,(function(e,n){try{t.sendMessage(e,n,!0)}catch(r){he.warn("Failed to send E2E ping request or response.",r&&r.msg)}}))),this.rtc||(this.rtc=new S.a(this,n),this.eventManager.setupRTCListeners(),j.a.isSourceNameSignalingEnabled()&&this._registerRtcListeners(this.rtc)),this.receiveVideoController=new U.a(this,this.rtc),this.sendVideoController=new V.a(this,this.rtc),j.a.isSourceNameSignalingEnabled()||(this.participantConnectionStatus=new A.b(this.rtc,this,{p2pRtcMuteTimeout:r._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:r._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:r._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init());var o=!0;if(r.testing&&r.testing.callStatsThreshold&&(o=100*Math.random()<=r.testing.callStatsThreshold),this.statistics||(this.statistics=new z.a(this.xmpp,{aliasName:this._statsCurrentId,userName:r.statisticsDisplayName?r.statisticsDisplayName:this.myUserId(),confID:r.confID||"".concat(this.connection.options.hosts.domain,"/").concat(this.options.name),siteID:r.siteID,customScriptUrl:r.callStatsCustomScriptUrl,callStatsID:r.callStatsID,callStatsSecret:r.callStatsSecret,callStatsApplicationLogsDisabled:r.callStatsApplicationLogsDisabled,enableCallStats:o,roomName:this.options.name,applicationName:r.applicationName,getWiFiStatsMethod:r.getWiFiStatsMethod,configParams:r.callStatsConfigParams}),z.a.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),r.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),r.enableTalkWhileMuted&&T.a.supportsVADDetection())if(r.createVADProcessor){he.info("Using VAD detection for generating talk while muted events"),this._audioAnalyser||(this._audioAnalyser=new N.a(this,r.createVADProcessor));var a=new D.a;a.on(w.VAD_TALK_WHILE_MUTED,(function(){return t.eventEmitter.emit(m.TALK_WHILE_MUTED)})),this._audioAnalyser.addVADDetectionService(a)}else he.warn("No VAD Processor was provided. Talk while muted detection service was not initialized!");if(r.enableNoisyMicDetection&&T.a.supportsVADDetection())if(r.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new N.a(this,r.createVADProcessor));var s=new I.a;s.on(w.VAD_NOISY_DEVICE,(function(){return t.eventEmitter.emit(m.NOISY_MIC)})),this._audioAnalyser.addVADDetectionService(s)}else he.warn("No VAD Processor was provided. Noisy microphone detection service was not initialized!");r.enableNoAudioDetection&&(this._noAudioSignalDetection=new k.a(this),this._noAudioSignalDetection.on(w.NO_AUDIO_INPUT,(function(){t.eventEmitter.emit(m.NO_AUDIO_INPUT)})),this._noAudioSignalDetection.on(w.AUDIO_INPUT_STATE_CHANGE,(function(e){t.eventEmitter.emit(m.AUDIO_INPUT_STATE_CHANGE,e)}))),"channelLastN"in r&&this.setLastN(r.channelLastN),this.jvb121Status=new L.a(this),this.p2pDominantSpeakerDetection=new P.a(this),r&&r.deploymentInfo&&r.deploymentInfo.userRegion&&this.setLocalParticipantProperty("region",r.deploymentInfo.userRegion),this.setLocalParticipantProperty("codecType",this.codecSelection.getPreferredCodec()),r&&r.transcriptionLanguage&&"en-US"!==r.transcriptionLanguage&&this.setLocalParticipantProperty("transcription_language",r.transcriptionLanguage)},me.prototype.join=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.room&&this.room.join(e,n).then((function(){return t._maybeSetSITimeout()}))},me.prototype.authenticateAndUpgradeRole=function(e){return b.a.call(this,Object.assign(Object.assign({},e),{onCreateResource:me.resourceCreator}))},me.prototype.isJoined=function(){return this.room&&this.room.joined},me.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||"undefined"===typeof this.options.config.p2p},me.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},me.prototype.leave=function(){return pe(this,void 0,void 0,Object(a.a)().mark((function e(){var t,n,r=this;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach((function(e){return r.onLocalTrackRemoved(e)})),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this._maybeClearSITimeout(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){e.next=14;break}throw new Error("The conference is has been already left");case 14:return(t=this.room).removeListener(fe.XMPPEvents.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),t.removeListener(fe.XMPPEvents.CONNECTION_RESTORED,this._onIceConnectionRestored),t.removeListener(fe.XMPPEvents.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),t.removeListener(fe.XMPPEvents.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),t.removeListener(fe.XMPPEvents.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),t.removeListener(fe.XMPPEvents.SESSION_ACCEPT,this._updateRoomPresence),t.removeListener(fe.XMPPEvents.SOURCE_ADD,this._updateRoomPresence),t.removeListener(fe.XMPPEvents.SOURCE_ADD_ERROR,this._removeLocalSourceOnReject),t.removeListener(fe.XMPPEvents.SOURCE_REMOVE,this._updateRoomPresence),this.eventManager.removeXMPPListeners(),this._signalingLayer.setChatRoom(null),this.room=null,e.prev=27,e.next=30,t.leave();case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(27),n=e.t0,this.getParticipants().forEach((function(e){return r.onMemberLeft(e.getJid())}));case 36:if(this.rtc&&this.rtc.destroy(),!n){e.next=39;break}throw n;case 39:case"end":return e.stop()}}),e,this,[[27,32]])})))},me.prototype.getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession},me.prototype.getMediaSessions=function(){var e=[];return this.jvbJingleSession&&e.push(this.jvbJingleSession),this.p2pJingleSession&&e.push(this.p2pJingleSession),e},me.prototype._registerRtcListeners=function(e){var t=this;e.addListener(ce.default.DATA_CHANNEL_OPEN,(function(){var e,n=Object(o.a)(t.rtc.localTracks);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isVideoTrack()&&t._sendBridgeVideoTypeMessage(r)}}catch(i){n.e(i)}finally{n.f()}}))},me.prototype._sendBridgeVideoTypeMessage=function(e){var t=!e||e.isMuted()?ie.a.NONE:e.getVideoType();t===ie.a.DESKTOP&&this._desktopSharingFrameRate>C.a&&(t=ie.a.DESKTOP_HIGH_FPS),j.a.isSourceNameSignalingEnabled()&&e?this.rtc.sendSourceVideoType(e.getSourceName(),t):j.a.isSourceNameSignalingEnabled()||this.rtc.setVideoType(t)},me.prototype.getName=function(){return this.options.name.toString()},me.prototype.getConnection=function(){return this.connection},me.prototype.isAuthEnabled=function(){return this.authEnabled},me.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},me.prototype.getAuthLogin=function(){return this.authIdentity},me.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},me.prototype.getExternalAuthUrl=function(e){var t=this;return new Promise((function(n,r){t.isExternalAuthEnabled()?e?t.room.moderator.getPopupLoginUrl(n,r):t.room.moderator.getLoginUrl(n,r):r()}))},me.prototype.getLocalTracks=function(e){var t=[];return this.rtc&&(t=this.rtc.getLocalTracks(e)),t},me.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},me.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},me.prototype.getLocalVideoTracks=function(){return this.rtc?this.rtc.getLocalVideoTracks():null},me.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()}},me.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},me.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},me.prototype.addEventListener=me.prototype.on,me.prototype.removeEventListener=me.prototype.off,me.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},me.prototype.removeCommandListener=function(e,t){this.room&&this.room.removePresenceListener(e,t)},me.prototype.sendTextMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";this.room&&this.room.sendMessage(e,t)},me.prototype.sendPrivateTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";this.room&&this.room.sendPrivateMessage(e,t,n)},me.prototype.sendCommand=function(e,t){this.room?this.room.addOrReplaceInPresence(e,t)&&this.room.sendPresence():he.warn("Not sending a command, room not initialized.")},me.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},me.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},me.prototype.setDisplayName=function(e){if(this.room){var t="nick";if(!e&&!this.room.getFromPresence(t))return;this.room.addOrReplaceInPresence(t,{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e})&&this.room.sendPresence()}},me.prototype.setSubject=function(e){this.room&&this.isModerator()?this.room.setSubject(e):he.warn("Failed to set subject, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},me.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new K.a;var e,t=this.getLocalTracks(se.a.AUDIO),n=Object(o.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.transcriber.addTrack(r)}}catch(u){n.e(u)}finally{n.f()}var i,a=this.rtc.getRemoteTracks(se.a.AUDIO),s=Object(o.a)(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.transcriber.addTrack(c)}}catch(u){s.e(u)}finally{s.f()}}return this.transcriber},me.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},me.prototype.addTrack=function(e){var t,n=this;if(e){e.isAudioTrack()&&this.options.config.startAudioMuted&&e.mute(),e.isVideoTrack()&&this.options.config.startVideoMuted&&e.mute();var r=e.getType(),i=this.rtc.getLocalTracks(r);if(i.length>0){if(e===i[0])return Promise.resolve(e);if(j.a.isMultiStreamSupportEnabled()&&r===se.a.VIDEO){var o=Object(ue.c)(this.myUserId(),r,null===(t=this.getLocalTracks(r))||void 0===t?void 0:t.length);e.setSourceName(o);var a=[];return this.p2pJingleSession&&a.push(this.p2pJingleSession.addTracks([e])),this.jvbJingleSession&&a.push(this.jvbJingleSession.addTracks([e])),Promise.all(a).then((function(){n._setupNewTrack(e),n._sendBridgeVideoTypeMessage(e),n._updateRoomPresence(n.getActiveMediaSession()),(n.isMutedByFocus||n.isVideoMutedByFocus)&&n._fireMuteChangeEvent(e)}))}return Promise.reject(new Error("Cannot add second ".concat(r," track to the conference")))}return this.replaceTrack(null,e).then((function(){e.getVideoType()===le.VideoType.DESKTOP&&j.a.isMultiStreamSupportEnabled()&&n._updateRoomPresence(n.getActiveMediaSession())}))}},me.prototype._fireAudioLevelChangeEvent=function(e,t){var n=this.getActivePeerConnection();t&&n!==t||this.eventEmitter.emit(m.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),e)},me.prototype._fireMuteChangeEvent=function(e){var t;if(this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()?(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,se.a.AUDIO)):this.isVideoMutedByFocus&&e.isVideoTrack()&&!e.isMuted()&&(this.isVideoMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1,se.a.VIDEO)),this.mutedByFocusActor&&e.isAudioTrack()){var n=f.Strophe.getResourceFromJid(this.mutedByFocusActor);t=this.participants[n]}else if(this.mutedVideoByFocusActor&&e.isVideoTrack()){var r=f.Strophe.getResourceFromJid(this.mutedVideoByFocusActor);t=this.participants[r]}e.isVideoTrack()&&!T.a.doesVideoMuteByStreamRemove()&&this._sendBridgeVideoTypeMessage(e),this.eventEmitter.emit(m.TRACK_MUTE_CHANGED,e,t)},me.prototype._getInitialLocalTracks=function(){var e=this;return this.getLocalTracks().filter((function(t){var n=t.getType();return!(n!==se.a.AUDIO||e.isStartAudioMuted()&&!T.a.isWebKitBased()&&!T.a.isReactNative())||n===se.a.VIDEO&&!e.isStartVideoMuted()}))},me.prototype.onLocalTrackRemoved=function(e){e.setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(_.TRACK_MUTE_CHANGED,e.muteHandler),e.isAudioTrack()&&e.removeEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e.isVideoTrack()&&e.videoType===le.VideoType.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(m.TRACK_REMOVED,e)},me.prototype.removeTrack=function(e){return this.replaceTrack(e,null)},me.prototype.replaceTrack=function(e,t){var n,r=this,i=null===e||void 0===e?void 0:e.getVideoType(),o=(null===e||void 0===e?void 0:e.getType())||(null===t||void 0===t?void 0:t.getType()),a=null===t||void 0===t?void 0:t.getVideoType();if(j.a.isMultiStreamSupportEnabled()&&e&&t&&i!==a)throw new Error("Replacing a track of videoType=".concat(i," with a track of videoType=").concat(a," is")+" not supported in this mode.");if(j.a.isSourceNameSignalingEnabled()&&t)if(e)t.setSourceName(e.getSourceName());else{var s=Object(ue.c)(this.myUserId(),o,null===(n=this.getLocalTracks(o))||void 0===n?void 0:n.length);t.setSourceName(s)}var c=this===(null===e||void 0===e?void 0:e.conference);return c&&e.disposed||(null===t||void 0===t?void 0:t.disposed)?Promise.reject(new g.a(y.TRACK_IS_DISPOSED)):(e&&!c&&he.warn("JitsiConference.replaceTrack oldTrack (".concat(e," does not belong to this conference")),this._doReplaceTrack(c?e:null,t).then((function(){return c&&r.onLocalTrackRemoved(e),t&&r._setupNewTrack(t),(c&&(null===e||void 0===e?void 0:e.isVideoTrack())||(null===t||void 0===t?void 0:t.isVideoTrack()))&&r._sendBridgeVideoTypeMessage(t),(null===e||void 0===e?void 0:e._setEffectInProgress)||(null===t||void 0===t?void 0:t._setEffectInProgress)||r._updateRoomPresence(r.getActiveMediaSession()),null!==t&&(r.isMutedByFocus||r.isVideoMutedByFocus)&&r._fireMuteChangeEvent(t),Promise.resolve()})).catch((function(e){return he.error("replaceTrack failed: ".concat(null===e||void 0===e?void 0:e.stack)),Promise.reject(e)})))},me.prototype._doReplaceTrack=function(e,t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.replaceTrack(e,t)):he.info("_doReplaceTrack - no JVB JingleSession"),this.p2pJingleSession?n.push(this.p2pJingleSession.replaceTrack(e,t)):he.info("_doReplaceTrack - no P2P JingleSession"),Promise.all(n)},me.prototype._removeLocalSourceOnReject=function(e,t,n){if(e){he.warn("Source-add rejected on ".concat(e,', reason="').concat(null===t||void 0===t?void 0:t.reason,'", message="').concat(null===t||void 0===t?void 0:t.msg,'"'));var r=this.getLocalTracks(n)[0];this.eventEmitter.emit(m.TRACK_UNMUTE_REJECTED,r)}},me.prototype._setupNewTrack=function(e){var t,n=e.getType();if(e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==le.VideoType.DESKTOP){var r=S.a.getCurrentlyAvailableMediaDevices().find((function(t){return t.kind==="".concat(e.getTrack().kind,"input")&&t.label===e.getTrack().label}));r&&z.a.sendActiveDeviceListEvent(S.a.getEventDataForActiveDevice(r))}if(j.a.isSourceNameSignalingEnabled()&&!e.getSourceName()){var i=Object(ue.c)(this.myUserId(),n,null===(t=this.getLocalTracks(n))||void 0===t?void 0:t.length);e.setSourceName(i)}this.rtc.addLocalTrack(e),e.setConference(this),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.addEventListener(_.TRACK_MUTE_CHANGED,e.muteHandler),e.isAudioTrack()&&(e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler)),this.eventEmitter.emit(m.TRACK_ADDED,e)},me.prototype._setNewVideoType=function(e){var t=!1;if(j.a.isSourceNameSignalingEnabled()&&e&&(t=this._signalingLayer.setTrackVideoType(e.getSourceName(),e.videoType)),!j.a.isMultiStreamSupportEnabled()){var n="videoType",r=e?e.videoType:le.VideoType.CAMERA;if(r!==le.VideoType.CAMERA||this.room.getFromPresence(n)){var i=this.room.addOrReplaceInPresence(n,{value:r});t=t||i}}return t},me.prototype._setTrackMuteStatus=function(e,t,n){var r=!1;if(j.a.isSourceNameSignalingEnabled()&&t&&(r=this._signalingLayer.setTrackMuteStatus(t.getSourceName(),n)),!j.a.isMultiStreamSupportEnabled()){var i,o;if(!this.room)return!1;e===se.a.AUDIO?i=this.room.addAudioInfoToPresence(n):o=this.room.addVideoInfoToPresence(n),r=r||i||o}return r},me.prototype._addLocalTrackAsUnmute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.addTrackAsUnmute(e)):he.debug("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.addTrackAsUnmute(e)):he.debug("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.allSettled(t)},me.prototype._removeLocalTrackAsMute=function(e){var t=[];return this.jvbJingleSession?t.push(this.jvbJingleSession.removeTrackAsMute(e)):he.debug("Remove local MediaStream - no JVB JingleSession started yet"),this.p2pJingleSession?t.push(this.p2pJingleSession.removeTrackAsMute(e)):he.debug("Remove local MediaStream - no P2P JingleSession started yet"),Promise.allSettled(t)},me.prototype.getRole=function(){return this.room.role},me.prototype.isHidden=function(){return this.connection?f.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},me.prototype.isModerator=function(){return this.room?this.room.isModerator():null},me.prototype.lock=function(e){var t=this;return this.isModerator()?new Promise((function(n,r){t.room.lockRoom(e||"",(function(){return n()}),(function(e){return r(e)}),(function(){return r(p.PASSWORD_NOT_SUPPORTED)}))})):Promise.reject(new Error("You are not moderator."))},me.prototype.unlock=function(){return this.lock()},me.prototype.selectParticipant=function(e){this.selectParticipants([e])},me.prototype.selectParticipants=function(e){if(!Array.isArray(e))throw new Error("Invalid argument; participantIds must be an array.");this.receiveVideoController.selectEndpoints(e)},me.prototype.getLastN=function(){return this.receiveVideoController.getLastN()},me.prototype.getForwardedSources=function(){return this.rtc.getForwardedSources()},me.prototype.setLastN=function(e){if(!Number.isInteger(e)&&!Number.parseInt(e,10))throw new Error("Invalid value for lastN: ".concat(e));var t=Number(e);if(t<-1)throw new RangeError("lastN cannot be smaller than -1");if(this.receiveVideoController.setLastN(t),this.p2pJingleSession){var n=0!==t;this.p2pJingleSession.setMediaTransferActive(!0,n).catch((function(e){he.error("Failed to adjust video transfer status (".concat(n,")"),e)}))}},me.prototype.isInLastN=function(e){return this.rtc.isInLastN(e)},me.prototype.getParticipants=function(){return Object.values(this.participants)},me.prototype.getParticipantsWithoutHidden=function(){var e=this.getParticipants().filter((function(e){return!e._hidden}));return e=e.filter((function(e){var t;return!(null===(t=null===e||void 0===e?void 0:e._properties)||void 0===t?void 0:t.features_jigasi)}))},me.prototype.getParticipantCount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getParticipants();return e||(t=t.filter((function(e){return!e.isHidden()}))),t.length+1},me.prototype.getParticipantById=function(e){return this.participants[e]},me.prototype.grantOwner=function(e){var t=this.getParticipantById(e);t&&this.room.setAffiliation(t.getConnectionJid(),"owner")},me.prototype.revokeOwner=function(e){var t=this.getParticipantById(e),n=this.myUserId()===e,r=this.isMembersOnly()?"member":"none";n?this.room.setAffiliation(this.connection.getJid(),r):t&&this.room.setAffiliation(t.getConnectionJid(),r)},me.prototype.kickParticipant=function(e,t){var n=this.getParticipantById(e);n&&this.room.kick(n.getJid(),t)},me.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},me.prototype._maybeSetSITimeout=function(){var e=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout((function(){e._sessionInitiateTimeout=null,z.a.sendAnalytics(Object(de.F)(de.d,{p2p:!1,value:5e3}))}),5e3))},me.prototype.muteParticipant=function(e,t){var n=t||se.a.AUDIO;if(n===se.a.AUDIO||n===se.a.VIDEO){var r=this.getParticipantById(e);r&&this.room.muteParticipant(r.getJid(),!0,n)}else he.error("Unsupported media type: ".concat(n))},me.prototype.onMemberJoined=function(e,t,n,r,i,o,a,s,c,u,l){var d=f.Strophe.getResourceFromJid(e);if("focus"!==d&&this.myUserId()!==d){var p=new v.a(e,this,t,r,i,o,a);p.setConnectionJid(c),p.setRole(n),p.setBotType(s),p.setFeatures(u),p.setIsReplacing(l),this.participants[d]=p,this.eventEmitter.emit(m.USER_JOINED,d,p),this._updateFeatures(p),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},me.prototype._onMucJoined=function(){this._maybeStartOrStopP2P()},me.prototype._updateFeatures=function(e){var t=this;e.getFeatures().then((function(n){e._supportsDTMF=n.has("urn:xmpp:jingle:dtmf:0"),t.updateDTMFSupport(),n.has(ne.c)&&e.setProperty("features_jigasi",!0),n.has(ne.b)&&e.setProperty("features_e2ee",!0)})).catch((function(){return!1}))},me.prototype._onMemberBotTypeChanged=function(e,t){var n=this.getParticipants().find((function(t){return t.getJid()===e}));if(n){n.setBotType(t);var r=f.Strophe.getResourceFromJid(e);this.eventEmitter.emit(m.BOT_TYPE_CHANGED,r,t)}n.getBotType()||this._maybeStartOrStopP2P()},me.prototype.onMemberLeft=function(e){var t=this,n=f.Strophe.getResourceFromJid(e);if("focus"!==n&&this.myUserId()!==n){var r,a=this.participants[n],s=this.getMediaSessions(),c=[],u=Object(o.a)(s);try{for(u.s();!(r=u.n()).done;){var l=r.value,d=l.peerconnection.getRemoteTracks(n);d&&(c=[].concat(Object(i.a)(c),Object(i.a)(d))),l.removeRemoteStreamsOnLeave(n)}}catch(p){u.e(p)}finally{u.f()}c.forEach((function(e){t.eventEmitter.emit(m.TRACK_REMOVED,e)})),a&&(delete this.participants[n],this.eventEmitter.emit(m.USER_LEFT,n,a)),null!==this.room&&(this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout())}},me.prototype.onMemberKicked=function(e,t,n,r,i){if(t!==this.myUserId()){var o=this.participants[t];if(e)return this.eventEmitter.emit(m.KICKED,o,r,i),void this.leave();var a=this.participants[n];a.setIsReplaced(i),this.eventEmitter.emit(m.PARTICIPANT_KICKED,o,a,r)}},me.prototype.onLocalRoleChanged=function(e){this.eventEmitter.emit(m.USER_ROLE_CHANGED,this.myUserId(),e)},me.prototype.onUserRoleChanged=function(e,t){var n=f.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&(r.setRole(t),this.eventEmitter.emit(m.USER_ROLE_CHANGED,n,t))},me.prototype.onDisplayNameChanged=function(e,t){var n=f.Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&r._displayName!==t&&(r._displayName=t,this.eventEmitter.emit(m.DISPLAY_NAME_CHANGED,n,t))},me.prototype.onRemoteTrackAdded=function(e){var t=this;if(!e.isP2P||this.isP2PActive())if(e.isP2P||!this.isP2PActive()){var n=e.getParticipantId(),r=this.getParticipantById(n);if(r){r._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var i=this.eventEmitter;e.addEventListener(_.TRACK_MUTE_CHANGED,(function(){return i.emit(m.TRACK_MUTE_CHANGED,e)})),e.isAudioTrack()&&e.addEventListener(_.TRACK_AUDIO_LEVEL_CHANGED,(function(e,r){t.getActivePeerConnection()===r&&i.emit(m.TRACK_AUDIO_LEVEL_CHANGED,n,e)})),i.emit(m.TRACK_ADDED,e)}else he.error("No participant found for id: ".concat(n))}else he.info("Trying to add remote JVB track, when in P2P - IGNORED");else he.info("Trying to add remote P2P track, when not in P2P - IGNORED")},me.prototype.onCallAccepted=function(e,t){this.p2pJingleSession===e&&(he.info("P2P setAnswer"),this.p2pJingleSession.setAnswer(t),this.eventEmitter.emit(m._MEDIA_SESSION_STARTED,this.p2pJingleSession))},me.prototype.onTransportInfo=function(e,t){this.p2pJingleSession===e&&(he.info("P2P addIceCandidates"),this.p2pJingleSession.addIceCandidates(t))},me.prototype.onRemoteTrackRemoved=function(e){var t=this;this.getParticipants().forEach((function(n){for(var r=n.getTracks(),i=0;i<r.length;i++)if(r[i]===e){n._tracks.splice(i,1),t.eventEmitter.emit(m.TRACK_REMOVED,e),t.transcriber&&t.transcriber.removeTrack(e);break}}),this)},me.prototype._onIncomingCallP2P=function(e,t){var n,r,i=T.a.supportsUnifiedPlan()&&(!T.a.isChromiumBased()||null===(n=this.options.config.enableUnifiedOnChrome)||void 0===n||n),o=t.find(">content").attr("name");i!==("0"===o||"1"===o)?r={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P across two endpoints in different SDP modes is disabled"}:!this.isP2PEnabled()&&!this.isP2PTestModeEnabled()||T.a.isFirefox()||T.a.isWebKitBased()?r={reason:"decline",reasonDescription:"P2P disabled",errorMsg:"P2P mode disabled in the configuration or browser unsupported"}:this.p2pJingleSession?r={reason:"busy",reasonDescription:"P2P already in progress",errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(r={reason:"decline",reasonDescription:"P2P requirements not met",errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},z.a.sendAnalytics(Object(de.F)(de.h))),r?this._rejectIncomingCall(e,r):this._acceptP2PIncomingCall(e,t)},me.prototype.onIncomingCall=function(e,t,n){if(e.isP2P)this._onIncomingCallP2P(e,t);else{if(!this.isFocus(e.remoteJid)){var r="Rejecting session-initiate from non-focus.";return void this._rejectIncomingCall(e,{reason:"security-error",reasonDescription:r,errorMsg:r})}this._acceptJvbIncomingCall(e,t,n)}},me.prototype._acceptJvbIncomingCall=function(e,t,n){var r=this;this.jvbJingleSession=e,this.room.connectionTimes["session.initiate"]=n,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&z.a.sendAnalyticsAndLog(Object(de.F)(de.a,{p2p:!1}));var i=$(t).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr("region");this.eventEmitter.emit(m.SERVER_REGION_CHANGED,i),this._maybeClearSITimeout(),z.a.sendAnalytics(Object(de.F)(de.c,{p2p:!1,value:n}));try{e.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()}))}catch(a){return X.a.callErrorHandler(a),void he.error(a)}this._setBridgeChannel(t,e.peerconnection);var o=this._getInitialLocalTracks();try{e.acceptOffer(t,(function(){r.isP2PActive()&&r.jvbJingleSession&&r._suspendMediaTransferForJvbConnection(),r.eventEmitter.emit(m._MEDIA_SESSION_STARTED,e),r.isP2PActive()||r.eventEmitter.emit(m._MEDIA_SESSION_ACTIVE_CHANGED,e)}),(function(e){X.a.callErrorHandler(e),he.error("Failed to accept incoming Jingle session",e)}),o),this._desktopSharingFrameRate&&e.peerconnection.setDesktopSharingFrameRate(this._desktopSharingFrameRate),he.info("Starting CallStats for JVB connection..."),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,"jitsi"),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(s){X.a.callErrorHandler(s),he.error(s)}},me.prototype._setBridgeChannel=function(e,t){var n=null,r=$(e).find(">content>transport>web-socket").first();1===r.length&&(n=r[0].getAttribute("url")),n?this.rtc.initializeBridgeChannel(null,n):this.rtc.initializeBridgeChannel(t,null)},me.prototype._rejectIncomingCall=function(e,t){(null===t||void 0===t?void 0:t.errorMsg)&&he.warn(t.errorMsg),e.terminate(null,(function(e){he.warn("An error occurred while trying to terminate invalid Jingle session",e)}),{reason:t&&t.reason,reasonDescription:t&&t.reasonDescription,sendSessionTerminate:!0})},me.prototype.onCallEnded=function(e,t,n){if(he.info("Call ended: ".concat(t," - ").concat(n," P2P ?").concat(e.isP2P)),e===this.jvbJingleSession)this.wasStopped=!0,z.a.sendAnalytics(Object(de.F)(de.e,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),he.info("Stopping JVB CallStats"),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded();else if(e===this.p2pJingleSession){var r={};"decline"===t&&"force JVB121"===n?(he.info("In forced JVB 121 mode..."),z.a.analytics.addPermanentProperties({forceJvb121:!0})):"connectivity-error"===t&&"ICE FAILED"===n?z.a.analytics.addPermanentProperties({p2pFailed:!0}):"success"===t&&"restart"===n&&(r.requestRestart=!0),this._stopP2PSession(r)}else he.error("Received onCallEnded for invalid session",e.sid,e.remoteJid,t,n)},me.prototype.onSuspendDetected=function(e){e.isP2P||(this.leave(),this.eventEmitter.emit(m.SUSPEND_DETECTED))},me.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(m.DTMF_SUPPORT_CHANGED,e))},me.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},me.prototype.myUserId=function(){return this.room&&this.room.myroomjid?f.Strophe.getResourceFromJid(this.room.myroomjid):null},me.prototype.sendTones=function(e,t,n){var r=this.getActivePeerConnection();r?r.sendTones(e,t,n):he.warn("cannot sendTones: no peer connection")},me.prototype.startRecording=function(e){return this.room?this.recordingManager.startRecording(e):Promise.reject(new Error("The conference is not created yet!"))},me.prototype.stopRecording=function(e){return this.room?this.recordingManager.stopRecording(e):Promise.reject(new Error("The conference is not created yet!"))},me.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},me.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise((function(e,t){t(new Error("The conference is not created yet!"))}))},me.prototype.hangup=function(){return this.room?this.room.hangup():new Promise((function(e,t){t(new Error("The conference is not created yet!"))}))},me.prototype.startTranscriber=function(){return this.dial("jitsi_meet_transcribe")},me.prototype.stopTranscriber=me.prototype.hangup,me.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},me.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},me.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},me.prototype.getActivePeerConnection=function(){var e=this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession;return e?e.peerconnection:null},me.prototype.getConnectionState=function(){var e=this.getActivePeerConnection();return e?e.getConnectionState():null},me.prototype.setStartMutedPolicy=function(e){this.isModerator()?(this.startMutedPolicy=e,this.room.addOrReplaceInPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}})&&this.room.sendPresence()):he.warn("Failed to set start muted policy, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},me.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},me.prototype.isStartAudioMuted=function(){return this.startAudioMuted},me.prototype.isStartVideoMuted=function(){return this.startVideoMuted},me.prototype.getConnectionTimes=function(){return this.room.connectionTimes},me.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_".concat(e),{value:t})},me.prototype.removeLocalParticipantProperty=function(e){this.removeCommand("jitsi_participant_".concat(e)),this.room.sendPresence()},me.prototype.getLocalParticipantProperty=function(e){var t=this.room.presMap.nodes.find((function(t){return t.tagName==="jitsi_participant_".concat(e)}));return t?t.value:void 0},me.prototype.sendFeedback=function(e,t){return this.statistics.sendFeedback(e,t)},me.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},me.prototype.getSsrcByTrack=function(e){var t;return e.isLocal()?null===(t=this.getActivePeerConnection())||void 0===t?void 0:t.getLocalSSRC(e):e.getSSRC()},me.prototype._onTrackAttach=function(e,t){var n=e.isLocal(),r=null,i=e.isP2P,o=i?e.getParticipantId():"jitsi",a=i?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;n?a&&(r=a.getLocalSSRC(e)):r=e.getSSRC(),t.id&&r&&a&&this.statistics.associateStreamWithVideoTag(a,r,n,o,e.getUsageLabel(),t.id)},me.prototype.sendApplicationLog=function(e){z.a.sendLog(e)},me.prototype.isFocus=function(e){return this.room?this.room.isFocus(e):null},me.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(m.CONFERENCE_FAILED,p.INCOMPATIBLE_SERVER_VERSIONS)},me.prototype.sendEndpointMessage=function(e,t){this.rtc.sendChannelMessage(e,t)},me.prototype.sendEndpointStatsMessage=function(e){this.rtc.sendEndpointStatsMessage(e)},me.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e)},me.prototype.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=typeof e;if("object"===r||!n&&"string"===r)if(n)this.sendEndpointMessage(t,e);else{var i=e,o="body";if("object"===r){o="json-message",i.hasOwnProperty(ne.d)||(i[ne.d]="");try{i=JSON.stringify(i)}catch(a){return void he.error("Can not send a message, stringify failed: ",a)}}t?this.sendPrivateTextMessage(t,i,o):this.sendTextMessage(i,o)}else he.error("Can not send a message of type ".concat(r))},me.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},me.prototype._onConferenceRestarted=function(e){!e.isP2P&&this.options.config.enableForcedReload&&this.eventEmitter.emit(m.CONFERENCE_FAILED,p.CONFERENCE_RESTARTED)},me.prototype._onIceConnectionInterrupted=function(e){e.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(m.CONNECTION_INTERRUPTED)},me.prototype._onIceConnectionFailed=function(e){e.isP2P?(z.a.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&z.a.sendAnalyticsAndLog(Object(de.H)(de.j,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession({reason:"connectivity-error",reasonDescription:"ICE FAILED"})):e&&this.jvbJingleSession===e&&(this._delayedIceFailed=new R.a(this),this._delayedIceFailed.start(e))},me.prototype._onIceConnectionRestored=function(e){e.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(m.CONNECTION_RESTORED)},me.prototype._acceptP2PIncomingCall=function(e,t){var n=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=e,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),he.info("Starting CallStats for P2P connection...");var r=f.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),i=this.participants[r];i&&(r=i.getStatsID()||r),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,r);var o=this.getLocalTracks();this.p2pJingleSession.acceptOffer(t,(function(){he.debug('Got RESULT for P2P "session-accept"'),n.eventEmitter.emit(m._MEDIA_SESSION_STARTED,e)}),(function(e){he.error("Failed to accept incoming P2P Jingle session",e)}),o)},me.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},me.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},me.prototype._addRemoteTracks=function(e,t){var n,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;he.info("Adding remote ".concat(e," track: ").concat(i)),this.onRemoteTrackAdded(i)}}catch(a){r.e(a)}finally{r.f()}},me.prototype._onIceConnectionEstablished=function(e){this.setDisplayName("".concat(this.getLocalUser()&&this.getLocalUser().name,"(").concat(this.options.connection.options.ownerId,")")),null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var t=!1,n=this.options.config.forceJVB121Ratio;if(e.isP2P?this.p2pJingleSession!==e?(he.error("CONNECTION_ESTABLISHED - wrong P2P session instance ?!"),t=!0):!e.isInitiator&&"number"===typeof n&&Math.random()<n&&(he.info("Forcing JVB 121 mode (ratio=".concat(n,")...")),z.a.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession({reason:"decline",reasonDescription:"force JVB121"}),t=!0):t=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var r=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;z.a.sendAnalytics(de.p,{value:r})}e.isP2P===this.isP2PActive()&&this.eventEmitter.emit(m.CONNECTION_ESTABLISHED),t||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():he.info("Not removing remote JVB tracks - no session yet"),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),he.info("Starting remote stats with p2p connection"),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),z.a.sendAnalyticsAndLog(Object(de.H)(de.i,{initiator:this.p2pJingleSession.isInitiator})))},me.prototype._updateProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!d()(e,this.properties);if(this.properties=e,t){this.eventEmitter.emit(m.PROPERTIES_CHANGED,this.properties);var n="true"===this.properties["audio-limit-reached"],i="true"===this.properties["video-limit-reached"];this._audioSenderLimitReached!==n&&(this._audioSenderLimitReached=n,this.eventEmitter.emit(m.AUDIO_UNMUTE_PERMISSIONS_CHANGED,n),he.info("Audio unmute permissions set by Jicofo to ".concat(n))),this._videoSenderLimitReached!==i&&(this._videoSenderLimitReached=i,this.eventEmitter.emit(m.VIDEO_UNMUTE_PERMISSIONS_CHANGED,i),he.info("Video unmute permissions set by Jicofo to ".concat(i)));["bridge-count","created-ms"].forEach((function(t){void 0!==e[t]&&z.a.analytics.addPermanentProperties(Object(r.a)({},t.replace("-","_"),e[t]))}))}},me.prototype.getProperty=function(e){return this.properties[e]},me.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(he.info("Cleared deferred start P2P task"),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},me.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks("JVB",this.jvbJingleSession.peerconnection.getRemoteTracks())},me.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks("P2P",this.p2pJingleSession.peerconnection.getRemoteTracks())},me.prototype._removeRemoteTracks=function(e,t){var n,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;he.info("Removing remote ".concat(e," track: ").concat(i)),this.onRemoteTrackRemoved(i)}}catch(a){r.e(a)}finally{r.f()}},me.prototype._resumeMediaTransferForJvbConnection=function(){he.info("Resuming media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!0,!0).then((function(){he.info("Resumed media transfer over the JVB connection!")}),(function(e){he.error("Failed to resume media transfer over the JVB connection:",e)}))},me.prototype._setP2PStatus=function(e){if(this.p2p!==e){if(this.p2p=e,e){he.info("Peer to peer connection established!"),z.a.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var t=0!==this.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,t).catch((function(e){he.error("Failed to sync up P2P video transfer status"+"(".concat(t,")"),e)}))}else he.info("Peer to peer connection closed!");this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!e),this.dtmfManager=null,this.eventEmitter.emit(m.P2P_STATUS,this,this.p2p),this.eventEmitter.emit(m._MEDIA_SESSION_ACTIVE_CHANGED,this.getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?m.CONNECTION_INTERRUPTED:m.CONNECTION_RESTORED)}else he.debug("Called _setP2PStatus with the same status: ".concat(e))},me.prototype._startP2PSession=function(e){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)he.error("P2P session already started!");else{this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,e),he.info("Created new P2P JingleSession",this.room.myroomjid,e),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,this._signalingLayer,Object.assign(Object.assign({},this.options.config),{enableInsertableStreams:this.isE2EEEnabled()})),he.info("Starting CallStats for P2P connection...");var t=f.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),n=this.participants[t];n&&(t=n.getStatsID()||t),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,t);var r=this.getLocalTracks();this.p2pJingleSession.invite(r)}},me.prototype._suspendMediaTransferForJvbConnection=function(){he.info("Suspending media transfer over the JVB connection..."),this.jvbJingleSession.setMediaTransferActive(!1,!1).then((function(){he.info("Suspended media transfer over the JVB connection !")}),(function(e){he.error("Failed to suspend media transfer over the JVB connection:",e)}))},me.prototype._maybeStartOrStopP2P=function(e){if(!this.isP2PEnabled()||this.isP2PTestModeEnabled()||T.a.isFirefox()||T.a.isWebKitBased()||this.isE2EEEnabled())he.info("Auto P2P disabled");else{var t=this.getParticipants(),n=t.length,r=this._shouldBeInP2PMode();if(!r&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&r){var i=n&&t[0],o=this.myUserId(),a=i.getId();if(o>a)return void he.debug("I'm the bigger peersId - the other peer should start P2P",o,a);if(o===a)return void he.error("The same IDs ? ",o,a);var s=i.getJid();if(e){if(this.deferredStartP2PTask)return void he.error("Deferred start P2P task's been set already!");he.info("Will start P2P with: ".concat(s," after ").concat(this.backToP2PDelay," seconds...")),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,s),1e3*this.backToP2PDelay)}else he.info("Will start P2P with: ".concat(s)),this._startP2PSession(s)}else this.p2pJingleSession&&!r&&(he.info("Will stop P2P with: ".concat(this.p2pJingleSession.remoteJid)),this.p2pJingleSession.isInitiator&&n>1&&z.a.sendAnalyticsAndLog(Object(de.H)(de.k)),this._stopP2PSession())}},me.prototype._shouldBeInP2PMode=function(){var e=this.getParticipants(),t=e.length,n=void 0!==e.find((function(e){return"poltergeist"===e.getBotType()||e.hasFeature(ne.c)})),r=1===t&&!n;return he.debug("P2P? peerCount: ".concat(t,", hasBotPeer: ").concat(n," => ").concat(r)),r},me.prototype._stopP2PSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,n=void 0===t?"success":t,r=e.reasonDescription,i=void 0===r?"Turning off P2P session":r,o=e.requestRestart,a=void 0!==o&&o;if(this.p2pJingleSession){var s=this.isP2PActive();s&&(this.jvbJingleSession&&!a&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),he.info("Stopping remote stats for P2P connection"),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),he.info("Stopping CallStats for P2P connection"),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate((function(){he.info("P2P session terminate RESULT")}),(function(e){"success"!==n&&he.error("An error occurred while trying to terminate P2P Jingle session",e)}),{reason:n,reasonDescription:i,sendSessionTerminate:this.room&&this.getParticipantById(f.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),s&&(this.jvbJingleSession&&!a?this._addRemoteJVBTracks():he.info("Not adding remote JVB tracks - no session yet"))}else he.error("No P2P session to be stopped!")},me.prototype._updateRoomPresence=function(e,t){if(e){if(t){if(t.skip)return;t.skip=!0}var n,r,i,a,s,c=!1,u=e.peerconnection.getLocalTracks(),l=u.filter((function(e){return e.getType()===se.a.AUDIO})),d=u.filter((function(e){return e.getType()===se.a.VIDEO})),f=Object(o.a)(u);try{for(f.s();!(i=f.n()).done;){var p=i.value;n=this._setTrackMuteStatus(p.getType(),p,p.isMuted()),p.getType()===se.a.VIDEO&&(r=this._setNewVideoType(p)),c=c||n||r}}catch(h){f.e(h)}finally{f.f()}if(!j.a.isMultiStreamSupportEnabled())(null===l||void 0===l?void 0:l.length)||(a=this._setTrackMuteStatus(se.a.AUDIO,void 0,!0)),(null===d||void 0===d?void 0:d.length)||(s=this._setTrackMuteStatus(se.a.VIDEO,void 0,!0),r=this._setNewVideoType()),c=c||a||s||r;c&&this.room.sendPresence()}},me.prototype.isP2PActive=function(){return this.p2p},me.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},me.prototype.setDesktopSharingFrameRate=function(e){return"number"!==typeof e||isNaN(e)?(he.error("Invalid value ".concat(e," specified for desktop capture frame rate")),!1):(this._desktopSharingFrameRate=e,this.jvbJingleSession&&this.jvbJingleSession.peerconnection.setDesktopSharingFrameRate(e),this.rtc.setDesktopSharingFrameRate(e),!0)},me.prototype.startP2PSession=function(){var e=this.getParticipants();if(1!==e.length)throw new Error("There must be exactly 1 participant to start the P2P session !");var t=e[0].getJid();this._startP2PSession(t)},me.prototype.stopP2PSession=function(e){this._stopP2PSession(e)},me.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},me.prototype.sendFaceLandmarks=function(e){e.faceExpression&&this.xmpp.sendFaceExpressionEvent(this.room.roomjid,e)},me.prototype.setReceiverConstraints=function(e){this.receiveVideoController.setReceiverConstraints(e)},me.prototype.setReceiverVideoConstraint=function(e){this.receiveVideoController.setPreferredReceiveMaxFrameHeight(e)},me.prototype.setSenderVideoConstraint=function(e){return this.sendVideoController.setPreferredSendMaxFrameHeight(e)},me.prototype.createVideoSIPGWSession=function(e,t){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(e,t):new Error(Z.ERROR_NO_CONNECTION)},me.prototype._sendConferenceJoinAnalyticsEvent=function(){var e=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&e&&null!==this.getActivePeerConnection()&&(z.a.sendAnalytics(Object(de.A)("joined",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId)})),this._conferenceJoinAnalyticsEventSent=Date.now())},me.prototype._sendConferenceLeftAnalyticsEvent=function(){var e=this.getMeetingUniqueId();e&&this._conferenceJoinAnalyticsEventSent&&z.a.sendAnalytics(Object(de.A)("left",{meetingId:e,participantId:"".concat(e,".").concat(this._statsCurrentId),stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}))},me.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this._stopP2PSession({reasonDescription:"restart",requestRestart:!0}),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,(function(e){he.warn("An error occurred while trying to terminate the JVB session",e)}),{reason:"success",reasonDescription:"restart required",requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1)},me.prototype.isE2EEEnabled=function(){return Boolean(this._e2eEncryption&&this._e2eEncryption.isEnabled())},me.prototype.isE2EESupported=function(){return M.a.isSupported(this.options.config)},me.prototype.toggleE2EE=function(e){this.isE2EESupported()?this._e2eEncryption.setEnabled(e):he.warn("Cannot enable / disable E2EE: platform is not supported.")},me.prototype.setMediaEncryptionKey=function(e){this._e2eEncryption.setEncryptionKey(e)},me.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported())},me.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled)},me.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error("The conference not started or user is not moderator"))},me.prototype.disableLobby=function(){this.room&&this.isModerator()?this.room.getLobby().disable():he.warn("Failed to disable lobby, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator"))},me.prototype.joinLobby=function(e,t){return this.room?this.room.getLobby().join(e,t):Promise.reject(new Error("The conference not started"))},me.prototype.myLobbyUserId=function(){if(this.room)return this.room.getLobby().getLocalId()},me.prototype.sendLobbyMessage=function(e,t){if(this.room)return t?this.room.getLobby().sendPrivateMessage(t,e):this.room.getLobby().sendMessage(e)},me.prototype.addLobbyMessageListener=function(e){if(this.room)return this.room.getLobby().addMessageListener(e)},me.prototype.removeLobbyMessageHandler=function(e){if(this.room)return this.room.getLobby().removeMessageHandler(e)},me.prototype.lobbyDenyAccess=function(e){this.room&&this.room.getLobby().denyAccess(e)},me.prototype.lobbyApproveAccess=function(e){this.room&&this.room.getLobby().approveAccess(e)},me.prototype.isAVModerationSupported=function(){return Boolean(this.room&&this.room.getAVModeration().isSupported())},me.prototype.enableAVModeration=function(e){this.room&&this.isModerator()&&(e===se.a.AUDIO||e===se.a.VIDEO)?this.room.getAVModeration().enable(!0,e):he.warn("Failed to enable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},me.prototype.disableAVModeration=function(e){this.room&&this.isModerator()&&(e===se.a.AUDIO||e===se.a.VIDEO)?this.room.getAVModeration().enable(!1,e):he.warn("Failed to disable AV moderation, ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},me.prototype.avModerationApprove=function(e,t){if(this.room&&this.isModerator()&&(e===se.a.AUDIO||e===se.a.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().approve(e,n.getJid())}else he.warn("AV moderation approve skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},me.prototype.avModerationReject=function(e,t){if(this.room&&this.isModerator()&&(e===se.a.AUDIO||e===se.a.VIDEO)){var n=this.getParticipantById(t);if(!n)return;this.room.getAVModeration().reject(e,n.getJid())}else he.warn("AV moderation reject skipped , ".concat(this.room?"":"not in a room, ").concat(this.isModerator()?"":"participant is not a moderator, ").concat(this.room&&this.isModerator()?"wrong media type passed":""))},me.prototype.getBreakoutRooms=function(){var e;return null===(e=this.room)||void 0===e?void 0:e.getBreakoutRooms()},me.prototype.getLocalUser=function(){if(this.user)return this.user},me.prototype.terminate=function(){this.sendCommand("terminate",{})},me.prototype.handleSubtitles=function(){var e=this,t={},n="transcription-result",r="translation-result";this.on(m.ENDPOINT_MESSAGE_RECEIVED,(function(i,o){var a,s,c,u,l,d;if(o&&(o.type===n||o.type===r)){var f=e.getLocalParticipantProperty("translation_language");try{var p=o.message_id,h=o.participant.name,v={transcriptMessageID:p};if(o.type===r&&o.language===f)v.final=o.text,v.participantName=h;else if(o.type===n&&!f){var g=o.transcript[0].text;t.transcriptMessageID===p?v=t:v.participantName=h,o.is_interim?o.stability>.85?(v.stable=g,v.unstable=void 0):v.unstable=g:v.final=g}var y="";if(v.final)y=v.final;else y=(v.stable||"")+(v.unstable||"");var _=(null===(u=null===(c=null===(s=e.participants[null===(a=null===o||void 0===o?void 0:o.participant)||void 0===a?void 0:a.id])||void 0===s?void 0:s._identity)||void 0===c?void 0:c.user)||void 0===u?void 0:u.name)||(null===(l=null===e||void 0===e?void 0:e.getLocalUser())||void 0===l?void 0:l.name);e.eventEmitter.emit(m.SUBTITLES_RECEIVED,null===(d=null===o||void 0===o?void 0:o.participant)||void 0===d?void 0:d.id,_,y)}catch(b){he.error("Error occurred while updating transcriptions\n",b)}}}))},me.prototype.enableAnalytics=function(){var e=this;this.statistics.addAnalyticsEventListener((function(t,n){var r="",i={};"string"===typeof t?(r=t,i=n):"object"===typeof t&&(r=t.name,i=t);var o={name:r,action:i.action?i.action:"",actionSubject:i.actionSubject?i.actionSubject:"",source:i.source?i.source:"",attributes:JSON.stringify(n)};e.eventEmitter.emit(m.ANALYTICS_EVENT_RECEIVED,o)}))},me.prototype.startLocalRecording=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogg";this.recordingController.startRecording(e)},me.prototype.stopLocalRecording=function(){this.recordingController.stopRecording()},me.prototype.switchFormat=function(){this.recordingController.switchFormat(format)},me.prototype.setMuted=function(e){this.recordingController.setMuted(e)},me.prototype.setMicDevice=function(e){this.recordingController.setMicDevice(e)},me.prototype.startSIPVideoCall=function(e,t){if(!this.sessions[e]){var n=this.createVideoSIPGWSession(e,t);this.sessions[e]=n,n.start()}},me.prototype.stopSIPVideoCall=function(e){this.sessions[e]&&(this.sessions[e].stop(),delete this.sessions[e])}}).call(this,"/index.js")},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(10),i=n(7),o=n(44),a=n(4),s=n(110),c=n(17),u=n(221),l=n.n(u),d=n(8),f=n(18),p=n(32),h=n(180),m=n.n(h),v=n(23),g=n(2),y=Object(r.getLogger)(e);function _(e){this.conference=e,this.xmppListeners={},e.on(a.TRACK_MUTE_CHANGED,(function(t){if(t.isLocal()&&e.statistics){var n=t.isP2P?e.p2pJingleSession:e.jvbJingleSession,r=n&&n.peerconnection||null;e.statistics.sendMuteEvent(r,t.isMuted(),t.getType())}}))}_.prototype.setupChatRoomListeners=function(){var e=this,t=this.conference,n=t.room;this.chatRoomForwarder=new l.a(n,this.conference.eventEmitter),n.addListener(g.XMPPEvents.ICE_RESTARTING,(function(e){e.isP2P||t.rtc.closeBridgeChannel()})),n.addListener(g.XMPPEvents.PARTICIPANT_FEATURES_CHANGED,(function(e,n){var r=t.getParticipantById(i.Strophe.getResourceFromJid(e));r&&(r.setFeatures(n),t.eventEmitter.emit(a.PARTCIPANT_FEATURES_CHANGED,r))})),n.addListener(g.XMPPEvents.ICE_RESTART_SUCCESS,(function(e,n){!e.isP2P&&t._setBridgeChannel(n,e.peerconnection)})),n.addListener(g.XMPPEvents.AUDIO_MUTED_BY_FOCUS,(function(e){c.a.sendAnalytics(Object(v.J)(d.a.AUDIO)),t.mutedByFocusActor=e,t.rtc.setAudioMute(!0).then((function(){t.isMutedByFocus=!0,t.mutedByFocusActor=null})).catch((function(e){t.mutedByFocusActor=null,y.warn("Error while audio muting due to focus request",e)}))})),n.addListener(g.XMPPEvents.VIDEO_MUTED_BY_FOCUS,(function(e){c.a.sendAnalytics(Object(v.J)(d.a.VIDEO)),t.mutedVideoByFocusActor=e,t.rtc.setVideoMute(!0).then((function(){t.isVideoMutedByFocus=!0,t.mutedVideoByFocusActor=null})).catch((function(e){t.mutedVideoByFocusActor=null,y.warn("Error while video muting due to focus request",e)}))})),this.chatRoomForwarder.forward(g.XMPPEvents.SUBJECT_CHANGED,a.SUBJECT_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_JOINED,a.CONFERENCE_JOINED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_JOIN_IN_PROGRESS,a.CONFERENCE_JOIN_IN_PROGRESS),this.chatRoomForwarder.forward(g.XMPPEvents.MEETING_ID_SET,a.CONFERENCE_UNIQUE_ID_SET),n.addListener(g.XMPPEvents.MUC_JOINED,(function(){e.conference._onMucJoined(),e.conference.isJvbConnectionInterrupted=!1,Object.keys(n.connectionTimes).forEach((function(e){var t=Object(v.C)("conference_".concat(e),{value:n.connectionTimes[e]});c.a.sendAnalytics(t)})),Object.keys(n.xmpp.connectionTimes).forEach((function(e){var t=Object(v.C)("xmpp_".concat(e),{value:n.xmpp.connectionTimes[e]});c.a.sendAnalytics(t)}))})),n.addListener(g.XMPPEvents.RENEGOTIATION_FAILED,(function(e,n){n.isP2P||t.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,e)})),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_JOIN_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,a.CONFERENCE_FAILED,o.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,a.CONFERENCE_FAILED,o.MEMBERS_ONLY_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.ROOM_MAX_USERS_ERROR,a.CONFERENCE_FAILED,o.CONFERENCE_MAX_USERS),n.addListener(g.XMPPEvents.ROOM_MAX_USERS_ERROR,(function(){return t.leave()})),this.chatRoomForwarder.forward(g.XMPPEvents.PASSWORD_REQUIRED,a.CONFERENCE_FAILED,o.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(g.XMPPEvents.AUTHENTICATION_REQUIRED,a.CONFERENCE_FAILED,o.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(g.XMPPEvents.BRIDGE_DOWN,a.CONFERENCE_FAILED,o.VIDEOBRIDGE_NOT_AVAILABLE),n.addListener(g.XMPPEvents.BRIDGE_DOWN,(function(){return c.a.sendAnalytics(Object(v.z)())})),n.addListener(g.XMPPEvents.CONNECTION_RESTARTED,(function(e){t._onConferenceRestarted(e)})),this.chatRoomForwarder.forward(g.XMPPEvents.RESERVATION_ERROR,a.CONFERENCE_FAILED,o.RESERVATION_ERROR),n.addListener(g.XMPPEvents.RESERVATION_ERROR,(function(){return t.leave()})),this.chatRoomForwarder.forward(g.XMPPEvents.GRACEFUL_SHUTDOWN,a.CONFERENCE_FAILED,o.GRACEFUL_SHUTDOWN),n.addListener(g.XMPPEvents.CONNECTION_ICE_FAILED,(function(e){t._onIceConnectionFailed(e)})),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_DESTROYED,a.CONFERENCE_FAILED,o.CONFERENCE_DESTROYED),n.addListener(g.XMPPEvents.MUC_DESTROYED,(function(){return t.leave()})),this.chatRoomForwarder.forward(g.XMPPEvents.CHAT_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.CHAT_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.SETTINGS_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.SETTINGS_ERROR),this.chatRoomForwarder.forward(g.XMPPEvents.FOCUS_DISCONNECTED,a.CONFERENCE_FAILED,o.FOCUS_DISCONNECTED),n.addListener(g.XMPPEvents.FOCUS_LEFT,(function(){c.a.sendAnalytics(Object(v.D)()),t.eventEmitter.emit(a.CONFERENCE_FAILED,o.FOCUS_LEFT)})),n.addListener(g.XMPPEvents.SESSION_ACCEPT_TIMEOUT,(function(e){c.a.sendAnalyticsAndLog(Object(v.F)(v.b,{p2p:e.isP2P}))})),n.addListener(g.XMPPEvents.RECORDER_STATE_CHANGED,(function(e,n){if(n){var r=i.Strophe.getResourceFromJid(n),o=t.getParticipantById(r)||r;"off"===e.getStatus()?e.setTerminator(o):"on"===e.getStatus()&&e.setInitiator(o)}t.eventEmitter.emit(a.RECORDER_STATE_CHANGED,e)})),this.chatRoomForwarder.forward(g.XMPPEvents.TRANSCRIPTION_STATUS_CHANGED,a.TRANSCRIPTION_STATUS_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.VIDEO_SIP_GW_AVAILABILITY_CHANGED,a.VIDEO_SIP_GW_AVAILABILITY_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,a.VIDEO_SIP_GW_SESSION_STATE_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.PHONE_NUMBER_CHANGED,a.PHONE_NUMBER_CHANGED),n.setParticipantPropertyListener((function(e,n){var r=t.getParticipantById(n);r&&r.setProperty(e.tagName.substring(18),e.value)})),n.addListener(g.XMPPEvents.KICKED,t.onMemberKicked.bind(t)),n.addListener(g.XMPPEvents.SUSPEND_DETECTED,t.onSuspendDetected.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOCK_CHANGED,a.LOCK_STATE_CHANGED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,a.MEMBERS_ONLY_CHANGED),n.addListener(g.XMPPEvents.MUC_MEMBER_JOINED,t.onMemberJoined.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,a.LOBBY_USER_JOINED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,a.LOBBY_USER_UPDATED),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,a.LOBBY_USER_LEFT),n.addListener(g.XMPPEvents.MUC_MEMBER_BOT_TYPE_CHANGED,t._onMemberBotTypeChanged.bind(t)),n.addListener(g.XMPPEvents.MUC_MEMBER_LEFT,t.onMemberLeft.bind(t)),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_LEFT,a.CONFERENCE_LEFT),this.chatRoomForwarder.forward(g.XMPPEvents.MUC_DENIED_ACCESS,a.CONFERENCE_FAILED,o.CONFERENCE_ACCESS_DENIED),n.addListener(g.XMPPEvents.DISPLAY_NAME_CHANGED,t.onDisplayNameChanged.bind(t)),n.addListener(g.XMPPEvents.LOCAL_ROLE_CHANGED,(function(e){t.onLocalRoleChanged(e),t.statistics&&t.isModerator()&&t.on(a.RECORDER_STATE_CHANGED,(function(e){var t={error:e.getError(),id:"recorder_status",status:e.getStatus()};c.a.sendLog(JSON.stringify(t))}))})),n.addListener(g.XMPPEvents.MUC_ROLE_CHANGED,t.onUserRoleChanged.bind(t)),n.addListener(m.a.IDENTITY_UPDATED,(function(e,n){t.authEnabled=e,t.authIdentity=n,t.eventEmitter.emit(a.AUTH_STATUS_CHANGED,e,n)})),n.addListener(g.XMPPEvents.MESSAGE_RECEIVED,(function(e,n,r,o){var s=i.Strophe.getResourceFromJid(e);-1===n.indexOf("Transcript")&&-1===n.indexOf("Fellow Jitser")&&t.eventEmitter.emit(a.MESSAGE_RECEIVED,s,n,o)})),n.addListener(g.XMPPEvents.PRIVATE_MESSAGE_RECEIVED,(function(e,n,r,o){var s=i.Strophe.getResourceFromJid(e);t.eventEmitter.emit(a.PRIVATE_MESSAGE_RECEIVED,s,n,o)})),n.addListener(g.XMPPEvents.PRESENCE_STATUS,(function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o&&o._status!==n&&(o._status=n,t.eventEmitter.emit(a.USER_STATUS_CHANGED,r,n))})),n.addListener(g.XMPPEvents.JSON_MESSAGE_RECEIVED,(function(e,n){var r=i.Strophe.getResourceFromJid(e),o=t.getParticipantById(r);o?t.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,o,n):t.eventEmitter.emit(a.NON_PARTICIPANT_MESSAGE_RECEIVED,r,n)})),n.addPresenceListener("startmuted",(function(e,n){var r=!1;if(t.myUserId()===n&&t.isModerator())r=!0;else{var i=t.getParticipantById(n);i&&i.isModerator()&&(r=!0)}if(r){var o="true"===e.attributes.audio,s="true"===e.attributes.video,c=!1;o!==t.startMutedPolicy.audio&&(t.startMutedPolicy.audio=o,c=!0),s!==t.startMutedPolicy.video&&(t.startMutedPolicy.video=s,c=!0),c&&t.eventEmitter.emit(a.START_MUTED_POLICY_CHANGED,t.startMutedPolicy)}})),t.statistics&&(n.addListener(g.XMPPEvents.CONNECTION_ICE_FAILED,(function(e){t.statistics.sendIceConnectionFailedEvent(e.peerconnection)})),n.addListener(g.XMPPEvents.ADD_ICE_CANDIDATE_FAILED,(function(e,n){t.statistics.sendAddIceCandidateFailed(e,n)}))),this.chatRoomForwarder.forward(g.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,a.BREAKOUT_ROOMS_MOVE_TO_ROOM),this.chatRoomForwarder.forward(g.XMPPEvents.BREAKOUT_ROOMS_UPDATED,a.BREAKOUT_ROOMS_UPDATED)},_.prototype.setupRTCListeners=function(){var e=this.conference,t=e.rtc;t.addListener(f.default.REMOTE_TRACK_ADDED,e.onRemoteTrackAdded.bind(e)),t.addListener(f.default.REMOTE_TRACK_REMOVED,e.onRemoteTrackRemoved.bind(e)),t.addListener(f.default.DOMINANT_SPEAKER_CHANGED,(function(t,n){var r;if(!(null===(r=e.participants[t])||void 0===r?void 0:r._hidden)&&e.lastDominantSpeaker!==t&&e.room){if(e.lastDominantSpeaker=t,e.eventEmitter.emit(a.DOMINANT_SPEAKER_CHANGED,t,n),n&&n.length){var i=n.slice(0);e.myUserId!==t&&i.splice(0,0,t),i.length>s.b&&i.splice(s.b,i.length-s.b),e.statistics&&e.statistics.setSpeakerList(i)}e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent(e.room.roomjid)}})),t.addListener(f.default.DATA_CHANNEL_OPEN,(function(){var t=window.performance.now(),n="data.channel.opened";y.log("(TIME) ".concat(n,":\t"),t),e.room.connectionTimes[n]=t,c.a.sendAnalytics(Object(v.C)(n,{value:t})),e.eventEmitter.emit(a.DATA_CHANNEL_OPENED)})),t.addListener(f.default.ENDPOINT_MESSAGE_RECEIVED,(function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,r,n):y.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing "+"participant: ".concat(t),n)})),t.addListener(f.default.ENDPOINT_STATS_RECEIVED,(function(t,n){var r=e.getParticipantById(t);r?e.eventEmitter.emit(a.ENDPOINT_STATS_RECEIVED,r,n):y.warn("Ignoring ENDPOINT_STATS_RECEIVED for a non-existant participant: ".concat(t))})),t.addListener(f.default.LOCAL_UFRAG_CHANGED,(function(e,t){e.isP2P||c.a.sendLog(JSON.stringify({id:"local_ufrag",value:t}))})),t.addListener(f.default.REMOTE_UFRAG_CHANGED,(function(e,t){e.isP2P||c.a.sendLog(JSON.stringify({id:"remote_ufrag",value:t}))})),t.addListener(f.default.CREATE_ANSWER_FAILED,(function(t,n){e.statistics.sendCreateAnswerFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.CREATE_OFFER_FAILED,(function(t,n){e.statistics.sendCreateOfferFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.SET_LOCAL_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetLocalDescFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.SET_REMOTE_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetRemoteDescFailed(t,n),n.isP2P||e.eventEmitter.emit(a.CONFERENCE_FAILED,o.OFFER_ANSWER_FAILED,t)})),t.addListener(f.default.LOCAL_TRACK_SSRC_UPDATED,(function(t,n){t.isVideoTrack()&&t.videoType===p.VideoType.DESKTOP&&e.statistics.sendScreenSharingEvent(!0,n)}))},_.prototype.removeXMPPListeners=function(){var e=this,t=this.conference;Object.keys(this.xmppListeners).forEach((function(n){t.xmpp.removeListener(n,e.xmppListeners[n])})),this.xmppListeners={}},_.prototype.setupXMPPListeners=function(){var e=this.conference;this._addConferenceXMPPListener(g.XMPPEvents.CALL_INCOMING,e.onIncomingCall.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.CALL_ACCEPTED,e.onCallAccepted.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.TRANSPORT_INFO,e.onTransportInfo.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.CALL_ENDED,e.onCallEnded.bind(e)),this._addConferenceXMPPListener(g.XMPPEvents.START_MUTED_FROM_FOCUS,(function(t,n){e.options.config.ignoreStartMuted||(e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach((function(t){switch(t.getType()){case d.a.AUDIO:e.startAudioMuted&&t.mute();break;case d.a.VIDEO:e.startVideoMuted&&t.mute()}})),e.eventEmitter.emit(a.STARTED_MUTED))})),this._addConferenceXMPPListener(g.XMPPEvents.CONFERENCE_TIMESTAMP_RECEIVED,(function(t){e.eventEmitter.emit(a.CONFERENCE_CREATED_TIMESTAMP,t)})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_CHANGED,(function(t,n,r){var i=e.getParticipants().find((function(e){return e.getJid()===r}));e.eventEmitter.emit(a.AV_MODERATION_CHANGED,{enabled:t,mediaType:n,actor:i})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,(function(t,n){var r=e.getParticipantById(i.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(a.AV_MODERATION_PARTICIPANT_APPROVED,{participant:r,mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,(function(t,n){var r=e.getParticipantById(i.Strophe.getResourceFromJid(n));r&&e.eventEmitter.emit(a.AV_MODERATION_PARTICIPANT_REJECTED,{participant:r,mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_APPROVED,(function(t){return e.eventEmitter.emit(a.AV_MODERATION_APPROVED,{mediaType:t})})),this._addConferenceXMPPListener(g.XMPPEvents.AV_MODERATION_REJECTED,(function(t){e.eventEmitter.emit(a.AV_MODERATION_REJECTED,{mediaType:t})}))},_.prototype._addConferenceXMPPListener=function(e,t){this.xmppListeners[e]=t,this.conference.xmpp.addListener(e,t)},_.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener((function(t,n,r,i){e.rtc.setAudioLevel(t,n,r,i)})),e.statistics.addBeforeDisposedListener((function(){e.eventEmitter.emit(a.BEFORE_STATISTICS_DISPOSED)})),e.options.config.startSilent||e.statistics.addByteSentStatsListener((function(t,n){e.getLocalTracks(d.a.AUDIO).forEach((function(e){var r=t.getLocalSSRC(e);r&&n.hasOwnProperty(r)&&e.onByteSentStatsReceived(t,n[r])}))})))}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return d}));var i=n(6),o=n(5),a=n(24),s=n(25),c=n(90),u=n(10),l=Object(u.getLogger)(e),d=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),e=t.call(this),l.info("This appears to be ".concat(e.getName(),", ver: ").concat(e.getVersion())),e}return Object(o.a)(n,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isWebKitBased()||this.isFirefox()}},{key:"isChromiumBased",value:function(){return(this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera())&&!this.isWebKitBased()}},{key:"isIosBrowser",value:function(){var e=navigator,t=e.userAgent,n=e.maxTouchPoints,r=e.platform;return Boolean(t.match(/iP(ad|hone|od)/i))||n&&n>2&&/MacIntel/.test(r)}},{key:"isWebKitBased",value:function(){return this._bowser.isEngine("webkit")&&"undefined"!==typeof navigator.mediaDevices&&"undefined"!==typeof navigator.mediaDevices.getUserMedia&&"undefined"!==typeof window.RTCRtpTransceiver&&Object.keys(RTCRtpTransceiver.prototype).indexOf("currentDirection")>-1}},{key:"isTwa",value:function(){return"matchMedia"in window&&window.matchMedia("(display-mode:standalone)").matches}},{key:"isSupported",value:function(){return!(this.isSafari()&&this._getSafariVersion()<14)&&(this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isWebKitBased())}},{key:"isSupportedAndroidBrowser",value:function(){return this.isChromiumBased()||this.isFirefox()}},{key:"isSupportedIOSBrowser",value:function(){return this._getIOSVersion()>=14}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan("68")}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isWebKitBased()}},{key:"supportsCodecPreferences",value:function(){return Boolean(window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype&&window.RTCRtpReceiver&&"undefined"!==typeof window.RTCRtpReceiver.getCapabilities)&&!this.isWebKitBased()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&"undefined"!==typeof navigator.mediaDevices.ondevicechange&&"undefined"!==typeof navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"supportsPerformanceObserver",value:function(){return"undefined"!==typeof window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf("longtask")>-1}},{key:"supportsReceiverStats",value:function(){return"undefined"!==typeof window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf("getSynchronizationSources")>-1&&!this.isWebKitBased()}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"supportsVP9",value:function(){return this.isChromiumBased()||this.isReactNative()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isWebKitBased()}},{key:"usesAdapter",value:function(){return!this.isReactNative()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return"undefined"!==typeof navigator.getDisplayMedia||"undefined"!==typeof navigator.mediaDevices&&"undefined"!==typeof navigator.mediaDevices.getDisplayMedia}},{key:"supportsEncodedTransform",value:function(){return Boolean(window.RTCRtpScriptTransform)}},{key:"supportsInsertableStreams",value:function(){if("undefined"===typeof window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams)return!1;var e=new ReadableStream;try{return window.postMessage(e,"*",[e]),!0}catch(t){return!1}}},{key:"supportsAudioRed",value:function(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities("audio").codecs.some((function(e){return"audio/red"===e.mimeType}))&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("audio").codecs.some((function(e){return"audio/red"===e.mimeType})))}},{key:"supportsUnifiedPlan",value:function(){return!(this.isReactNative()||this.isElectron()&&this._getChromiumBasedVersion()<96)}},{key:"supportsVADDetection",value:function(){return this.isChromiumBased()}},{key:"supportsRTX",value:function(){return!(this.isFirefox()&&this.isVersionLessThan("96"))}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(r.versions.chromium,10);var e=navigator.userAgent;if(e.match(/Chrome/))return Number.parseInt(e.match(/Chrome\/([\d.]+)/)[1],10)}return-1}},{key:"_getSafariVersion",value:function(){return this.isSafari()?Number.parseInt(this.getVersion(),10):-1}},{key:"_getIOSVersion",value:function(){return this.isWebKitBased()?Number.parseInt(this.getVersion(),10):-1}}]),n}(c.a)}).call(this,"/index.js",n(139))},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===typeof module&&module.exports,AMD=__webpack_require__(321),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"===typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var r,i,o=0,a=e.length,s=this.blocks,c=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)c[i++]=e[o];else for(i=this.start;o<a&&i<64;++o)s[i>>2]|=e[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)(r=e.charCodeAt(o))<128?c[i++]=r:r<2048?(c[i++]=192|r>>6,c[i++]=128|63&r):r<55296||r>=57344?(c[i++]=224|r>>12,c[i++]=128|r>>6&63,c[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),c[i++]=240|r>>18,c[i++]=128|r>>12&63,c[i++]=128|r>>6&63,c[i++]=128|63&r);else for(i=this.start;o<a&&i<64;++o)(r=e.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,i,o,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+a[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((o=(r=((r+=((i=t^n)^(e=((e+=(i^r)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(o^t)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[10]-1051523)<<15|n>>>17)+r<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[2]+718787259)<<15|n>>>17)+r<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",i=this.array(),o=0;o<15;)e=i[o++],t=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=i[o],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(139),__webpack_require__(103))},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=r.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=i.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find((function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return Object.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),s=a.find((function(e){return t.isOS(e)}));if(s){var c=this.satisfies(n[s]);if(void 0!==c)return c}var u=a.find((function(e){return t.isPlatform(e)}));if(u){var l=this.satisfies(n[u]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i).find((function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows/i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},function(e,t,n){"use strict";(function(e){var r=n(6),i=n(5),o=n(10),a=n(23),s=n(11),c=Object(o.getLogger)(e),u=function(){function e(){Object(r.a)(this,e),this.reset()}return Object(i.a)(e,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName="",this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:s.a.getName()})}},{key:"dispose",value:function(){c.warn("Disposing of analytics adapter."),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach((function(e){"function"===typeof e.dispose&&e.dispose()})),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(e){var t=this;if(!this.disposed){this.analyticsHandlers=new Set(e),this._setUserProperties();var n=this.cache;this.cache=null,n&&n.forEach((function(e){return t._sendEvent(e)}))}}},{key:"_setUserProperties",value:function(){var e=this;this.analyticsHandlers.forEach((function(t){try{t.setUserProperties(e.permanentProperties)}catch(n){c.warn("Error in setUserProperties method of one of the "+"analytics handlers: ".concat(n))}}))}},{key:"addPermanentProperties",value:function(e){this.permanentProperties=Object.assign(Object.assign({},this.permanentProperties),e),this._setUserProperties()}},{key:"setConferenceName",value:function(e){this.conferenceName=e,this.addPermanentProperties({conference_name:e})}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var n=null;"string"===typeof e?n={type:a.t,action:e,actionSubject:e,source:e,attributes:t}:"object"===typeof e&&(n=e),this._verifyRequiredFields(n)?this._sendEvent(n):c.error("Dropping a mis-formatted event: ".concat(JSON.stringify(n)))}}},{key:"_verifyRequiredFields",value:function(e){if(!e)return!1;e.type||(e.type=a.t);var t=e.type;return t!==a.t&&t!==a.u&&t!==a.w&&t!==a.v?(c.error("Unknown event type: ".concat(t)),!1):t===a.u?Boolean(e.name):(e.action=e.action||e.name||e.actionSubject,e.actionSubject=e.actionSubject||e.name||e.action,e.source=e.source||e.name||e.action||e.actionSubject,e.action&&e.actionSubject&&e.source?!!(t!==a.v||(e.objectType=e.objectType||"generic-object-type",e.containerType=e.containerType||"conference","conference"!==e.containerType||e.containerId||(e.containerId=this.conferenceName),e.objectType&&e.objectId&&e.containerType&&e.containerId))||(c.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(c.error("Required field missing (action, actionSubject or source)"),!1))}},{key:"_maybeCacheEvent",value:function(e){return!!this.cache&&(this.cache.push(e),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(e){this._maybeCacheEvent(e)||this.analyticsHandlers.forEach((function(t){try{t.sendEvent(e)}catch(n){c.warn("Error sending analytics event: ".concat(n))}}))}}]),e}();t.a=new u}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(62),c=n(74),u=Object(a.getLogger)(e),l=function(){function e(t,n){Object(i.a)(this,e),this.eventEmitter=t,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=n,this.stats=new c.a}return Object(o.a)(e,[{key:"getLongTasksStats",value:function(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration}}},{key:"startObserver",value:function(){var e=this;this.longTaskEventHandler=function(t){var n,i=t.getEntries(),o=Object(r.a)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;e.longTasks++,e.maxDuration=Math.max(e.maxDuration,a.duration).toFixed(3)}}catch(s){o.e(s)}finally{o.f()}},u.info("Creating a Performance Observer for monitoring Long Tasks"),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:"longtask",buffered:!0});var t=Date.now();this.longTasksIntervalId=setInterval((function(){var n=Date.now(),r=e._lastTimeStamp?(n-e._lastTimeStamp)/1e3:(n-t)/1e3,i=e.longTasks/r;e.stats.addNext(i),e.eventEmitter.emit(s.e,e.getLongTasksStats()),e.longTasks=0,e._lastTimeStamp=Date.now()}),this.performanceStatsInterval)}},{key:"stopObserver",value:function(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(30),i=n(12),o=n(10),a=n(8),s=n(62),c=n(11),u=n(20),l=n(36),d=Object(o.getLogger)(e);function f(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function p(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec=""}function h(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function m(e,t,n,r){this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=r,this.conferenceStats=new h,this.audioLevelsIntervalMilis=t,this.speakerList=[],this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats=new Map}p.prototype.setLoss=function(e){this.loss=e||{}},p.prototype.setResolution=function(e){this.resolution=e||{}},p.prototype.addBitrate=function(e){this.bitrate.download+=e.download,this.bitrate.upload+=e.upload},p.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},p.prototype.setFramerate=function(e){this.framerate=e||0},p.prototype.setCodec=function(e){this.codec=e||""},m.prototype.setSpeakerList=function(e){this.speakerList=e},m.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},m.prototype.errorCallback=function(e){l.callErrorHandler(e),d.error("Get stats error",e),this.stop()},m.prototype.start=function(e){var t=this;e&&(c.a.supportsReceiverStats()&&d.info("Using RTCRtpSynchronizationSource for remote audio levels"),this.audioLevelsIntervalId=setInterval((function(){if(c.a.supportsReceiverStats()){var e=t.peerconnection.getAudioLevels(t.speakerList);for(var n in e)if(e.hasOwnProperty(n)){var r=2.5*e[n];t.eventEmitter.emit(s.a,t.peerconnection,Number.parseInt(n,10),r,!1)}}else t.peerconnection.getStats().then((function(e){t.currentAudioLevelsReport="function"===typeof(null===e||void 0===e?void 0:e.result)?e.result():e,t.processAudioLevelReport(),t.baselineAudioLevelsReport=t.currentAudioLevelsReport})).catch((function(e){return t.errorCallback(e)}))}),this.audioLevelsIntervalMilis));var n=function(){t.peerconnection.getStats().then((function(e){t.currentStatsReport="function"===typeof(null===e||void 0===e?void 0:e.result)?e.result():e;try{t.processStatsReport()}catch(n){l.callErrorHandler(n),d.error("Processing of RTP stats failed:",n)}t.previousStatsReport=t.currentStatsReport})).catch((function(e){return t.errorCallback(e)}))};n(),this.statsIntervalId=setInterval(n,this.statsIntervalMilis)},m.prototype._processAndEmitReport=function(){var e,t,n,o=this,a={download:0,upload:0},c={download:0,upload:0},l=0,p=0,h={},m={},v={},g=0,y=0,_=0,b=0,E=Object(i.a)(this.ssrc2stats);try{for(E.s();!(n=E.n()).done;){var S=Object(r.a)(n.value,2),C=S[0],T=S[1],O=T.loss,R=O.isDownloadStream?"download":"upload";a[R]+=O.packetsTotal,c[R]+=O.packetsLost,l+=T.bitrate.download,p+=T.bitrate.upload;var A=this.peerconnection.getTrackBySSRC(C);if(A)if(A.isAudioTrack()?(g+=T.bitrate.download,y+=T.bitrate.upload,e=T.codec):(_+=T.bitrate.download,b+=T.bitrate.upload,t=T.codec),u.a.isSourceNameSignalingEnabled()){var w=A.getSourceName();if(w){var k=T.resolution;if(k.width&&k.height&&-1!==k.width&&-1!==k.height&&(h[w]=k),0!==T.framerate&&(m[w]=T.framerate),e&&t){var P={audio:e,video:t};v[w]=P}}else d.error("No source name returned by ".concat(A))}else{var N=A.getParticipantId();if(N){var I=T.resolution;if(I.width&&I.height&&-1!==I.width&&-1!==I.height){var D=h[N]||{};D[C]=I,h[N]=D}if(0!==T.framerate){var M=m[N]||{};M[C]=T.framerate,m[N]=M}if(e&&t){var x={audio:e,video:t},L=v[N]||{};L[C]=x,v[N]=L}}else d.error("No participant ID returned by ".concat(A))}T.resetBitrate()}}catch(U){E.e(U)}finally{E.f()}this.conferenceStats.bitrate={upload:p,download:l},this.conferenceStats.bitrate.audio={upload:y,download:g},this.conferenceStats.bitrate.video={upload:b,download:_},this.conferenceStats.packetLoss={total:f(c.download+c.upload,a.download+a.upload),download:f(c.download,a.download),upload:f(c.upload,a.upload)};var j,F={};Object.keys(this.audioLevelReportHistory).forEach((function(e){var t=o.audioLevelReportHistory[e],n=t.data,r=t.isLocal,i=n.reduce((function(e,t){return e+t}))/n.length;if(r)j=i;else{var a=o.peerconnection.getTrackBySSRC(Number(e));if(a){var s=a.getParticipantId();s&&(F[s]=i)}}})),this.audioLevelReportHistory={},this.eventEmitter.emit(s.d,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:h,framerate:m,codec:v,transport:this.conferenceStats.transport,localAvgAudioLevels:j,avgAudioLevels:F}),this.conferenceStats.transport=[]},m.prototype.getNonNegativeValue=function(e){var t=e;return"number"!==typeof t&&(t=Number(t)),isNaN(t)?0:Math.max(0,t)},m.prototype._calculateBitrate=function(e,t,n){var r=this.getNonNegativeValue(e[n]),i=this.getNonNegativeValue(t[n]),o=Math.max(0,r-i),a=e.timestamp-t.timestamp,s=0;return a>0&&(s=Math.round(8*o/a)),s},m.prototype.processStatsReport=function(){var e=this;if(this.previousStatsReport){var t={};this.currentStatsReport.forEach((function(n){if("candidate-pair"===n.type&&n.nominated&&"succeeded"===n.state){var r=n.availableIncomingBitrate,i=n.availableOutgoingBitrate;(r||i)&&(e.conferenceStats.bandwidth={download:Math.round(r/1e3),upload:Math.round(i/1e3)});var o=e.currentStatsReport.get(n.remoteCandidateId),s=e.currentStatsReport.get(n.localCandidateId);if(o&&s){var u=c.a.isChromiumBased()?o.ip:o.address,l=o.port,d="".concat(u,":").concat(l),f=c.a.isChromiumBased()?s.ip:s.address,h=s.port,m="".concat(f,":").concat(h),v=o.protocol,g=e.conferenceStats.transport;g.some((function(e){return e.ip===d&&e.type===v&&e.localip===m}))||g.push({ip:d,type:v,localip:m,p2p:e.peerconnection.isP2P,localCandidateType:s.candidateType,remoteCandidateType:o.candidateType,networkType:s.networkType,rtt:1e3*n.currentRoundTripTime})}}else if("inbound-rtp"===n.type||"outbound-rtp"===n.type){var y=e.previousStatsReport.get(n.id),_=e.getNonNegativeValue(n.ssrc);if(!y||!_)return;var b=e.ssrc2stats.get(_);b||(b=new p,e.ssrc2stats.set(_,b));var E=!0,S="packetsReceived";"outbound-rtp"===n.type&&(E=!1,S="packetsSent");var C=n[S];(!C||C<0)&&(C=0);var T=e.getNonNegativeValue(y[S]),O=Math.max(0,C-T),R=e.getNonNegativeValue(n.packetsLost),A=e.getNonNegativeValue(y.packetsLost),w=Math.max(0,R-A);if(b.setLoss({packetsTotal:O+w,packetsLost:w,isDownloadStream:E}),"inbound-rtp"===n.type){var k={height:n.frameHeight,width:n.frameWidth},P=n.framesPerSecond;k.height&&k.width&&b.setResolution(k),b.setFramerate(Math.round(P||0)),b.addBitrate({download:e._calculateBitrate(n,y,"bytesReceived"),upload:0})}else t[_]=e.getNonNegativeValue(n.bytesSent),b.addBitrate({download:0,upload:e._calculateBitrate(n,y,"bytesSent")});var N=e.currentStatsReport.get(n.codecId);if(N){var I=N.mimeType.split("/")[1];I&&b.setCodec(I)}}else if("track"===n.type&&n.kind===a.a.VIDEO&&!n.remoteSource){var D={height:n.frameHeight,width:n.frameWidth},M=e.peerconnection.getLocalTracks(a.a.VIDEO);if(!(null===M||void 0===M?void 0:M.length))return;var x=e.peerconnection.getSsrcByTrackId(n.trackIdentifier);if(!x)return;var L=e.ssrc2stats.get(x);L||(L=new p,e.ssrc2stats.set(x,L)),D.height&&D.width&&L.setResolution(D);var j=n.framesPerSecond;if(!j){var F=e.previousStatsReport.get(n.id);if(F){var U=n.timestamp-F.timestamp;if(U>0&&n.framesSent)j=(n.framesSent-F.framesSent)/U*1e3}if(!j)return}var V=e.peerconnection.getActiveSimulcastStreams();j=V?Math.round(j/V):0,L.setFramerate(j)}})),this.eventEmitter.emit(s.c,this.peerconnection,t),this._processAndEmitReport()}},m.prototype.processAudioLevelReport=function(){var e=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach((function(t){if("track"===t.type){var n=t.audioLevel;if(n){var r=t.trackIdentifier,i=e.peerconnection.getSsrcByTrackId(r);if(i){var o=i===e.peerconnection.getLocalSSRC(e.peerconnection.getLocalTracks(a.a.AUDIO));e.eventEmitter.emit(s.a,e.peerconnection,i,n,o)}}}}))}}).call(this,"/index.js")},function(e,t){function n(e,t){if(!e||!t||"function"!==typeof e.addListener||"function"!==typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t}n.prototype.forward=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t[0]=this.dest,this.src.addListener(r,Function.prototype.bind.apply(this.dest.emit,t))},e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),i=n(5),o=n(7),a=n(4),s=n(128),c=n(8),u=function(){function e(t,n,i,a,c,u,l,d,f){Object(r.a)(this,e),this._jid=t,this._id=o.Strophe.getResourceFromJid(t),this._conference=n,this._displayName=i,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=u,this._hidden=a,this._statsID=c,this._connectionStatus=s.a.ACTIVE,this._properties={},this._identity=l,this._isReplacing=d,this._isReplaced=f,this._features=new Set}return Object(i.a)(e,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(e){return this._properties[e]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some((function(e){return e.getType()===c.a.VIDEO&&e.isWebRTCTrackMuted()}))}},{key:"_setConnectionStatus",value:function(e){this._connectionStatus=e}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(a.PARTICIPANT_PROPERTY_CHANGED,this,e,n,t))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(e){return this.getTracks().filter((function(t){return t.getType()===e}))}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return"moderator"===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isHiddenFromRecorder",value:function(){var e,t;return Boolean(null===(t=null===(e=this._identity)||void 0===e?void 0:e.user)||void 0===t?void 0:t["hidden-from-recorder"])}},{key:"isReplacing",value:function(){return this._isReplacing}},{key:"isReplaced",value:function(){return this._isReplaced}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(c.a.AUDIO)}},{key:"_isMediaTypeMuted",value:function(e){return this.getTracks().reduce((function(t,n){return t&&(n.getType()!==e||n.isMuted())}),!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(c.a.VIDEO)}},{key:"getRole",value:function(){return this._role}},{key:"setRole",value:function(e){this._role=e}},{key:"setIsReplacing",value:function(e){this._isReplacing=e}},{key:"setIsReplaced",value:function(e){this._isReplaced=e}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){return Promise.resolve(this._features)}},{key:"hasFeature",value:function(e){return this._features.has(e)}},{key:"setFeatures",value:function(e){this._features=e||new Set}},{key:"getBotType",value:function(){return this._botType}},{key:"setBotType",value:function(e){this._botType=e}},{key:"getConnectionJid",value:function(){return this._connectionJid}},{key:"setConnectionJid",value:function(e){this._connectionJid=e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(61),i=n(56);function o(e){var t,n=this,o=e.id,a=e.password,s=e.onCreateResource,c=e.onLoginSuccessful,u=e.roomPassword,l=!1,d=new i.e(this.connection.options),f=new Promise((function(e,i){t=i,d.addListener(r.CONNECTION_DISCONNECTED,(function(){d=void 0})),d.addListener(r.CONNECTION_ESTABLISHED,(function(){l||(c&&c(),d.createRoom(n.options.name,n.options.config,s).moderator.authenticate().then((function(){d&&d.disconnect(),l||(n.join(u),e())})).catch((function(e){var t=e.error,n=e.message;d.disconnect(),i({authenticationError:t,message:n})})))})),d.addListener(r.CONNECTION_FAILED,(function(e,t,n){i({connectionError:e,credentials:n,message:t}),d=void 0})),l||d.connect(o,a)}));return f.cancel=function(){l=!0,t({}),d&&d.disconnect()},f}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(6),i=n(5),o=n(10),a=Object(o.getLogger)(e),s=Symbol("kJitsiE2EE"),c=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sharedKey;Object(r.a)(this,e);var n="",i=document.querySelector('script[src*="lib-jitsi-meet"]');if(i){var o=i.src.lastIndexOf("/");n="".concat(i.src.substring(0,o),"/")}var s="".concat(n,"lib-jitsi-meet.e2ee-worker.js");if(n&&"/"!==n){var c=new Blob(['importScripts("'.concat(s,'");')],{type:"application/javascript"});s=window.URL.createObjectURL(c)}this._worker=new Worker(s,{name:"E2EE Worker"}),this._worker.onerror=function(e){return a.error(e)},this._worker.postMessage({operation:"initialize",sharedKey:t})}return Object(i.a)(e,[{key:"cleanup",value:function(e){this._worker.postMessage({operation:"cleanup",participantId:e})}},{key:"cleanupAll",value:function(){this._worker.postMessage({operation:"cleanupAll"})}},{key:"handleReceiver",value:function(e,t,n){if(!e[s])if(e[s]=!0,window.RTCRtpScriptTransform){var r={operation:"decode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"decode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"handleSender",value:function(e,t,n){if(!e[s])if(e[s]=!0,window.RTCRtpScriptTransform){var r={operation:"encode",participantId:n};e.transform=new RTCRtpScriptTransform(this._worker,r)}else{var i=e.createEncodedStreams();this._worker.postMessage({operation:"encode",readableStream:i.readable,writableStream:i.writable,participantId:n},[i.readable,i.writable])}}},{key:"setKey",value:function(e,t,n){this._worker.postMessage({operation:"setKey",key:t,keyIndex:n,participantId:e})}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(16),i=n(6),o=n(5),a=n(29),s=n(24),c=n(25),u=n(10),l=n(181),d=n.n(l),f=n(4),p=n(155),h=n(142),m=n(182),v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},g=Object(u.getLogger)(e),y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._key=void 0,r._conferenceJoined=!1,r._olmAdapter=new h.a(e),r._rotateKey=d()(r._rotateKeyImpl,5e3),r._ratchetKey=d()(r._ratchetKeyImpl,5e3),r._olmAdapter.on(h.a.events.PARTICIPANT_KEY_UPDATED,r._onParticipantKeyUpdated.bind(Object(a.a)(r))),r.conference.on(f.PARTICIPANT_PROPERTY_CHANGED,r._onParticipantPropertyChanged.bind(Object(a.a)(r))),r.conference.on(f.USER_JOINED,r._onParticipantJoined.bind(Object(a.a)(r))),r.conference.on(f.USER_LEFT,r._onParticipantLeft.bind(Object(a.a)(r))),r.conference.on(f.CONFERENCE_JOINED,(function(){r._conferenceJoined=!0})),r}return Object(o.a)(n,[{key:"_setEnabled",value:function(e){return v(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this._olmAdapter.initSessions();case 3:t.next=6;break;case 5:this._olmAdapter.clearAllParticipantsSessions();case 6:return this._key=!!e&&this._generateKey(),t.next=9,this._olmAdapter.updateKey(this._key);case 9:n=t.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,n);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"_onParticipantPropertyChanged",value:function(e,t,n,i){return v(this,void 0,void 0,Object(r.a)().mark((function n(){return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="e2ee.idKey"===n.t0?3:"e2ee.enabled"===n.t0?5:7;break;case 3:return g.debug("Participant ".concat(e.getId()," updated their id key: ").concat(i)),n.abrupt("break",7);case 5:return!i&&this.enabled&&this._olmAdapter.clearParticipantSession(e),n.abrupt("break",7);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"_onParticipantJoined",value:function(){this._conferenceJoined&&this.enabled&&this._ratchetKey()}},{key:"_onParticipantLeft",value:function(e){this.e2eeCtx.cleanup(e),this.enabled&&this._rotateKey()}},{key:"_rotateKeyImpl",value:function(){return v(this,void 0,void 0,Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.debug("Rotating key"),this._key=this._generateKey(),e.next=4,this._olmAdapter.updateKey(this._key);case 4:t=e.sent,this.e2eeCtx.setKey(this.conference.myUserId(),this._key,t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_ratchetKeyImpl",value:function(){return v(this,void 0,void 0,Object(r.a)().mark((function e(){var t,n,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.debug("Ratchetting key"),e.next=3,Object(m.a)(this._key);case 3:return t=e.sent,e.next=6,Object(m.b)(t);case 6:n=e.sent,this._key=new Uint8Array(n),i=this._olmAdapter.updateCurrentKey(this._key),this.e2eeCtx.setKey(this.conference.myUserId(),this._key,i);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_onParticipantKeyUpdated",value:function(e,t,n){g.debug("Participant ".concat(e," updated their key")),this.e2eeCtx.setKey(e,t,n)}},{key:"_generateKey",value:function(){return window.crypto.getRandomValues(new Uint8Array(32))}}]),n}(p.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(6),i=n(5),o=n(10),a=n(131),s=n(227),c=Object(o.getLogger)(e),u=function(){function e(t){Object(r.a)(this,e),this._stropheConn=t,this._resumeRetryN=0,this._retryDelay=void 0}return Object(i.a)(e,[{key:"retryDelay",get:function(){return this._retryDelay}},{key:"schedule",value:function(){var e=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=a.b.addEventListener(a.a,(function(t){t.isOnline?e._scheduleResume():e._cancelResume()})),a.b.isOnline()&&this._scheduleResume()}},{key:"_scheduleResume",value:function(){var e=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=Object(s.a)(this._resumeRetryN,1500*this._resumeRetryN,3),c.info("Will try to resume the XMPP connection in ".concat(this.retryDelay,"ms")),this._resumeTimeout=setTimeout((function(){return e._resumeConnection()}),this.retryDelay))}},{key:"_cancelResume",value:function(){this._resumeTimeout&&(c.info("Canceling connection resume task"),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0)}},{key:"_resumeConnection",value:function(){var e=this._stropheConn.streamManagement,t=e.getResumeToken();if(t){c.info("Trying to resume the XMPP connection");var n=new URL(this._stropheConn.service),r=n.search,i=/(previd=)([\w-]+)/,o=r.match(i);o&&-1===o.indexOf(t)?r=r.replace(i,"$1".concat(t)):o||(r+=-1===r.indexOf("?")?"?previd=".concat(t):"&previd=".concat(t)),n.search=r,this._stropheConn.service=n.toString(),e.resume()}}},{key:"cancel",value:function(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,e)-t)+t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),i=n(5),o=function(){function e(){Object(r.a)(this,e),this._lastSuccess=null,this._lastFailedMessage=null}return Object(i.a)(e,[{key:"startTracking",value:function(e,t){var n=this,r=t.rawInput;t.rawInput=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=o[0];s.includes("failure")&&(n._lastFailedMessage=s),e.connected&&(n._lastSuccess=Date.now()),r.apply(t,o)}}},{key:"getLastFailedMessage",value:function(){return this._lastFailedMessage}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(6),i=n(5),o=n(67),a=n(53),s=n(24),c=n(25),u=n(10),l=n(7),d=n(36),f=n.n(d),p=n(97),h=Object(u.getLogger)(e),m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i,o=e.getTimeSinceLastServerResponse,a=e.onPingThresholdExceeded,s=e.pingOptions,c=void 0===s?{}:s;return Object(r.a)(this,n),(i=t.call(this)).failedPings=0,i._onPingThresholdExceeded=a,i._getTimeSinceLastServerResponse=o,i.pingInterval="number"===typeof c.interval?c.interval:1e4,i.pingTimeout="number"===typeof c.timeout?c.timeout:5e3,i.pingThreshold="number"===typeof c.threshold?c.threshold:2,i.pingTimestampsToKeep=Math.round(12e4/i.pingInterval),i.pingExecIntervals=new Array(i.pingTimestampsToKeep),i}return Object(i.a)(n,[{key:"init",value:function(e){Object(o.a)(Object(a.a)(n.prototype),"init",this).call(this,e),l.Strophe.addNamespace("PING","urn:xmpp:ping")}},{key:"ping",value:function(e,t,n,r){this._addPingExecutionTimestamp();var i=Object(l.$iq)({type:"get",to:e});i.c("ping",{xmlns:l.Strophe.NS.PING}),this.connection.sendIQ2(i,{timeout:r}).then(t,n)}},{key:"startInterval",value:function(e){var t=this;clearInterval(this.intervalId),this.intervalId=window.setInterval((function(){var n=Date.now();if(t._getTimeSinceLastServerResponse()<n-t._lastServerCheck)return t._addPingExecutionTimestamp(),t._lastServerCheck=n,void(t.failedPings=0);t.ping(e,(function(){t._lastServerCheck=t._getTimeSinceLastServerResponse()+Date.now(),t.failedPings=0}),(function(e){t.failedPings+=1;var n="Ping ".concat(e?"error":"timeout");t.failedPings>=t.pingThreshold?(f.a.callErrorHandler(new Error(n)),h.error(n,e),t._onPingThresholdExceeded&&t._onPingThresholdExceeded()):h.warn(n,e)}),t.pingTimeout)}),this.pingInterval),h.info("XMPP pings will be sent every ".concat(this.pingInterval," ms"))}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,h.info("Ping interval cleared"))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var e=this.pingExecIntervals.slice();e.push((new Date).getTime());var t=0,n=e[0];return e.forEach((function(e){var r=e-n;r>t&&(t=r),n=e})),t-=this.pingInterval,Math.max(t,0)}}]),n}(p.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(6),i=n(5),o=n(67),a=n(53),s=n(24),c=n(25),u=n(10),l=n(7),d=n(2),f=n(156),p=n(97),h=Object(u.getLogger)(e),m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).xmpp=e,i.rooms={},i}return Object(i.a)(n,[{key:"init",value:function(e){Object(o.a)(Object(a.a)(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null),this.connection.addHandler(this.onMuteVideo.bind(this),"http://jitsi.org/jitmeet/video","iq","set",null,null)}},{key:"createRoom",value:function(e,t,n){var r=l.Strophe.getBareJidFromJid(e);if(this.isRoomCreated(r)){var i="You are already in the room!";throw h.error(i),new Error(i)}return this.rooms[r]=new f.a(this.connection,e,t,this.xmpp,n),this.eventEmitter.emit(d.XMPPEvents.EMUC_ROOM_ADDED,this.rooms[r]),this.rooms[r]}},{key:"isRoomCreated",value:function(e){return e in this.rooms}},{key:"doLeave",value:function(e){this.eventEmitter.emit(d.XMPPEvents.EMUC_ROOM_REMOVED,this.rooms[e]),delete this.rooms[e]}},{key:"onPresence",value:function(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0)}},{key:"onPresenceUnavailable",value:function(e){var t=e.getAttribute("from"),n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceUnavailable(e,t),!0)}},{key:"onPresenceError",value:function(e){var t=e.getAttribute("from"),n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||(n.onPresenceError(e,t),!0)}},{key:"onMessage",value:function(e){var t=e.getAttribute("from"),n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||(n.onMessage(e,t),!0)}},{key:"onMute",value:function(e){var t=e.getAttribute("from"),n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||(n.onMute(e),!0)}},{key:"onMuteVideo",value:function(e){var t=e.getAttribute("from"),n=this.rooms[l.Strophe.getBareJidFromJid(t)];return!n||(n.onMuteVideo(e),!0)}}]),n}(p.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(9),i=n(6),o=n(5),a=n(10),s=n(7),c=n(8),u=n(2),l=Object(a.getLogger)(e),d=function(){function e(t){var n;Object(i.a)(this,e),this._xmpp=t.xmpp,this._mainRoom=t,this._moderationEnabledByType=(n={},Object(r.a)(n,c.a.AUDIO,!1),Object(r.a)(n,c.a.VIDEO,!1),n),this._whitelistAudio=[],this._whitelistVideo=[],this._onMessage=this._onMessage.bind(this),this._xmpp.addListener(u.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}return Object(o.a)(e,[{key:"dispose",value:function(){this._xmpp.removeListener(u.XMPPEvents.AV_MODERATION_RECEIVED,this._onMessage)}},{key:"isSupported",value:function(){return Boolean(this._xmpp.avModerationComponentAddress)}},{key:"enable",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator())if(e!==this._moderationEnabledByType[t]){var n=Object(s.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{enable:e,mediaType:t}).up(),this._xmpp.connection.send(n)}else l.warn("Moderation already in state:".concat(e," for mediaType:").concat(t));else l.error("Cannot enable:".concat(e," AV moderation supported:").concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"approve",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=Object(s.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToWhitelist:t}).up(),this._xmpp.connection.send(n)}else l.error("Cannot approve in AV moderation supported:".concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"reject",value:function(e,t){if(this.isSupported()&&this._mainRoom.isModerator()){var n=Object(s.$msg)({to:this._xmpp.avModerationComponentAddress});n.c("av_moderation",{mediaType:e,jidToBlacklist:t}).up(),this._xmpp.connection.send(n)}else l.error("Cannot reject in AV moderation supported:".concat(this.isSupported(),",\n                moderator:").concat(this._mainRoom.isModerator()))}},{key:"_onMessage",value:function(e){var t=this,n=e.removed,r=e.mediaType,i=e.enabled,o=e.approved,a=e.actor,s=e.whitelists;if(s){var l=r===c.a.AUDIO?this._whitelistAudio:this._whitelistVideo,d=Array.isArray(s[r])?s[r]:[];n?l.filter((function(e){return!d.includes(e)})).forEach((function(e){return t._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_PARTICIPANT_REJECTED,r,e)})):d.filter((function(e){return!l.includes(e)})).forEach((function(e){return t._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_PARTICIPANT_APPROVED,r,e)})),r===c.a.AUDIO?this._whitelistAudio=d:this._whitelistVideo=d}else void 0!==i&&this._moderationEnabledByType[r]!==i?(this._moderationEnabledByType[r]=i,this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_CHANGED,i,r,a)):n?this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_REJECTED,r):o&&this._xmpp.eventEmitter.emit(u.XMPPEvents.AV_MODERATION_APPROVED,r)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(6),i=n(5),o=n(10),a=n(7),s=n(2),c="features/breakout-rooms",u={ADD:"".concat(c,"/add"),REMOVE:"".concat(c,"/remove"),MOVE_TO_ROOM:"".concat(c,"/move-to-room")},l="".concat(c,"/move-to-room"),d="".concat(c,"/update"),f=Object(o.getLogger)(e),p=function(){function e(t){Object(r.a)(this,e),this.room=t,this._handleMessages=this._handleMessages.bind(this),this.room.xmpp.addListener(s.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages),this._rooms={}}return Object(i.a)(e,[{key:"dispose",value:function(){this.room.xmpp.removeListener(s.XMPPEvents.BREAKOUT_ROOMS_EVENT,this._handleMessages)}},{key:"createBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:u.ADD,subject:e};this._sendMessage(t)}else f.error("Cannot create breakout room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"removeBreakoutRoom",value:function(e){if(this.isSupported()&&this.room.isModerator()){var t={type:u.REMOVE,breakoutRoomJid:e};this._sendMessage(t)}else f.error("Cannot remove breakout room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"sendParticipantToRoom",value:function(e,t){if(this.isSupported()&&this.room.isModerator()){var n={type:u.MOVE_TO_ROOM,participantJid:e,roomJid:t};this._sendMessage(n)}else f.error("Cannot send participant to room - supported:".concat(this.isSupported(),",\n                moderator:").concat(this.room.isModerator()))}},{key:"isSupported",value:function(){return Boolean(this.getComponentAddress())}},{key:"getComponentAddress",value:function(){return this.room.xmpp.breakoutRoomsComponentAddress}},{key:"_setIsBreakoutRoom",value:function(e){this._isBreakoutRoom=e}},{key:"isBreakoutRoom",value:function(){return"undefined"!==typeof this._isBreakoutRoom?this._isBreakoutRoom:a.Strophe.getDomainFromJid(this.room.myroomjid)===this.getComponentAddress()}},{key:"_setMainRoomJid",value:function(e){this._mainRoomJid=e}},{key:"getMainRoomJid",value:function(){return this._mainRoomJid}},{key:"_handleMessages",value:function(e){switch(e.event){case l:this.room.eventEmitter.emit(s.XMPPEvents.BREAKOUT_ROOMS_MOVE_TO_ROOM,e.roomJid);break;case d:this._rooms=e.rooms,this.room.eventEmitter.emit(s.XMPPEvents.BREAKOUT_ROOMS_UPDATED,e)}}},{key:"_sendMessage",value:function(e){var t=Object(a.$msg)({to:this.getComponentAddress()});t.c("breakout_rooms",e).up(),this.room.xmpp.connection.send(t)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(6),i=n(5),o=n(10),a=n(7),s=n(2),c=Object(o.getLogger)(e),u="email",l=function(){function e(t){var n=this;Object(r.a)(this,e),this.xmpp=t.xmpp,this.mainRoom=t;var i=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(s.XMPPEvents.LOCAL_ROLE_CHANGED,i),this.mainRoom.addEventListener(s.XMPPEvents.MUC_MEMBERS_ONLY_CHANGED,i),this.mainRoom.addEventListener(s.XMPPEvents.ROOM_CONNECT_MEMBERS_ONLY_ERROR,(function(e){n.lobbyRoomJid=e}))}return Object(i.a)(e,[{key:"isSupported",value:function(){return this.xmpp.lobbySupported}},{key:"enable",value:function(){var e=this;return this.isSupported()?new Promise((function(t,n){e.mainRoom.setMembersOnly(!0,t,n)})):Promise.reject(new Error("Lobby not supported!"))}},{key:"disable",value:function(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1)}},{key:"sendMessage",value:function(e){this.lobbyRoom&&this.lobbyRoom.sendMessage(JSON.stringify(e),"json-message")}},{key:"sendPrivateMessage",value:function(e,t){this.lobbyRoom&&this.lobbyRoom.sendPrivateMessage(e,JSON.stringify(t),"json-message")}},{key:"getLocalId",value:function(){if(this.lobbyRoom)return a.Strophe.getResourceFromJid(this.lobbyRoom.myroomjid)}},{key:"addMessageListener",value:function(e){if(this.lobbyRoom){var t=function(t,n){e(n,a.Strophe.getResourceFromJid(t))};return this.lobbyRoom.on(s.XMPPEvents.JSON_MESSAGE_RECEIVED,t),t}}},{key:"removeMessageHandler",value:function(e){this.lobbyRoom&&this.lobbyRoom.off(s.XMPPEvents.JSON_MESSAGE_RECEIVED,e)}},{key:"leave",value:function(){var e=this;return this.lobbyRoom?this.lobbyRoom.leave().then((function(){e.lobbyRoom=void 0,c.info("Lobby room left!")})).catch((function(){})):Promise.reject(new Error("The lobby has already been left"))}},{key:"setLobbyRoomJid",value:function(e){this.lobbyRoomJid=e}},{key:"_maybeJoinLobbyRoom",value:function(){this.isSupported()&&(this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then((function(){return c.info("Joined lobby room")})).catch((function(e){return c.error("Failed joining lobby",e)})))}},{key:"join",value:function(e,t){var n=this,r=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error("Missing lobbyRoomJid, cannot join lobby room."));var i=a.Strophe.getNodeFromJid(this.lobbyRoomJid),o=a.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(i,{customDomain:o,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),e&&this.lobbyRoom.addOrReplaceInPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),r?(this.lobbyRoom.addPresenceListener(u,(function(e,t){n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_LOBBY_MEMBER_UPDATED,t,{email:e.value})})),this.lobbyRoom.addEventListener(s.XMPPEvents.MUC_MEMBER_JOINED,(function(e,t,r,i,o,c,u,l,d){if(!Object.values(n.mainRoom.members).find((function(e){return e.jid===d}))){for(var f=0,p=Object.values(n.mainRoom.getBreakoutRooms()._rooms);f<p.length;f++){var h=p[f];if(Object.values(h.participants).find((function(e){return e.jid===d})))return}n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_LOBBY_MEMBER_JOINED,a.Strophe.getResourceFromJid(e),t,u?u.avatar:void 0)}})),this.lobbyRoom.addEventListener(s.XMPPEvents.MUC_MEMBER_LEFT,(function(e){n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,a.Strophe.getResourceFromJid(e))})),this.lobbyRoom.addEventListener(s.XMPPEvents.MUC_DESTROYED,(function(){Object.keys(n.lobbyRoom.members).forEach((function(e){return n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_LOBBY_MEMBER_LEFT,a.Strophe.getResourceFromJid(e))})),n.lobbyRoom.clean(),n.lobbyRoom=void 0,c.info("Lobby room left(destroyed)!")}))):(this.lobbyRoom.addEventListener(s.XMPPEvents.KICKED,(function(e){if(e)return n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_DENIED_ACCESS),void n.lobbyRoom.clean()})),this.mainRoom.addEventListener(s.XMPPEvents.INVITE_MESSAGE_RECEIVED,(function(e,t,r,i){c.debug("Received approval to join ".concat(e," ").concat(t," ").concat(r)),e===n.mainRoom.roomjid&&n.mainRoom.join(i)})),this.lobbyRoom.addEventListener(s.XMPPEvents.MUC_DESTROYED,(function(e,t){t?n.mainRoom.join():(n.lobbyRoom.clean(),n.mainRoom.eventEmitter.emit(s.XMPPEvents.MUC_DESTROYED,e))})),this.mainRoom.addEventListener(s.XMPPEvents.MUC_JOINED,(function(){n.leave()}))),new Promise((function(e,i){n.lobbyRoom.addEventListener(s.XMPPEvents.MUC_JOINED,(function(){e(),t&&!r&&n.lobbyRoom.addOrReplaceInPresence(u,{value:t})&&n.lobbyRoom.sendPresence()})),n.lobbyRoom.addEventListener(s.XMPPEvents.ROOM_JOIN_ERROR,i),n.lobbyRoom.addEventListener(s.XMPPEvents.ROOM_CONNECT_NOT_ALLOWED_ERROR,i),n.lobbyRoom.addEventListener(s.XMPPEvents.ROOM_CONNECT_ERROR,i),n.lobbyRoom.join()}))}},{key:"denyAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find((function(t){return a.Strophe.getResourceFromJid(t)===e}));t?this.lobbyRoom.kick(t):c.error("Not found member for ".concat(e," in lobby room."))}}},{key:"approveAccess",value:function(e){if(this.isSupported()&&this.mainRoom.isModerator()){var t=this.mainRoom.roomjid;this.mainRoom.getBreakoutRooms().isBreakoutRoom()&&(t=this.mainRoom.getBreakoutRooms().getMainRoomJid());var n=Object.keys(this.lobbyRoom.members).find((function(t){return a.Strophe.getResourceFromJid(t)===e}));if(n){var r=this.lobbyRoom.members[n].jid,i=Object(a.$msg)({to:t}).c("x",{xmlns:"http://jabber.org/protocol/muc#user"}).c("invite",{to:r});this.xmpp.connection.sendIQ(i,(function(){}),(function(e){c.error("Error sending invite for ".concat(r),e)}))}else c.error("Not found member for ".concat(n," in lobby room."))}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(10),i=n(7),o=n(71),a=n(180),s=n(2).XMPPEvents,c=n(36),u=Object(r.getLogger)(e);function l(e){var t=1;return function(n){if(!n){var r=Math.pow(2,t-1);return t+=1,r*e}t=1}}function d(e,t,n,r){function i(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void u.warn("Ignoring sessionId from different origin: ".concat(e.origin));o.a.sessionId=e.data.sessionId}}this.roomName=e,this.xmppService=t,this.getNextTimeout=l(1e3),this.getNextErrorTimeout=l(1e3),this.externalAuthEnabled=!1,this.options=r,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i)}d.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},d.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},d.prototype.onMucMemberLeft=function(e){"focus"===i.Strophe.getResourceFromJid(e)&&(u.info("Focus has left the room - leaving conference"),this.eventEmitter.emit(s.FOCUS_LEFT))},d.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,u.info("Focus jid set to:  ".concat(this.focusUserJid)))},d.prototype.getFocusUserJid=function(){return this.focusUserJid},d.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus.".concat(this.options.connection.hosts.domain)),e},d.prototype.createConferenceIq=function(){var e,t,n,r=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),a=o.a.sessionId,s=o.a.machineId,c=this.options.conference;u.info("Session ID: ".concat(a," machine UID: ").concat(s)),r.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":s}),a&&r.attrs({"session-id":a}),r.c("property",{name:"disableRtx",value:Boolean(c.disableRtx)}).up(),void 0!==c.audioPacketDelay&&r.c("property",{name:"audioPacketDelay",value:c.audioPacketDelay}).up(),c.startBitrate&&r.c("property",{name:"startBitrate",value:c.startBitrate}).up(),c.minBitrate&&r.c("property",{name:"minBitrate",value:c.minBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&r.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&r.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up();var l=null!==(n=null===(t=null===(e=this.options.conference)||void 0===e?void 0:e.analytics)||void 0===t?void 0:t.rtcstatsEnabled)&&void 0!==n&&n;l||r.c("property",{name:"rtcstatsEnabled",value:l}).up();var d=this.options.conference,f=d.callStatsID,p=d.callStatsSecret,h=d.disableThirdPartyRequests,m=d.enableCallStats,v=!f||!p||!m||!0===h;return v&&r.c("property",{name:"callstatsEnabled",value:!v}).up(),r.up(),r},d.prototype.parseSessionId=function(e){var t=$(e).find("conference").attr("session-id");t&&(u.info("Received sessionId:  ".concat(t)),o.a.sessionId=t)},d.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find("conference").attr("focusjid"));var t=$(e).find(">conference>property[name='authentication'][value='true']").length>0;u.info("Authentication enabled: ".concat(t)),this.externalAuthEnabled=$(e).find(">conference>property[name='externalAuth'][value='true']").length>0,u.info("External authentication enabled: ".concat(this.externalAuthEnabled)),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(">conference").attr("identity");this.eventEmitter.emit(a.IDENTITY_UPDATED,t,n),$(e).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),u.info("Sip gateway enabled:  ".concat(this.sipGatewayEnabled))},d.prototype.allocateConferenceFocus=function(){var e=this;return new Promise((function(t){e.setFocusUserJid(e.options.connection.focusUserJid),e.connection.sendIQ(e.createConferenceIq(),(function(n){return e._allocateConferenceFocusSuccess(n,t)}),(function(n){return e._allocateConferenceFocusError(n,t)})),e.connection.flush()}))},d.prototype._allocateConferenceFocusError=function(e,t){var n=this,r=$(e).find(">error>session-invalid").length||$(e).find(">error>not-acceptable").length;if(r&&(u.info("Session expired! - removing"),o.a.sessionId=void 0),$(e).find(">error>graceful-shutdown").length)this.eventEmitter.emit(s.GRACEFUL_SHUTDOWN);else{var a=$(e).find(">error>reservation-error");if(a.length){var l,d=a.attr("error-code"),f=$(e).find(">error>text");return f&&(l=f.text()),void this.eventEmitter.emit(s.RESERVATION_ERROR,d,l)}if($(e).find(">error>not-authorized").length)return u.warn("Unauthorized to start the conference",e),i.Strophe.getDomainFromJid(e.getAttribute("to"))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(s.AUTHENTICATION_REQUIRED);var p=this.getNextErrorTimeout(),h="Focus error, retry after ".concat(p);c.callErrorHandler(new Error(h)),u.error(h,e);var m=this.getFocusComponent(),v=p/1e3;r||this.eventEmitter.emit(s.FOCUS_DISCONNECTED,m,v),this.getNextTimeout(!0),window.setTimeout((function(){return n.allocateConferenceFocus().then(t)}),p)}},d.prototype._allocateConferenceFocusSuccess=function(e,t){var n=this;if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var r=this.getNextTimeout();u.info("Waiting for the focus... ".concat(r)),window.setTimeout((function(){return n.allocateConferenceFocus().then(t)}),r)}},d.prototype.authenticate=function(){var e=this;return new Promise((function(t,n){e.connection.sendIQ(e.createConferenceIq(),(function(n){e.parseSessionId(n),t()}),(function(e){return n({error:$(e).find("iq>error :first").prop("tagName"),message:$(e).find("iq>error>text").text()})}))}))},d.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},d.prototype._getLoginUrl=function(e,t,n){var r=Object(i.$iq)({to:this.getFocusComponent(),type:"get"}),a={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":o.a.machineId},s="auth url";function l(e,t){c.callErrorHandler(new Error(e)),u.error(e,t),n(t)}e&&(a.popup=!0,s="POPUP ".concat(s)),r.c("login-url",a),this.connection.sendIQ(r,(function(e){var n=$(e).find("login-url").attr("url");(n=decodeURIComponent(n))?(u.info("Got ".concat(s,": ").concat(n)),t(n)):l("Failed to get ".concat(s," from the focus"),e)}),l.bind(void 0,"Get ".concat(s," error")))},d.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},d.prototype.logout=function(e){var t=Object(i.$iq)({to:this.getFocusComponent(),type:"set"}),n=o.a.sessionId;n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),this.connection.sendIQ(t,(function(t){var n=$(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),u.info("Log out OK, url: ".concat(n),t),o.a.sessionId=void 0,e(n)}),(function(e){var t="Logout error";c.callErrorHandler(new Error(t)),u.error(t,e)}))):e()}}).call(this,"/index.js")},function(e,t,n){var r=n(114),i=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function(){var e=r.randomElement(i),t=r.randomAlphanumStr(3);return"".concat(e,"-").concat(t)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(12),i=n(6),o=n(5),a=n(67),s=n(53),c=n(24),u=n(25),l=n(10),d=n(7),f=n(8),p=n(23),h=n(2),m=n(17),v=n(36),g=n.n(v),y=n(114),_=n.n(y),b=n(97),E=n(237),S=n(143),C=Object(l.getLogger)(e);function T(e){var t=$(e).find(">candidate"),n=[];return t.each((function(e,t){for(var r=t.attributes,i=[],o=0;o<r.length;o++){var a=r[o];i.push("".concat(a.name,": ").concat(a.value))}n.push(i.join(" "))})),n}var O=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,r,o){var a;return Object(i.a)(this,n),(a=t.call(this)).xmpp=e,a.eventEmitter=r,a.sessions={},a.jvbIceConfig=o.jvb,a.p2pIceConfig=o.p2p,a.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},a}return Object(o.a)(n,[{key:"init",value:function(e){Object(a.a)(Object(s.a)(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)}},{key:"onJingle",value:function(e){var t,n=$(e).find("jingle").attr("sid"),i=$(e).find("jingle").attr("action"),o=e.getAttribute("from"),a=Object(d.$iq)({type:"result",to:o,id:e.getAttribute("id")}),s=this.sessions[n];if("session-initiate"!==i){if(!s)return a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),C.warn("invalid session id: ".concat(n)),C.debug(e),this.connection.send(a),!0;if(o!==s.remoteJid)return C.warn("jid mismatch for session id",n,s.remoteJid,e),a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(a),!0}else if(void 0!==s)return a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),C.warn("duplicate session id",n,e),this.connection.send(a),!0;var c=window.performance.now(),u="focus"!==d.Strophe.getResourceFromJid(o),l=$(e).find("jingle>json-message");if(null===l||void 0===l?void 0:l.length){var v;C.info("Found a JSON-encoded element in ".concat(i,", translating to standard Jingle."));for(var y=0;y<l.length;y++)v=Object(E.a)(e,l[y]);if(null===v||void 0===v?void 0:v.size){var _,b=[],O=Object(r.a)(v.keys());try{for(O.s();!(_=O.n()).done;){var R=_.value;b.push("".concat(R,":[").concat(v.get(R),"]"))}}catch(z){O.e(z)}finally{O.f()}C.debug("Received ".concat(i," from ").concat(o," with sources=").concat(b.join(", ")))}}switch(i){case"session-initiate":C.log("(TIME) received session-initiate:\t",c);var A=$(e).find("jingle>startmuted");if(u&&C.debug("Received ".concat(i," from ").concat(o)),null===A||void 0===A?void 0:A.length){var w=A.attr(f.a.AUDIO),k=A.attr(f.a.VIDEO);this.eventEmitter.emit(h.XMPPEvents.START_MUTED_FROM_FOCUS,"true"===w,"true"===k)}var P=u?this.p2pIceConfig:this.jvbIceConfig;s=new S.a($(e).find("jingle").attr("sid"),$(e).attr("to"),o,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(P)),u,!1),this.sessions[s.sid]=s,this.eventEmitter.emit(h.XMPPEvents.CALL_INCOMING,s,$(e).find(">jingle"),c);break;case"session-accept":var N,I=[],D=$(e).find("jingle>content"),M=Object(r.a)(D);try{for(M.s();!(N=M.n()).done;){var x=N.value,L=$(x).find("description").attr("ssrc");L&&I.push(L)}}catch(z){M.e(z)}finally{M.f()}C.debug("Received ".concat(i," from ").concat(o," with ssrcs=").concat(I)),this.eventEmitter.emit(h.XMPPEvents.CALL_ACCEPTED,s,$(e).find(">jingle"));break;case"content-modify":var j=$(e).find('jingle>content[name="video"]>max-frame-height');C.debug("Received ".concat(i," from ").concat(o," with a max-frame-height=").concat(null===j||void 0===j?void 0:j.text())),s.modifyContents($(e).find(">jingle"));break;case"transport-info":var F=T($(e).find("jingle>content>transport"));C.debug("Received ".concat(i," from ").concat(o," for candidates=").concat(F.join(", "))),this.eventEmitter.emit(h.XMPPEvents.TRANSPORT_INFO,s,$(e).find(">jingle"));break;case"session-terminate":C.log("terminating...",s.sid);var U=null,V=null;$(e).find(">jingle>reason").length&&(U=$(e).find(">jingle>reason>:first")[0].tagName,V=$(e).find(">jingle>reason>text").text()),C.debug("Received ".concat(i," from ").concat(o," disconnect reason=").concat(V)),this.terminate(s.sid,U,V),this.eventEmitter.emit(h.XMPPEvents.CALL_ENDED,s,U,V);break;case"transport-replace":C.info("(TIME) Start transport replace:\t",c);var H=$(e).find("jingle>content>transport"),B=T(H),G=$(H).attr("ufrag"),J=$(H).attr("pwd"),W=null===(t=$(H).find(">fingerprint"))||void 0===t?void 0:t.text();C.debug("Received ".concat(i," from ").concat(o," with iceUfrag=").concat(G,",")+" icePwd=".concat(J,", DTLS fingerprint=").concat(W,", candidates=").concat(B.join(", "))),m.a.sendAnalytics(Object(p.F)(p.f,{p2p:u,value:c})),s.replaceTransport($(e).find(">jingle"),(function(){var e=window.performance.now();C.info("(TIME) Transport replace success:\t",e),m.a.sendAnalytics(Object(p.F)(p.g,{p2p:u,value:e}))}),(function(e){g.a.callErrorHandler(e),C.error("Transport replace failed",e),s.sendTransportReject()}));break;case"source-add":s.addRemoteStream($(e).find(">jingle>content"));break;case"source-remove":s.removeRemoteStream($(e).find(">jingle>content"));break;default:C.warn("jingle action not implemented",i),a.attrs({type:"error"}),a.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up()}return this.connection.send(a),!0}},{key:"newP2PJingleSession",value:function(e,t){var n=new S.a(_.a.randomHexString(12),e,t,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[n.sid]=n,n}},{key:"terminate",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!==this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:"getStunAndTurnCredentials",value:function(){var e=this;this.connection.sendIQ(Object(d.$iq)({type:"get",to:this.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:2"}),(function(t){return e.onReceiveStunAndTurnCredentials(t)}),(function(){C.warn("getting turn credentials with extdisco:2 failed, trying extdisco:1"),e.connection.sendIQ(Object(d.$iq)({type:"get",to:e.xmpp.options.hosts.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}),(function(t){return e.onReceiveStunAndTurnCredentials(t)}),(function(){C.warn("getting turn credentials failed"),C.warn("is mod_turncredentials or similar installed and configured?")}))}))}},{key:"onReceiveStunAndTurnCredentials",value:function(e){var t=[];$(e).find(">services>service").each((function(e,n){var r={},i=(n=$(n)).attr("type");switch(i){case"stun":r.urls="stun:".concat(n.attr("host")),n.attr("port")&&(r.urls+=":".concat(n.attr("port"))),t.push(r);break;case"turn":case"turns":r.urls="".concat(i,":"),r.username=n.attr("username"),r.urls+=n.attr("host"),n.attr("port")&&(r.urls+=":".concat(n.attr("port")));var o=n.attr("transport");o&&"udp"!==o&&(r.urls+="?transport=".concat(o)),r.credential=n.attr("password")||r.credential,t.push(r)}}));for(var n,r=this.xmpp.options,i=t.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),a=t[i];t[i]=t[o],t[o]=a}return n=r.useTurnUdp?function(e){return e.urls.startsWith("turn")}:function(e){return e.urls.startsWith("turn")&&e.urls.indexOf("transport=tcp")>=0},this.jvbIceConfig.iceServers=t.filter(n),this.p2pIceConfig.iceServers=t,t.length>0}},{key:"getLog",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach((function(n){var r=e.sessions[n].peerconnection;r&&r.updateLog&&(t["jingle_".concat(n)]={updateLog:r.updateLog,stats:r.stats,url:window.location.href})})),t}}]),n}(b.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(10),i=n(7),o=n(8),a=n(20),s=Object(r.getLogger)(e);function c(e,t){var n=Object(i.$build)("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:t.s,name:a.a.isSourceNameSignalingEnabled()?t.n:void 0});return t.m&&n.c("parameter",{name:"msid",value:t.m}).up(),n.c("ssrc-info",{xmlns:"http://jitsi.org/jitmeet",owner:e}).up(),n.node}function u(e){for(var t=Object(i.$build)("ssrc-group",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",semantics:d(e[0])}),n=1;n<e.length;n++)t.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",ssrc:e[n]}).up();return t.node}function l(e,t){var n,r=$(e).find("jingle")[0],o=$(r).find('content[name="'.concat(t,'"]'));return o.length?o=o[0]:(o=Object(i.$build)("content",{name:t}).node,r.appendChild(o)),(n=$(o).find("description")).length?n=n[0]:(n=Object(i.$build)("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:t}).node,o.appendChild(n)),n}function d(e){return"f"===e?"FID":"s"===e?"SIM":null}function f(e,t){var n,r,i;try{i=JSON.parse(t.textContent)}catch(T){return s.error("json-message XML contained invalid JSON, ignoring: ".concat(t.textContent)),null}if(!(null===i||void 0===i?void 0:i.sources))return null;var a=l(e,o.a.AUDIO),d=l(e,o.a.VIDEO),f=new Map;for(var p in i.sources)if(i.sources.hasOwnProperty(p)){var h=[],m=i.sources[p],v=(null===m||void 0===m?void 0:m.length)&&m[0],g=(null===m||void 0===m?void 0:m.length)>1&&m[1],y=(null===m||void 0===m?void 0:m.length)>2&&m[2],_=(null===m||void 0===m?void 0:m.length)>3&&m[3];if(null===v||void 0===v?void 0:v.length)for(var b=0;b<v.length;b++)d.appendChild(c(p,v[b])),h.push(null===(n=v[b])||void 0===n?void 0:n.s);if(null===g||void 0===g?void 0:g.length)for(var E=0;E<g.length;E++)d.appendChild(u(g[E]));if(null===y||void 0===y?void 0:y.length)for(var S=0;S<y.length;S++)a.appendChild(c(p,y[S])),h.push(null===(r=y[S])||void 0===r?void 0:r.s);if(null===_||void 0===_?void 0:_.length)for(var C=0;C<_.length;C++)a.appendChild(u(_[C]));f.set(p,h)}return f}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(6),i=n(5),o=n(10),a=n(239),s=Object(o.getLogger)(e),c=function(){function e(){Object(r.a)(this,e),this._queue=Object(a.a)(this._processQueueTasks.bind(this),1),this._stopped=!1}return Object(i.a)(e,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(e,t){try{e(t)}catch(n){s.error("Task failed: ".concat(null===n||void 0===n?void 0:n.stack)),t(n)}}},{key:"push",value:function(e,t){this._stopped?t&&t(new Error("The queue has been stopped")):this._queue.push(e,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r=n(9),i=n(16),o=n(6),a=n(5),s=n(31),c=n(30);function u(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();return e.call(this,n,i)}}var l="function"===typeof queueMicrotask&&queueMicrotask,d="function"===typeof setImmediate&&setImmediate,f="object"===typeof process&&"function"===typeof process.nextTick;function p(e){setTimeout(e,0)}function h(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e((function(){return t.apply(void 0,r)}))}}var m=h(l?queueMicrotask:d?setImmediate:f?process.nextTick:p);function v(e){return _(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();return g(e.apply(this,n),i)}:u((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return g(r,n);n(null,r)}))}function g(e,t){return e.then((function(e){y(t,null,e)}),(function(e){y(t,e&&e.message?e:new Error(e))}))}function y(e,t,n){try{e(t,n)}catch(r){m((function(e){throw e}),r)}}function _(e){return"AsyncFunction"===e[Symbol.toStringTag]}function b(e){if("function"!==typeof e)throw new Error("expected a function");return _(e)?v(e):e}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(!t)throw new Error("arity is undefined");return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return"function"===typeof i[t-1]?e.apply(this,i):new Promise((function(r,o){i[t-1]=function(e){if(e)return o(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r(n.length>1?n:n[0])},e.apply(n,i)}))}}function S(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return E((function(n){var i=this;return e(t,(function(e,t){b(e).apply(i,r.concat(t))}),n)}))}}function C(e,t,n,r){t=t||[];var i=[],o=0,a=b(n);return e(t,(function(e,t,n){var r=o++;a(e,(function(e,t){i[r]=t,n(e)}))}),(function(e){r(e,i)}))}function T(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}var O={};function R(e){function t(){if(null!==e){var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}return Object.assign(t,e),t}function A(e){if(T(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function i(){var o=t[++n];return"__proto__"===o?i():n<r?{value:e[o],key:o}:null}}(e)}function w(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}function k(e,t,n,r){var i=!1,o=!1,a=!1,s=0,c=0;function u(){s>=t||a||i||(a=!0,e.next().then((function(e){var t=e.value,d=e.done;if(!o&&!i){if(a=!1,d)return i=!0,void(s<=0&&r(null));s++,n(t,c,l),c++,u()}})).catch(d))}function l(e,t){if(s-=1,!o)return e?d(e):!1===e?(i=!0,void(o=!0)):t===O||i&&s<=0?(i=!0,r(null)):void u()}function d(e){o||(a=!1,i=!0,r(e))}u()}var P=function(e){return function(t,n,r){if(r=R(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if("AsyncGenerator"===t[Symbol.toStringTag])return k(t,e,n,r);if(function(e){return"function"===typeof e[Symbol.asyncIterator]}(t))return k(t[Symbol.asyncIterator](),e,n,r);var i=A(t),o=!1,a=!1,s=0,c=!1;function u(e,t){if(!a)if(s-=1,e)o=!0,r(e);else if(!1===e)o=!0,a=!0;else{if(t===O||o&&s<=0)return o=!0,r(null);c||l()}}function l(){for(c=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,w(u))}c=!1}l()}};var N=E((function(e,t,n,r){return P(t)(e,b(n),r)}),4);function I(e,t,n){n=R(n);var r=0,i=0,o=e.length,a=!1;function s(e,t){!1===e&&(a=!0),!0!==a&&(e?n(e):++i!==o&&t!==O||n(null))}for(0===o&&n(null);r<o;r++)t(e[r],r,w(s))}function D(e,t,n){return N(e,1/0,t,n)}var M=E((function(e,t,n){return(T(e)?I:D)(e,b(t),n)}),3);var x=E((function(e,t,n){return C(M,e,t,n)}),3);S(x);var L=E((function(e,t,n){return N(e,1,t,n)}),3);var j=E((function(e,t,n){return C(L,e,t,n)}),3);S(j),Symbol("promiseCallback");var F=function(e){function t(){Object(o.a)(this,t),this.head=this.tail=null,this.length=0}return Object(a.a)(t,[{key:"removeLink",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}},{key:"empty",value:function(){for(;this.head;)this.shift();return this}},{key:"insertAfter",value:function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}},{key:"insertBefore",value:function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}},{key:"unshift",value:function(e){this.head?this.insertBefore(this.head,e):U(this,e)}},{key:"push",value:function(e){this.tail?this.insertAfter(this.tail,e):U(this,e)}},{key:"shift",value:function(){return this.head&&this.removeLink(this.head)}},{key:"pop",value:function(){return this.tail&&this.removeLink(this.tail)}},{key:"toArray",value:function(){return Object(s.a)(this)}},{key:e,value:Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"remove",value:function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this}}]),t}(Symbol.iterator);function U(e,t){e.length=1,e.head=e.tail=t}function V(e,t,n){var o;if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var a=b(e),s=0,c=[],u={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function l(e,t){return e?t?void(u[e]=u[e].filter((function(e){return e!==t}))):u[e]=[]:Object.keys(u).forEach((function(e){return u[e]=[]}))}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u[e].forEach((function(e){return e.apply(void 0,n)}))}var f=!1;function p(e,t,n,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");var i,o;function a(e){if(e)return n?o(e):i();for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(r.length<=1)return i(r[0]);i(r)}_.started=!0;var s={data:e,callback:n?a:r||a};if(t?_._tasks.unshift(s):_._tasks.push(s),f||(f=!0,m((function(){f=!1,_.process()}))),n||!r)return new Promise((function(e,t){i=e,o=t}))}function h(e){return function(t){s-=1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=e.length;o<a;o++){var u,l=e[o],f=c.indexOf(l);0===f?c.shift():f>0&&c.splice(f,1),(u=l).callback.apply(u,[t].concat(r)),null!=t&&d("error",t,l.data)}s<=_.concurrency-_.buffer&&d("unsaturated"),_.idle()&&d("drain"),_.process()}}function v(e){return!(0!==e.length||!_.idle())&&(m((function(){return d("drain")})),!0)}var g=function(e){return function(t){if(!t)return new Promise((function(t,n){!function(e,t){u[e].push((function n(){l(e,n),t.apply(void 0,arguments)}))}(e,(function(e,r){if(e)return n(e);t(r)}))}));l(e),function(e,t){u[e].push(t)}(e,t)}},y=!1,_=(o={_tasks:new F},Object(r.a)(o,Symbol.iterator,Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(_._tasks[Symbol.iterator](),"t0",1);case 1:case"end":return e.stop()}}),e)}))),Object(r.a)(o,"concurrency",t),Object(r.a)(o,"payload",n),Object(r.a)(o,"buffer",t/4),Object(r.a)(o,"started",!1),Object(r.a)(o,"paused",!1),Object(r.a)(o,"push",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return p(e,!1,!1,t)}))}return p(e,!1,!1,t)})),Object(r.a)(o,"pushAsync",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return p(e,!1,!0,t)}))}return p(e,!1,!0,t)})),Object(r.a)(o,"kill",(function(){l(),_._tasks.empty()})),Object(r.a)(o,"unshift",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return p(e,!0,!1,t)}))}return p(e,!0,!1,t)})),Object(r.a)(o,"unshiftAsync",(function(e,t){if(Array.isArray(e)){if(v(e))return;return e.map((function(e){return p(e,!0,!0,t)}))}return p(e,!0,!0,t)})),Object(r.a)(o,"remove",(function(e){_._tasks.remove(e)})),Object(r.a)(o,"process",(function(){if(!y){for(y=!0;!_.paused&&s<_.concurrency&&_._tasks.length;){var e=[],t=[],n=_._tasks.length;_.payload&&(n=Math.min(n,_.payload));for(var r=0;r<n;r++){var i=_._tasks.shift();e.push(i),c.push(i),t.push(i.data)}s+=1,0===_._tasks.length&&d("empty"),s===_.concurrency&&d("saturated");var o=w(h(e));a(t,o)}y=!1}})),Object(r.a)(o,"length",(function(){return _._tasks.length})),Object(r.a)(o,"running",(function(){return s})),Object(r.a)(o,"workersList",(function(){return c})),Object(r.a)(o,"idle",(function(){return _._tasks.length+s===0})),Object(r.a)(o,"pause",(function(){_.paused=!0})),Object(r.a)(o,"resume",(function(){!1!==_.paused&&(_.paused=!1,m(_.process))})),o);return Object.defineProperties(_,{saturated:{writable:!1,value:g("saturated")},unsaturated:{writable:!1,value:g("unsaturated")},empty:{writable:!1,value:g("empty")},drain:{writable:!1,value:g("drain")},error:{writable:!1,value:g("error")}}),_}E((function(e,t,n,r){r=R(r);var i=b(n);return L(e,(function(e,n,r){i(t,e,(function(e,n){t=n,r(e)}))}),(function(e){return r(e,t)}))}),4);var H=E((function(e,t,n,r){return C(P(t),e,n,r)}),4);var B=E((function(e,t,n,r){var i=b(n);return H(e,t,(function(e,t){i(e,(function(e){if(e)return t(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(e,r)}))}),(function(e,t){for(var n=[],i=0;i<t.length;i++){var o;if(t[i])n=(o=n).concat.apply(o,Object(s.a)(t[i]))}return r(e,n)}))}),4);E((function(e,t,n){return B(e,1/0,t,n)}),3);E((function(e,t,n){return B(e,1,t,n)}),3);function G(e,t){return function(n,r,i,o){var a,s=!1,c=b(i);n(r,(function(n,r,i){c(n,(function(r,o){return r||!1===r?i(r):e(o)&&!a?(s=!0,a=t(!0,n),i(null,O)):void i()}))}),(function(e){if(e)return o(e);o(null,s?a:t(!1))}))}}E((function(e,t,n){return G((function(e){return e}),(function(e,t){return t}))(M,e,t,n)}),3);E((function(e,t,n,r){return G((function(e){return e}),(function(e,t){return t}))(P(t),e,n,r)}),4);E((function(e,t,n){return G((function(e){return e}),(function(e,t){return t}))(P(1),e,t,n)}),3);function J(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(t).apply(void 0,r.concat([function(t){if("object"===typeof console)if(t)console.error&&console.error(t);else if(console[e]){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((function(t){return console[e](t)}))}}]))}}J("dir");E((function(e,t,n){n=w(n);var r,i=b(e),o=b(t);function a(e){if(e)return n(e);if(!1!==e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];r=i,o.apply(void 0,i.concat([c]))}}function c(e,t){return e?n(e):!1!==e?t?void i(a):n.apply(void 0,[null].concat(Object(s.a)(r))):void 0}return c(null,!0)}),3);function W(e){return function(t,n,r){return e(t,r)}}E((function(e,t,n){return M(e,W(b(t)),n)}),3);var z=E((function(e,t,n,r){return P(t)(e,W(b(n)),r)}),4);var K=E((function(e,t,n){return z(e,1,t,n)}),3);function q(e){return _(e)?e:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop(),o=!0;n.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o?m((function(){return i.apply(void 0,t)})):i.apply(void 0,t)})),e.apply(this,n),o=!1}}E((function(e,t,n){return G((function(e){return!e}),(function(e){return!e}))(M,e,t,n)}),3);E((function(e,t,n,r){return G((function(e){return!e}),(function(e){return!e}))(P(t),e,n,r)}),4);E((function(e,t,n){return G((function(e){return!e}),(function(e){return!e}))(L,e,t,n)}),3);function $(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)}))}function X(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,o){if(n)return r(n);o&&i.push({index:t,value:e}),r(n)}))}),(function(e){if(e)return r(e);r(null,i.sort((function(e,t){return e.index-t.index})).map((function(e){return e.value})))}))}function Y(e,t,n,r){return(T(t)?$:X)(e,t,b(n),r)}E((function(e,t,n){return Y(M,e,t,n)}),3);E((function(e,t,n,r){return Y(P(t),e,n,r)}),4);E((function(e,t,n){return Y(L,e,t,n)}),3);E((function(e,t){var n=w(t),r=b(q(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()}),2);E((function(e,t,n,r){var i=b(n);return H(e,t,(function(e,t){i(e,(function(n,r){return n?t(n):t(n,{key:r,val:e})}))}),(function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)}))}),4);J("log");E((function(e,t,n,r){r=R(r);var i={},o=b(n);return P(t)(e,(function(e,t,n){o(e,t,(function(e,r){if(e)return n(e);i[t]=r,n(e)}))}),(function(e){return r(e,i)}))}),4);h(f?process.nextTick:d?setImmediate:p),E((function(e,t,n){var r=T(t)?[]:{};e(t,(function(e,t,n){b(e)((function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(o.length<2){var s=o;o=Object(c.a)(s,1)[0]}r[t]=o,n(e)}))}),(function(e){return n(e,r)}))}),3);function Q(e,t){var n=b(e);return V((function(e,t){n(e[0],t)}),t,1)}Symbol.iterator;function Z(e){return(e+1>>1)-1}function ee(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}E((function(e,t){if(t=R(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)b(e[n])(t)}),2);function te(e,t,n,r){var i=b(n);return Y(e,t,(function(e,t){i(e,(function(e,n){t(e,!n)}))}),r)}E((function(e,t,n){return te(M,e,t,n)}),3);E((function(e,t,n,r){return te(P(t),e,n,r)}),4);E((function(e,t,n){return te(L,e,t,n)}),3);E((function(e,t,n){return G(Boolean,(function(e){return e}))(M,e,t,n)}),3);E((function(e,t,n,r){return G(Boolean,(function(e){return e}))(P(t),e,n,r)}),4);E((function(e,t,n){return G(Boolean,(function(e){return e}))(L,e,t,n)}),3);E((function(e,t,n){var r=b(t);return x(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(n,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,t.sort(i).map((function(e){return e.value})))}));function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}),3);E((function(e,t){var n,r=null;return K(e,(function(e,t){b(e)((function(e){if(!1===e)return t(e);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n=o.length<2?o[0]:o,r=e,t(e?null:{})}))}),(function(){return t(r,n)}))}));E((function(e,t,n){n=w(n);var r=b(t),i=b(e),o=[];function a(e){if(e)return n(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];o=r,!1!==e&&i(c)}function c(e,t){return e?n(e):!1!==e?t?void r(a):n.apply(void 0,[null].concat(Object(s.a)(o))):void 0}return i(c)}),3);E((function(e,t){if(t=R(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){b(e[n++]).apply(void 0,Object(s.a)(t).concat([w(i)]))}function i(i){if(!1!==i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(i||n===e.length)return t.apply(void 0,[i].concat(a));r(a)}}r([])}))},function(e,t){e.exports={integerHash:function(e){if(!e)return 0;var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t)*Math.pow(31,e.length-1-t),n=Math.abs(0|n);return n}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(48),u=n(80),l=Object(s.getLogger)(e),d=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,i,o,a,s,c,u){var l;return Object(r.a)(this,n),(l=t.call(this)).sid=e,l.localJid=i,l.remoteJid=o,l.connection=a,l.mediaConstraints=s,l.pcConfig=c,l.isInitiator=u,l.usedrip=!0,l.dripContainer=[],l.room=null,l._signalingLayer=null,l.state=null,l.rtc=null,l}return Object(i.a)(n,[{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}},{key:"initialize",value:function(e,t,n,r){if(null!==this.state){var i="attempt to initiate on session ".concat(this.sid,"\n                   in state ").concat(this.state);throw l.error(i),new Error(i)}this.room=e,this.rtc=t,this._signalingLayer=n,this.state=u.c,this.doInitialize(r)}},{key:"doInitialize",value:function(e){}},{key:"addIceCandidates",value:function(e){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(e){}},{key:"removeSources",value:function(e){}},{key:"terminate",value:function(e,t,n){}},{key:"acceptOffer",value:function(e,t,n){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}}]),n}(c.a)}).call(this,"/index.js")},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(67),a=n(53),s=n(24),c=n(25),u=n(7),l=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).log=[],e}return Object(i.a)(n,[{key:"init",value:function(e){Object(o.a)(Object(a.a)(n.prototype),"init",this).call(this,e),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(e){this.log.push([(new Date).getTime(),"incoming",e])}},{key:"logOutgoing",value:function(e){this.log.push([(new Date).getTime(),"outgoing",e])}}]),n}(n(97).b);t.a=function(){u.Strophe.addConnectionPlugin("logger",new l)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(6),i=n(5),o=n(67),a=n(53),s=n(24),c=n(25),u=n(10),l=n(7),d=n(97),f=Object(u.getLogger)(e),p="urn:xmpp:rayo:1",h=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"init",value:function(e){Object(o.a)(Object(a.a)(n.prototype),"init",this).call(this,e),this.connection.addHandler(this.onRayo.bind(this),p,"iq","set",null,null)}},{key:"onRayo",value:function(e){f.info("Rayo IQ",e)}},{key:"dial",value:function(e,t,n,r,i){var o=this;return new Promise((function(a,s){if(i){var c=Object(l.$iq)({type:"set",to:i});c.c("dial",{xmlns:p,to:e,from:t}),c.c("header",{name:"JvbRoomName",value:n}).up(),r&&r.length&&c.c("header",{name:"JvbRoomPassword",value:r}).up(),o.connection.sendIQ(c,(function(e){f.info("Dial result ",e);var t=$(e).find("ref").attr("uri");o.callResource=t.substr(5),f.info("Received call resource: ".concat(o.callResource)),a()}),(function(e){f.info("Dial error ",e),s(e)}))}else s(new Error("Internal error!"))}))}},{key:"hangup",value:function(){var e=this;return new Promise((function(t,n){if(!e.callResource)return n(new Error("No call in progress")),void f.warn("No call in progress");var r=Object(l.$iq)({type:"set",to:e.callResource});r.c("hangup",{xmlns:p}),e.connection.sendIQ(r,(function(n){f.info("Hangup result ",n),e.callResource=null,t()}),(function(t){f.info("Hangup error ",t),e.callResource=null,n(new Error("Hangup error "))}))}))}}]),n}(d.b)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){var r=n(10),i=n(7),o=n(36),a=n.n(o),s=Object(r.getLogger)(e),c=-1,u=/request id \d+.\d+ got 200/,l=/request errored, status: (\d+), number of errors: \d+/;t.a=function(){i.Strophe.log=function(e,t){switch(s.trace("Strophe",e,t),"string"===typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(e=i.Strophe.LogLevel.WARN),e){case i.Strophe.LogLevel.DEBUG:-1!==c&&u.test(t)&&(s.debug("Reset lastErrorStatus"),c=-1);break;case i.Strophe.LogLevel.WARN:s.warn("Strophe: ".concat(t));var n=l.exec(t);n&&2===n.length&&(c=parseInt(n[1],10),s.debug("lastErrorStatus set to: ".concat(c)));break;case i.Strophe.LogLevel.ERROR:case i.Strophe.LogLevel.FATAL:t="Strophe: ".concat(t),a.a.callErrorHandler(new Error(t)),s.error(t)}},i.Strophe.getLastErrorStatus=function(){return c},i.Strophe.getStatusString=function(e){switch(e){case i.Strophe.Status.BINDREQUIRED:return"BINDREQUIRED";case i.Strophe.Status.ERROR:return"ERROR";case i.Strophe.Status.CONNECTING:return"CONNECTING";case i.Strophe.Status.CONNFAIL:return"CONNFAIL";case i.Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case i.Strophe.Status.AUTHFAIL:return"AUTHFAIL";case i.Strophe.Status.CONNECTED:return"CONNECTED";case i.Strophe.Status.DISCONNECTED:return"DISCONNECTED";case i.Strophe.Status.DISCONNECTING:return"DISCONNECTING";case i.Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown"}}}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(4),c=n(46),u=n.n(c),l=n(8),d=n(11),f=Object(a.getLogger)(e),p=function(){function e(t,n){var r=this;Object(i.a)(this,e),this.conference=t,this.options=n,this.disabledCodec=n.disabledCodec===u.a.VP8?void 0:this._getCodecMimeType(n.disabledCodec);var o=this._getCodecMimeType(n.jvbCodec),a=this._getCodecMimeType(n.p2pCodec);this.jvbPreferredCodec=o&&this._isCodecSupported(o)?o:u.a.VP8,this.p2pPreferredCodec=a&&this._isCodecSupported(a)?a:u.a.VP8,f.debug("Codec preferences for the conference are JVB: ".concat(this.jvbPreferredCodec,",\n            P2P: ").concat(this.p2pPreferredCodec)),this.jvbPreferredCodec!==u.a.VP9||d.a.supportsVP9()||(this.jvbPreferredCodec=u.a.VP8),this.conference.on(s.USER_JOINED,(function(){return r._selectPreferredCodec()})),this.conference.on(s.USER_LEFT,(function(){return r._selectPreferredCodec()})),this.conference.on(s._MEDIA_SESSION_STARTED,(function(e){return r._onMediaSessionStarted(e)}))}return Object(o.a)(e,[{key:"_getCodecMimeType",value:function(e){return"string"===typeof e?Object.values(u.a).find((function(t){return t===e.toLowerCase()})):null}},{key:"_isCodecSupported",value:function(e){return!(!d.a.isFirefox()&&!d.a.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities("video").codecs.some((function(t){return t.mimeType.toLowerCase()==="video/".concat(e)}))}},{key:"_onMediaSessionStarted",value:function(e){var t=e.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,n=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(e,t,n)}},{key:"_selectPreferredCodec",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e||this.conference.jvbJingleSession,o=t||this.jvbPreferredCodec,a=o;if(i&&!i.isP2P&&!this.options.enforcePreferredCodec){var s,c=this.conference.getParticipants().map((function(e){return e.getId()})),f=Object(r.a)(c);try{for(f.s();!(s=f.n()).done;){var p=s.value,h=i._signalingLayer.getPeerMediaInfo(p,l.a.VIDEO),m=null===h||void 0===h?void 0:h.codecType;m&&m!==o&&(m!==u.a.VP9||d.a.supportsVP9())&&(a=m)}}catch(v){f.e(v)}finally{f.f()}}i&&i.setVideoCodecs(a,n)}},{key:"getPreferredCodec",value:function(){return this.jvbPreferredCodec}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(6),i=n(5),o=n(10),a=n(18),s=n(23),c=n(20),u=n(17),l=n(36),d=n.n(l),f=Object(o.getLogger)(e),p=function(){function e(t,n,i){if(Object(r.a)(this,e),!t&&!n)throw new TypeError("At least peerconnection or wsUrl must be given");if(t&&n)throw new TypeError("Just one of peerconnection or wsUrl must be given");if(t?f.debug("constructor() with peerconnection"):f.debug('constructor() with wsUrl:"'.concat(n,'"')),this._channel=null,this._eventEmitter=i,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,t){var o=t.createDataChannel("JVB data channel",{protocol:"http://jitsi.org/protocols/colibri"});this._handleChannel(o),this._mode="datachannel"}else n&&(this._areRetriesEnabled=!0,this._wsUrl=n,this._initWebSocket())}return Object(i.a)(e,[{key:"_initWebSocket",value:function(){var e=new WebSocket(this._wsUrl);this._handleChannel(e),this._mode="websocket"}},{key:"_startConnectionRetries",value:function(){var e=this,t=1;this._retryTimeout=setTimeout((function n(){e.isOpen()||(e._initWebSocket(e._wsUrl),t=Math.min(2*t,60),e._retryTimeout=setTimeout(n,1e3*t))}),1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(e){var t=this;if(this._areRetriesEnabled){var n=e.code,r=e.reason;u.a.sendAnalytics(Object(s.y)(n,r)),this._areRetriesEnabled=!1,this._eventEmitter.once(a.default.DATA_CHANNEL_OPEN,(function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0})),this._startConnectionRetries()}}},{key:"mode",get:function(){return this._mode}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(e){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&("open"===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendEndpointStatsMessage",value:function(e){this._send(Object.assign({colibriClass:"EndpointStats"},e))}},{key:"sendMessage",value:function(e,t){this._send({colibriClass:"EndpointMessage",msgPayload:t,to:e})}},{key:"sendSetLastNMessage",value:function(e){f.log("Sending lastN=".concat(e,".")),this._send({colibriClass:"LastNChangedEvent",lastN:e})}},{key:"sendSelectedEndpointsMessage",value:function(e){f.log("Sending selected endpoints: ".concat(e,".")),this._send({colibriClass:"SelectedEndpointsChangedEvent",selectedEndpoints:e})}},{key:"sendReceiverVideoConstraintMessage",value:function(e){f.log("Sending ReceiverVideoConstraint with maxFrameHeight=".concat(e,"px")),this._send({colibriClass:"ReceiverVideoConstraint",maxFrameHeight:e})}},{key:"sendNewReceiverVideoConstraintsMessage",value:function(e){f.log("Sending ReceiverVideoConstraints with ".concat(JSON.stringify(e))),this._send(Object.assign({colibriClass:"ReceiverVideoConstraints"},e))}},{key:"sendVideoTypeMessage",value:function(e){f.debug("Sending VideoTypeMessage with video type as ".concat(e)),this._send({colibriClass:"VideoTypeMessage",videoType:e})}},{key:"sendSourceVideoTypeMessage",value:function(e,t){f.info("Sending SourceVideoTypeMessage with video type ".concat(e,": ").concat(t)),this._send({colibriClass:"SourceVideoTypeMessage",sourceName:e,videoType:t})}},{key:"_handleChannel",value:function(e){var t=this,n=this._eventEmitter;e.onopen=function(){f.info("".concat(t._mode," channel opened")),n.emit(a.default.DATA_CHANNEL_OPEN)},e.onerror=function(e){"websocket"!==t._mode&&f.error("Channel error: ".concat(e.message))},e.onmessage=function(e){var t,r=e.data;try{t=JSON.parse(r)}catch(E){return d.a.callErrorHandler(E),void f.error("Failed to parse channel message as JSON: ",r,E)}var i=t.colibriClass;switch(i){case"DominantSpeakerEndpointChangeEvent":var o=t,s=o.dominantSpeakerEndpoint,u=o.previousSpeakers,l=void 0===u?[]:u;f.debug("Dominant speaker: ".concat(s,", previous speakers: ").concat(l)),n.emit(a.default.DOMINANT_SPEAKER_CHANGED,s,l);break;case"EndpointConnectivityStatusChangeEvent":var p=t.endpoint,h="true"===t.active;f.info("Endpoint connection status changed: ".concat(p," active=").concat(h)),n.emit(a.default.ENDPOINT_CONN_STATUS_CHANGED,p,h);break;case"EndpointMessage":n.emit(a.default.ENDPOINT_MESSAGE_RECEIVED,t.from,t.msgPayload);break;case"EndpointStats":n.emit(a.default.ENDPOINT_STATS_RECEIVED,t.from,t);break;case"LastNEndpointsChangeEvent":if(!c.a.isSourceNameSignalingEnabled()){var m=t.lastNEndpoints;f.info("New forwarded endpoints: ".concat(m)),n.emit(a.default.LASTN_ENDPOINT_CHANGED,m)}break;case"ForwardedSources":if(c.a.isSourceNameSignalingEnabled()){var v=t.forwardedSources;f.info("New forwarded sources: ".concat(v)),n.emit(a.default.FORWARDED_SOURCES_CHANGED,v)}break;case"SenderVideoConstraints":var g=t.videoConstraints;g&&(f.info("SenderVideoConstraints: ".concat(JSON.stringify(g))),n.emit(a.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,g));break;case"SenderSourceConstraints":if(c.a.isSourceNameSignalingEnabled()){var y=t,_=y.sourceName,b=y.maxHeight;"string"===typeof _&&"number"===typeof b?(f.info("SenderSourceConstraints: ".concat(JSON.stringify({sourceName:_,maxHeight:b}))),n.emit(a.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,{sourceName:_,maxHeight:b})):f.error("Invalid SenderSourceConstraints: ".concat(JSON.stringify(t)))}break;case"ServerHello":f.info("Received ServerHello, version=".concat(t.version,"."));break;default:f.debug("Channel JSON-formatted message: ",t),n.emit("rtc.datachannel.".concat(i),t)}},e.onclose=function(e){f.info("Channel closed by ".concat(t._closedFromClient?"client":"server")),"websocket"===t._mode&&(t._closedFromClient||(f.error("Channel closed: ".concat(e.code," ").concat(e.reason)),t._retryWebSocketConnection(e))),t._channel=null},this._channel=e}},{key:"_send",value:function(e){var t=this._channel;if(!this.isOpen())throw f.error("Bridge Channel send: no opened channel."),new Error("No opened channel");t.send(JSON.stringify(e))}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var r=n(6),i=n(5),o=n(29),a=n(67),s=n(53),c=n(24),u=n(25),l=n(10),d=n(50),f=n(41),p=n(39),h=n(116),m=n.n(h),v=n(8),g=n(18),y=n(32),_=n(23),b=n(11),E=n(20),S=n(17),C=n(158),T=n(35),O=Object(l.getLogger)(e),R=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i,a=e.deviceId,s=e.facingMode,c=e.mediaType,u=e.resolution,l=e.rtcId,d=e.sourceId,f=e.sourceType,h=e.stream,m=e.track,v=e.videoType,_=e.effects,b=void 0===_?[]:_;Object(r.a)(this,n),(i=t.call(this,null,h,m,(function(){return i.emit(p.LOCAL_TRACK_STOPPED)}),c,v))._setEffectInProgress=!1;var E=b.find((function(e){return e.isEnabled(Object(o.a)(i))}));E&&i._startStreamEffect(E);var S=v===y.VideoType.DESKTOP?m.getSettings().displaySurface:null;return i.metadata=Object.assign({timestamp:Date.now()},S?{displaySurface:S}:{}),i.rtcId=l,i.sourceId=d,i.sourceType=f,i.resolution=m.getSettings().height,i.maxEnabledResolution=u,i._constraints=m.getConstraints(),Object.keys(i._constraints).length||v!==y.VideoType.CAMERA||(i._constraints={height:m.getSettings().height,width:m.getSettings().width}),i.deviceId=a,i._prevSetMuted=Promise.resolve(),i._facingMode=s,i._trackEnded=!1,i._hasSentData=!1,i._testDataSent=!0,i._realDeviceId=""===i.deviceId?void 0:i.deviceId,i._sourceName=null,i._trackMutedTS=0,i._onDeviceListWillChange=function(e){var t=i._realDeviceId;i._setRealDeviceIdFromDeviceList(e),("undefined"===typeof i.getTrack().readyState&&"undefined"!==typeof i._realDeviceId&&!e.find((function(e){return e.deviceId===i._realDeviceId}))||"undefined"!==typeof t&&"undefined"===typeof i._realDeviceId)&&(i._trackEnded=!0)},i.isAudioTrack()&&T.a.isDeviceChangeAvailable("output")&&(i._onAudioOutputDeviceChanged=i.setAudioOutput.bind(Object(o.a)(i)),T.a.addListener(g.default.AUDIO_OUTPUT_DEVICE_CHANGED,i._onAudioOutputDeviceChanged)),T.a.addListener(g.default.DEVICE_LIST_WILL_CHANGE,i._onDeviceListWillChange),i._initNoDataFromSourceHandlers(),i}return Object(i.a)(n,[{key:"_addStreamToConferenceAsUnmute",value:function(){var e=this;return this.conference?new Promise((function(t,n){e.conference._addLocalTrackAsUnmute(e).then(t,(function(e){return n(new Error(e))}))})):Promise.resolve()}},{key:"_fireNoDataFromSourceEvent",value:function(){var e=!this.isReceivingData();this.emit(p.NO_DATA_FROM_SOURCE,e),S.a.sendAnalytics(Object(_.G)(this.getType(),e)),S.a.sendLog(JSON.stringify({name:p.NO_DATA_FROM_SOURCE,log:e}))}},{key:"_initNoDataFromSourceHandlers",value:function(){var e=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler("track_mute",(function(){e._trackMutedTS=window.performance.now(),e._fireNoDataFromSourceEvent()})),this._setHandler("track_unmute",(function(){e._fireNoDataFromSourceEvent(),S.a.sendAnalyticsAndLog(_.s,{media_type:e.getType(),track_type:"local",value:window.performance.now()-e._trackMutedTS})})),this.isVideoTrack()&&this.videoType===y.VideoType.CAMERA&&this._setHandler("track_ended",(function(){e.isReceivingData()||e._fireNoDataFromSourceEvent()})))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==y.VideoType.DESKTOP}},{key:"_queueSetMuted",value:function(e){var t=this._setMuted.bind(this,e);return this._prevSetMuted=this._prevSetMuted.then(t,t),this._prevSetMuted}},{key:"_removeStreamFromConferenceAsMute",value:function(e,t){this.conference?this.conference._removeLocalTrackAsMute(this).then(e,(function(e){return t(new Error(e))})):e()}},{key:"_sendMuteStatus",value:function(e){this.conference&&this.conference._setTrackMuteStatus(this.getType(),this,e)&&this.conference.room.sendPresence()}},{key:"_setMuted",value:function(e){var t=this;if(this.isMuted()===e&&(this.videoType!==y.VideoType.DESKTOP||!E.a.isMultiStreamSupportEnabled()))return Promise.resolve();if(this.disposed)return Promise.reject(new d.a(f.TRACK_IS_DISPOSED));var n=Promise.resolve(),r=function(){return O.info("Mute ".concat(t,": ").concat(e))};if(this.isAudioTrack()||this.videoType===y.VideoType.DESKTOP&&!E.a.isMultiStreamSupportEnabled()||!b.a.doesVideoMuteByStreamRemove())r(),this._streamEffect&&this._streamEffect.setMuted?this._streamEffect.setMuted(e):this.track&&(this.track.enabled=!e);else if(e)n=new Promise((function(e,n){r(),t._removeStreamFromConferenceAsMute((function(){t._streamEffect&&t._stopStreamEffect(),t._unregisterHandlers(),t.stopStream(),t._setStream(null),e()}),n)}));else{r();var i={cameraDeviceId:this.getDeviceId(),devices:[v.a.VIDEO],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};n=(n=T.a.obtainAudioAndVideoPermissions(Object.assign({},i,{constraints:{video:this._constraints}}))).then((function(e){var n=t.getType()===v.a.PRESENTER?v.a.VIDEO:t.getType(),r=e.find((function(e){return e.track.kind===n}));if(!r)throw new d.a(f.TRACK_NO_STREAM_FOUND);return t._setStream(r.stream),t.track=r.track,t.videoType!==r.videoType&&(O.warn("".concat(t,": video type has changed after unmute!"),t.videoType,r.videoType),t.videoType=r.videoType),t._streamEffect&&t._startStreamEffect(t._streamEffect),t.containers.map((function(e){return T.a.attachMediaStream(e,t.stream)})),t._addStreamToConferenceAsUnmute()}))}return n.then((function(){t._sendMuteStatus(e),t.isVideoTrack()&&t.conference&&t.conference._sendBridgeVideoTypeMessage(t),t.emit(p.TRACK_MUTE_CHANGED,t)}))}},{key:"_setRealDeviceIdFromDeviceList",value:function(e){var t=this,n=this.getTrack(),r="".concat(n.kind,"input"),i=e.find((function(e){return e.kind===r&&e.label===n.label&&e.deviceId===t.deviceId}));if(!i&&"default"===this._realDeviceId){var o=(n.label||"").replace("Default - ","");i=e.find((function(e){return e.kind===r&&e.label===o}))}this._realDeviceId=i?i.deviceId:void 0}},{key:"_setStream",value:function(e){Object(a.a)(Object(s.a)(n.prototype),"_setStream",this).call(this,e),e?(this.storedMSID=this.getMSID(),O.debug("Setting new MSID: ".concat(this.storedMSID," on ").concat(this))):O.debug("Setting 'null' stream on ".concat(this))}},{key:"_startStreamEffect",value:function(e){this._streamEffect=e,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0]}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream?this.stream.getTracks()[0]:null)}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===y.VideoType.CAMERA&&"function"===typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===m.a.ENVIRONMENT?m.a.USER:m.a.ENVIRONMENT)}},{key:"_switchStreamEffect",value:function(e){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),e&&this._startStreamEffect(e)}},{key:"dispose",value:function(){var e=this,t=Promise.resolve();this._streamEffect&&(t=this.setEffect());var r=Promise.resolve();return this.conference&&(r=this.conference.removeTrack(this)),this.stream&&(this.stopStream(),this.detach()),T.a.removeListener(g.default.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&T.a.removeListener(g.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),Promise.allSettled([t,r]).then((function(){return Object(a.a)(Object(s.a)(n.prototype),"dispose",e).call(e)}))}},{key:"getCameraFacingMode",value:function(){var e,t;if(this.isVideoTrack()&&this.videoType===y.VideoType.CAMERA){var n=null===(t=(e=this.track).getSettings)||void 0===t?void 0:t.call(e);return n&&"facingMode"in n?n.facingMode:"undefined"!==typeof this._facingMode?this._facingMode:m.a.USER}}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getDuration",value:function(){return Date.now()/1e3-this.metadata.timestamp/1e3}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:"ended"===this.getTrack().readyState||this._trackEnded}},{key:"isLocal",value:function(){return!0}},{key:"isMuted",value:function(){return!this.stream||(!(!this.isVideoTrack()||this.isActive())||(this._streamEffect&&this._streamEffect.isMuted?this._streamEffect.isMuted():!this.track||!this.track.enabled))}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==y.VideoType.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some((function(e){return(!("readyState"in e)||"live"===e.readyState)&&(!("muted"in e)||!0!==e.muted)}))}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"onByteSentStatsReceived",value:function(e,t){var n=this;t>0&&(this._hasSentData=!0);var r=e.getConnectionState();this._testDataSent&&"connected"===r&&(setTimeout((function(){n._hasSentData||(O.warn("".concat(n," 'bytes sent' <= 0:                         ").concat(t)),S.a.analytics.sendEvent(_.r,{media_type:n.getType()}))}),3e3),this._testDataSent=!1)}},{key:"setConference",value:function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])}},{key:"setEffect",value:function(e){var t=this;if("undefined"===typeof this._streamEffect&&"undefined"===typeof e)return Promise.resolve();if("undefined"!==typeof e&&!e.isEnabled(this))return Promise.reject(new Error("Incompatible effect instance!"));if(!0===this._setEffectInProgress)return Promise.reject(new Error("setEffect already in progress!"));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=e,Promise.resolve();var n=this.conference;return n?(this._setEffectInProgress=!0,n.removeTrack(this).then((function(){return t._switchStreamEffect(e),t.isVideoTrack()&&t.containers.forEach((function(e){return T.a.attachMediaStream(e,t.stream)})),n.addTrack(t)})).then((function(){t._setEffectInProgress=!1})).catch((function(e){throw t._setEffectInProgress=!1,t._switchStreamEffect(),O.error("Failed to switch to the new stream!",e),e}))):(this._switchStreamEffect(e),this.isVideoTrack()&&this.containers.forEach((function(e){return T.a.attachMediaStream(e,t.stream)})),Promise.resolve())}},{key:"setSourceName",value:function(e){this._sourceName=e}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{T.a.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"toString",value:function(){return"LocalTrack[".concat(this.rtcId,",").concat(this.getType(),"]")}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}}]),n}(C.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(31),i=n(12),o=n(10),a=n(294),s=n(45),c=n.n(s),u=n(46),l=n(28),d=n(8),f=n(18),p=n(70),h=n(84),m=n(32),v=n(83),g=n(11),y=n(20),_=n(249),b=n(250),E=n(43),S=n(21),C=n(251),T=n(252),O=n(72),R=n(36),A=n(253),w=n(37),k=n(35),P=n(101),N=Object(o.getLogger)(e);function I(e,t,r,i,o,s,c){var u=this;this.audioTransferActive=!(!0===c.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=e,this.id=t,this.isP2P=s,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this._dtlsTransport=null,this.signalingLayer=r,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(p.b,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(p.a,this._peerMutedChanged),this.options=c,this.signalingLayer.on(p.c,(function(e,t){return u._sourceMutedChanged(e,t)})),this.signalingLayer.on(p.d,(function(e,t){return u._sourceVideoTypeChanged(e,t)}));var l=o||{};if(l.optional=l.optional||[],Array.isArray(l.optional)?l.optional.push({rtcStatsSFUP2P:this.isP2P}):N.warn("Optional param is not an array, rtcstats p2p data is omitted."),this.peerconnection=new k.a.RTCPeerConnectionType(i,l),this.tpcUtils=new P.d(this),this.updateLog=[],this.stats={},this.statsinterval=null,this._capScreenshareBitrate=this.options.capScreenshareBitrate,this._usesUnifiedPlan=c.usesUnifiedPlan,this._usesTransceiverCodecPreferences=g.a.supportsCodecPreferences()&&this._usesUnifiedPlan,this._usesTransceiverCodecPreferences&&N.info("Using RTCRtpTransceiver#setCodecPreferences for codec selection"),this.maxstats=c.maxstats,this.interop=new a.a,this._usesUnifiedPlan)this.simulcast=new T.a({numOfLayers:P.c.length});else{var d=n(330);this.simulcast=new d({numOfLayers:P.c.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:!1})}this.sdpConsistency=new C.a(this.toString()),this.localSdpMunger=new _.a(this,this.rtc.getLocalEndpointId()),this.eventEmitter=e.eventEmitter,this.rtxModifier=new b.a,this._senderVideoMaxHeight=2160,this._senderMaxHeights=new Map,this.trace=function(e,t){N.debug(e,t),u.updateLog.push({time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){u.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==u.onicecandidate&&u.onicecandidate(e)},this._usesUnifiedPlan?(this.onTrack=function(e){var t=e.streams[0];u._remoteTrackAdded(t,e.track,e.transceiver),t.addEventListener("removetrack",(function(e){u._remoteTrackRemoved(t,e.track)}))},this.peerconnection.addEventListener("track",this.onTrack)):(this.peerconnection.onaddstream=function(e){return u._remoteStreamAdded(e.stream)},this.peerconnection.onremovestream=function(e){return u._remoteStreamRemoved(e.stream)}),this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){u.trace("onsignalingstatechange",u.signalingState),null!==u.onsignalingstatechange&&u.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){u.trace("oniceconnectionstatechange",u.iceConnectionState),null!==u.oniceconnectionstatechange&&u.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){u.trace("onnegotiationneeded"),null!==u.onnegotiationneeded&&u.onnegotiationneeded(e)},this.onconnectionstatechange=null,this.peerconnection.onconnectionstatechange=function(e){u.trace("onconnectionstatechange",u.connectionState),null!==u.onconnectionstatechange&&u.onconnectionstatechange(e)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(e){u.trace("ondatachannel"),null!==u.ondatachannel&&u.ondatachannel(e)},this.maxstats&&(this.statsinterval=window.setInterval((function(){u.getStats().then((function(e){if("function"===typeof(null===e||void 0===e?void 0:e.result))for(var t=e.result(),n=function(){var e=t[r];e.names().forEach((function(t){u._processStat(e,t,e.stat(t))}))},r=0;r<t.length;++r)n();else e.forEach((function(e){return u._processStat(e,"",e)}))}))}),1e3)),N.info("Create new ".concat(this))}I.prototype._processStat=function(e,t,n){var r="".concat(e.id,"-").concat(t),i=this.stats[r],o=new Date;i||(this.stats[r]=i={startTime:o,endTime:o,values:[],times:[]}),i.values.push(n),i.times.push(o.getTime()),i.values.length>this.maxstats&&(i.values.shift(),i.times.shift()),i.endTime=o};var D=function(e){return"undefined"===typeof e||null===e?"":"type: ".concat(e.type,"\r\n").concat(e.sdp)};I.prototype.getConnectionState=function(){var e=this.peerconnection.iceConnectionState;return"completed"===e?"connected":e},I.prototype.getDesiredMediaDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.hasAnyTracksOfType(e);return this._usesUnifiedPlan?t?n?l.a.SENDRECV:l.a.SENDONLY:n?l.a.RECVONLY:l.a.INACTIVE:(e===d.a.AUDIO?this.audioTransferActive:this.videoTransferActive)?n?l.a.SENDRECV:l.a.RECVONLY:l.a.INACTIVE},I.prototype._getReceiversByEndpointIds=function(e,t){var n,r=[],o=Object(i.a)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r=r.concat(this.getRemoteTracks(a,t))}}catch(c){o.e(c)}finally{o.f()}var s=r.map((function(e){var t;return null===(t=e.track)||void 0===t?void 0:t.id}));return this.peerconnection.getReceivers().filter((function(e){return e.track&&e.track.kind===t&&s.find((function(t){return t===e.track.id}))}))},I.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},I.prototype._peerVideoTypeChanged=function(e,t){if(e){var n=this.getRemoteTracks(e,d.a.VIDEO);n.length&&n[0]._setVideoType(t)}else N.error("".concat(this," No endpointID on peerVideoTypeChanged"))},I.prototype._peerMutedChanged=function(e,t,n){if(e){var r=this.getRemoteTracks(e,t);r.length&&r[0].setMute(n)}else N.error("".concat(this," On peerMuteChanged - no endpoint ID"))},I.prototype._sourceMutedChanged=function(e,t){var n=this.getRemoteTracks().find((function(t){return t.getSourceName()===e}));n&&n.setMute(t)},I.prototype._sourceVideoTypeChanged=function(e,t){var n=this.getRemoteTracks().find((function(t){return t.getSourceName()===e}));n&&n._setVideoType(t)},I.prototype.getAudioLevels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return(e.length?this._getReceiversByEndpointIds(e,d.a.AUDIO):this.peerconnection.getReceivers().filter((function(e){return e.track&&e.track.kind===d.a.AUDIO&&e.track.enabled}))).forEach((function(e){var n=e.getSynchronizationSources();n&&n.length&&(t[n[0].source]=n[0].audioLevel)})),t},I.prototype.getLocalTracks=function(e){var t=Array.from(this.localTracks.values());return void 0!==e&&(t=t.filter((function(t){return t.getType()===e}))),t},I.prototype.getLocalVideoTracks=function(){return this.getLocalTracks(d.a.VIDEO)},I.prototype.hasAnyTracksOfType=function(e){if(!e)throw new Error('"mediaType" is required');return this.getLocalTracks(e).length>0},I.prototype.getRemoteTracks=function(e,t){var n,r=[],o=e?[e]:this.remoteTracks.keys(),a=Object(i.a)(o);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=this.remoteTracks.get(s);if(c){var u,l=Object(i.a)(c.keys());try{for(l.s();!(u=l.n()).done;){var d=u.value;t&&t!==d||(r=r.concat(Array.from(c.get(d))))}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){a.e(f)}finally{a.f()}return r},I.prototype.getRemoteSourceInfoByParticipant=function(e){var t=[],n=this.getRemoteTracks(e);if(!(null===n||void 0===n?void 0:n.length))return t;var r=n.map((function(e){return e.getSSRC()})),o=new E.a(this.remoteDescription.sdp);return r.forEach((function(e,n){var r,a=Object(i.a)(o.media);try{for(a.s();!(r=a.n()).done;){var s=r.value,c="",u=S.a.findLines(s,"a=ssrc:".concat(e));if(u.length){t[n]||(t[n]="");var l=S.a.findLines(s,"a=ssrc-group:FID ".concat(e));if(l.length){var d=l[0].split(" ")[2];c+="".concat(l[0],"\r\n"),u=u.concat(S.a.findLines(s,"a=ssrc:".concat(d)))}t[n]+="".concat(u.join("\r\n"),"\r\n"),t[n]+=c}}}catch(f){a.e(f)}finally{a.f()}})),t},I.prototype.getTargetVideoBitrates=function(){var e=this.getConfiguredVideoCodec();return this.tpcUtils.videoBitrates[e.toUpperCase()]||this.tpcUtils.videoBitrates},I.prototype.getTrackBySSRC=function(e){if("number"!==typeof e)throw new Error("SSRC ".concat(e," is not a number"));var t,n=Object(i.a)(this.localTracks.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.getLocalSSRC(r)===e)return r}}catch(c){n.e(c)}finally{n.f()}var o,a=Object(i.a)(this.getRemoteTracks());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.getSSRC()===e)return s}}catch(c){a.e(c)}finally{a.f()}return null},I.prototype.getSsrcByTrackId=function(e){var t=function(t){return t.getTrack().id===e},n=this.getLocalTracks().find(t);if(n)return this.getLocalSSRC(n);var r=this.getRemoteTracks().find(t);return r?r.getSSRC():null},I.prototype._remoteStreamAdded=function(e){var t=this,n=w.a.getStreamID(e);if(w.a.isUserStreamById(n)){g.a.isChromiumBased()&&(e.onaddtrack=function(n){t._remoteTrackAdded(e,n.track)},e.onremovetrack=function(n){t._remoteTrackRemoved(e,n.track)});var r,o=e.getAudioTracks(),a=Object(i.a)(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._remoteTrackAdded(e,s)}}catch(f){a.e(f)}finally{a.f()}var c,u=e.getVideoTracks(),l=Object(i.a)(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;this._remoteTrackAdded(e,d)}}catch(f){l.e(f)}finally{l.f()}}else N.info("".concat(this," ignored remote 'stream added' event for non-user stream[id=").concat(n,"]"))},I.prototype._remoteTrackAdded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=w.a.getStreamID(e),i=t.kind;if(this.isP2P||w.a.isUserStreamById(r))if(N.info("".concat(this," adding remote track for stream[id=").concat(r,",type=").concat(i,"]")),i){var o,a=this._usesUnifiedPlan?new E.a(this.peerconnection.remoteDescription.sdp):new E.a(this.remoteDescription.sdp);if(this._usesUnifiedPlan)if(n&&n.mid){var s=n.mid;o=a.media.filter((function(e){return S.a.findLine(e,"a=mid:".concat(s))}))}else o=a.media.filter((function(e){var t=S.a.findLine(e,"a=msid:");return"undefined"!==typeof t&&r===t.substring(7).split(" ")[0]}));else o=a.media.filter((function(e){return e.startsWith("m=".concat(i))}));if(o.length){var c=S.a.findLines(o[0],"a=ssrc:");if((c=c.filter((function(e){return-1!==e.indexOf("msid:".concat(r))}))).length){var u=c[0].substring(7).split(" ")[0],l=Number(u),d=this.signalingLayer.getSSRCOwner(l);if(isNaN(l)||l<0)R.callErrorHandler(new Error("Invalid SSRC for remote stream[ssrc=".concat(l,",id=").concat(r,",type=").concat(i,"]")));else if(d){var f;y.a.isSourceNameSignalingEnabled()&&((f=this.signalingLayer.getTrackSourceName(l))||(f=Object(h.c)(d,i,0))),N.info("".concat(this," creating remote track[endpoint=").concat(d,",ssrc=").concat(l,",")+"type=".concat(i,",sourceName=").concat(f,"]"));var p=this.signalingLayer.getPeerMediaInfo(d,i,f);if(p){var m=p.muted,v=p.videoType;this._createRemoteTrack(d,e,t,i,v,l,m,f)}else R.callErrorHandler(new Error("".concat(this,": no peer media info available for ").concat(d)))}else R.callErrorHandler(new Error("No SSRC owner known for remote stream[ssrc=".concat(l,",id=").concat(r,",type=").concat(i,"]")))}else R.callErrorHandler(new Error("No SSRC lines found in remote SDP for remote stream[msid=".concat(r,",type=").concat(i,"]")))}else R.callErrorHandler(new Error("No media lines found in remote SDP for remote stream[id=".concat(r,",type=").concat(i,"]")))}else R.callErrorHandler(new Error("MediaType undefined for remote track, stream id: ".concat(r)));else N.info("".concat(this," ignored remote 'stream added' event for non-user stream[id=").concat(r,"]"))},I.prototype._createRemoteTrack=function(e,t,n,r,i,o,a,s){var c=this.remoteTracks.get(e);c||((c=new Map).set(d.a.AUDIO,new Set),c.set(d.a.VIDEO,new Set),this.remoteTracks.set(e,c));var u=c.get(r);if((null===u||void 0===u?void 0:u.size)&&Array.from(u).find((function(e){return e.getTrack()===n})))N.info("".concat(this," ignored duplicated track event for track[endpoint=").concat(e,",type=").concat(r,"]"));else{if((null===u||void 0===u?void 0:u.size)&&!y.a.isSourceNameSignalingEnabled()){N.error("".concat(this," received a second remote track for track[endpoint=").concat(e,",type=").concat(r,"]")+"deleting the existing track");var l=Array.from(u)[0];this._remoteTrackRemoved(l.getOriginalStream(),l.getTrack())}var p=new A.a(this.rtc,this.rtc.conference,e,t,n,r,i,o,a,this.isP2P,s);u.add(p),this.eventEmitter.emit(f.default.REMOTE_TRACK_ADDED,p,this)}},I.prototype._remoteStreamRemoved=function(e){if(w.a.isUserStream(e)){var t,n=e.getVideoTracks(),r=Object(i.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;this._remoteTrackRemoved(e,o)}}catch(d){r.e(d)}finally{r.f()}var a,s=e.getAudioTracks(),c=Object(i.a)(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;this._remoteTrackRemoved(e,u)}}catch(d){c.e(d)}finally{c.f()}}else{var l=w.a.getStreamID(e);N.info("Ignored remote 'stream removed' event for stream[id=".concat(l,"]"))}},I.prototype._remoteTrackRemoved=function(e,t){var n=w.a.getStreamID(e),r=t&&w.a.getTrackID(t);if(w.a.isUserStreamById(n))if(n)if(r){var i=this.getRemoteTracks().find((function(e){return e.getStreamId()===n&&e.getTrackId()===r}));i?(N.info("".concat(this," remote track removed stream[id=").concat(n,",trackId=").concat(r,"]")),this._removeRemoteTrack(i)):R.callErrorHandler(new Error("".concat(this," remote track removal failed - track not found")))}else R.callErrorHandler(new Error("".concat(this," remote track removal failed - no track ID")));else R.callErrorHandler(new Error("".concat(this," remote track removal failed - no stream ID")));else N.info("".concat(this," ignored remote 'stream removed' event for non-user stream[id=").concat(n,"]"))},I.prototype.removeRemoteTracks=function(e){var t=[],n=this.remoteTracks.get(e);return n&&(t=(t=t.concat(Array.from(n.get(d.a.AUDIO)))).concat(Array.from(n.get(d.a.VIDEO))),this.remoteTracks.delete(e)),N.debug("".concat(this," removed remote tracks[endpoint=").concat(e,",count=").concat(t.length)),t},I.prototype._removeRemoteTrack=function(e){var t;e.dispose();var n=e.getParticipantId(),r=this.remoteTracks.get(n);r?(null===(t=r.get(e.getType()))||void 0===t?void 0:t.delete(e))||N.error("".concat(this," Failed to remove ").concat(e," - type mapping messed up ?")):N.error("".concat(this," removeRemoteTrack: no remote tracks map for endpoint=").concat(n)),this.eventEmitter.emit(f.default.REMOTE_TRACK_REMOVED,e)},I.prototype._extractSSRCMap=function(e){var t=new Map,n=new Map;if("object"!==typeof e||null===e||"string"!==typeof e.sdp)return N.warn("An empty description was passed as an argument"),t;var r=c.a.parse(e.sdp);if(!Array.isArray(r.media))return t;var o=r.media;this._usesUnifiedPlan&&(y.a.isMultiStreamSupportEnabled()?o=o.filter((function(e){return e.direction===l.a.SENDONLY||e.direction===l.a.SENDRECV})):(o=[],[d.a.AUDIO,d.a.VIDEO].forEach((function(e){var t=r.media.find((function(t){return t.type===e}));t&&o.push(t)}))));var a,s=0,u=Object(i.a)(o);try{for(u.s();!(a=u.n()).done;){var f=a.value;if(Array.isArray(f.ssrcs)){if(Array.isArray(f.ssrcGroups)){var p,h=Object(i.a)(f.ssrcGroups);try{for(h.s();!(p=h.n()).done;){var m=p.value;if("undefined"!==typeof m.semantics&&"undefined"!==typeof m.ssrcs){var v=m.ssrcs.split(" ").map((function(e){return parseInt(e,10)})),g=v[0];m.ssrcs=v,n.has(g)||n.set(g,[]),n.get(g).push(m)}}}catch(P){h.e(P)}finally{h.f()}}var _=f.ssrcs;_=this._usesUnifiedPlan?_.filter((function(e){return"cname"===e.attribute})):_.filter((function(e){return"msid"===e.attribute}));var b,E=Object(i.a)(_);try{for(E.s();!(b=E.n()).done;){var S=b.value,C=this._usesUnifiedPlan?y.a.isMultiStreamSupportEnabled()?"".concat(f.type,"-").concat(s):f.type:S.value,T=S.id,O=t.get(C);if(O||(O={ssrcs:[],groups:[],msid:C},t.set(C,O)),O.ssrcs.push(T),n.has(T)){var R,A=n.get(T),w=Object(i.a)(A);try{for(w.s();!(R=w.n()).done;){var k=R.value;O.groups.push(k)}}catch(P){w.e(P)}finally{w.f()}}}}catch(P){E.e(P)}finally{E.f()}f.type===d.a.VIDEO&&s++}}}catch(P){u.e(P)}finally{u.f()}return t};var M=function(e){if("object"!==typeof e||null===e||"string"!==typeof e.sdp)return N.warn("An empty description was passed as an argument"),e;var t=n(45),i=t.parse(e.sdp);"undefined"!==typeof i&&"undefined"!==typeof i.media&&Array.isArray(i.media)&&i.media.forEach((function(e){var t=[],n=[];if("undefined"!==typeof e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){"undefined"!==typeof e.semantics&&"FID"===e.semantics&&"undefined"!==typeof e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]))})),Array.isArray(e.ssrcs)){var i;for(i=0;i<e.ssrcs.length;i++)"object"===typeof e.ssrcs[i]&&"undefined"!==typeof e.ssrcs[i].id&&t.indexOf(e.ssrcs[i].id)>=0&&(n.push(e.ssrcs[i]),delete e.ssrcs[i]);for(i=0;i<e.ssrcs.length;i++)"undefined"!==typeof e.ssrcs[i]&&n.push(e.ssrcs[i]);e.ssrcs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!g.a.isChrome()||!g.a.isVersionGreaterThan(70))return e;var t=Object(r.a)(e);return e.filter((function(e){return e.attribute==="mslabel"&&e.value==="-"})).map((function(e){return e.id})).forEach((function(e){var n=t.find((function(t){return t.id===e&&"cname"===t.attribute}));n.value="".concat(l.a.RECVONLY,"-").concat(e),(t=t.filter((function(t){return t.id!==e}))).push(n)})),t}(n)}}));var o=t.write(i);return new RTCSessionDescription({type:e.type,sdp:o})};I.prototype.getLocalSSRC=function(e){var t=this._getSSRC(e.rtcId);return t&&t.ssrcs[0]},I.prototype._injectSsrcGroupForUnifiedSimulcast=function(e){var t=c.a.parse(e.sdp),n=t.media.find((function(e){return"video"===e.type}));n.ssrcGroups=n.ssrcGroups||[];var r=n.ssrcGroups.filter((function(e){return"FID"===e.semantics}));if(n.simulcast||n.simulcast_03){var i=[];if(r&&r.length?r.forEach((function(e){i.push(e.ssrcs.split(" ")[0])})):n.ssrcs.forEach((function(e){"msid"===e.attribute&&i.push(e.id)})),n.ssrcGroups.find((function(e){return"SIM"===e.semantics})))return e;for(var o=0;o<i.length;o+=3){var a=i.slice(o,o+3);n.ssrcGroups.push({semantics:"SIM",ssrcs:a.join(" ")})}}return new RTCSessionDescription({type:e.type,sdp:c.a.write(t)})};var x={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},connectionState:function(){return this.peerconnection.connectionState},localDescription:function(){var e=this.peerconnection.localDescription;return e?(this.trace("getLocalDescription::preTransform",D(e)),this._usesUnifiedPlan&&!this.isP2P?(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",D(e)),e=this._injectSsrcGroupForUnifiedSimulcast(e),this.trace("getLocalDescription::postTransform (inject ssrc group)",D(e))):this._usesUnifiedPlan||(g.a.doesVideoMuteByStreamRemove()&&(e=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(e),N.debug("getLocalDescription::postTransform (munge local SDP)",e)),e=function(e,t){var n,r;if(!e)throw new Error("No local description passed in.");var i=new O.a(e.sdp),o=null===(n=i.selectMedia(d.a.AUDIO))||void 0===n?void 0:n[0],a=!1;o&&o.direction!==l.a.SENDRECV&&(t.startSilent?o.direction=l.a.INACTIVE:o.direction=l.a.SENDRECV,a=!0);var s=null===(r=i.selectMedia(d.a.VIDEO))||void 0===r?void 0:r[0];return s&&s.direction!==l.a.SENDRECV&&(s.direction=l.a.SENDRECV,a=!0),a?new RTCSessionDescription({type:e.type,sdp:i.toRawSDP()}):e}(e,this.options)),e=this.localSdpMunger.transformStreamIdentifiers(e)):(N.debug("".concat(this," getLocalDescription no localDescription found")),{})},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return e?(this.trace("getRemoteDescription::preTransform",D(e)),this._usesUnifiedPlan&&(this.isP2P?e=this._adjustRemoteMediaDirection(e):(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",D(e)))),e):(N.debug("".concat(this," getRemoteDescription no remoteDescription found")),{})}};Object.keys(x).forEach((function(e){Object.defineProperty(I.prototype,e,{get:x[e]})})),I.prototype._getSSRC=function(e){return this.localSSRCs.get(e)},I.prototype.isSharingLowFpsScreen=function(){return this._isSharingScreen()&&this._capScreenshareBitrate},I.prototype._isSharingScreen=function(){var e=this.getLocalVideoTracks();return Boolean(e.find((function(e){return e.videoType===m.VideoType.DESKTOP})))},I.prototype._mungeCodecOrder=function(e){var t=this;if(!this.codecPreference)return e;var n=c.a.parse(e.sdp),r=n.media.find((function(e){return e.type===t.codecPreference.mediaType}));if(!r)return e;if(this.codecPreference.enable)if(S.a.preferCodec(r,this.codecPreference.mimeType),this.codecPreference.mimeType===u.H264&&g.a.isReactNative()&&this.isP2P&&S.a.stripCodec(r,this.codecPreference.mimeType,!0),this.codecPreference.mimeType===u.VP9&&this.getConfiguredVideoCodec()===u.VP9){var i=this.tpcUtils.videoBitrates.VP9||this.tpcUtils.videoBitrates,o=i.high?i.high:P.a,a=Math.floor((this._isSharingScreen()?P.a:o)/1e3);r.bandwidth=[{type:"AS",limit:a}]}else r.bandwidth=void 0;else S.a.stripCodec(r,this.codecPreference.mimeType);return new RTCSessionDescription({type:e.type,sdp:c.a.write(n)})},I.prototype.addTrack=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.rtcId;if(N.info("".concat(this," adding ").concat(e)),this.localTracks.has(r))return Promise.reject(new Error("".concat(e," is already in ").concat(this)));this.localTracks.set(r,e);var i=e.getOriginalStream();if(this._usesUnifiedPlan){N.debug("".concat(this," TPC.addTrack using unified plan"));try{this.tpcUtils.addTrack(e,n)}catch(l){return N.error("".concat(this," Adding track=").concat(e," failed: ").concat(null===l||void 0===l?void 0:l.message)),Promise.reject(l)}}else{if(i)this._addStream(i);else if(!g.a.doesVideoMuteByStreamRemove()||e.isAudioTrack()||e.isVideoTrack()&&!e.isMuted())return Promise.reject(new Error("".concat(this," no WebRTC stream for track=").concat(e)));if(g.a.doesVideoMuteByStreamRemove()&&e.isVideoTrack()&&e.isMuted()){var o=this.generateNewStreamSSRCInfo(e);this.sdpConsistency.setPrimarySsrc(o.ssrcs[0]);var a=o.groups.find((function(e){return"SIM"===e.semantics}));a&&this.simulcast.setSsrcCache(a.ssrcs);var s=o.groups.filter((function(e){return"FID"===e.semantics}));if(s){var c=new Map;s.forEach((function(e){var t=e.ssrcs[0],n=e.ssrcs[1];c.set(t,n)})),this.rtxModifier.setSsrcCache(c)}}}var u=Promise.resolve();return g.a.isFirefox()&&(u=u.then((function(){return i&&t.tpcUtils.setEncodings(e)}))),u},I.prototype.addTrackUnmute=function(e){if(N.info("".concat(this," Adding track=").concat(e," as unmute")),!this._assertTrackBelongs("addTrackUnmute",e))return Promise.reject("Track not found on the peerconnection");var t=e.getOriginalStream();return t?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(null,e).then((function(){return!1})):(this._addStream(t),Promise.resolve(!0)):(N.error("".concat(this," Unable to add track=").concat(e," as unmute - no WebRTC stream")),Promise.reject("Stream not found"))},I.prototype._addStream=function(e){this.peerconnection.addStream(e),this._addedStreams.push(e)},I.prototype._removeStream=function(e){this.peerconnection.removeStream(e),this._addedStreams=this._addedStreams.filter((function(t){return t!==e}))},I.prototype._assertTrackBelongs=function(e,t){var n=this.localTracks.has(null===t||void 0===t?void 0:t.rtcId);return n||N.error("".concat(this," ").concat(e,": track=").concat(t," does not belong to pc")),n},I.prototype.getConfiguredVideoCodec=function(){var e,t=null===(e=this.peerconnection.localDescription)||void 0===e?void 0:e.sdp,n=u.VP8;if(!t)return n;var r=c.a.parse(t).media.find((function(e){return e.type===d.a.VIDEO})).rtp[0].codec;return r?Object.values(u).find((function(e){return e===r.toLowerCase()})):n},I.prototype.setDesktopSharingFrameRate=function(e){var t=e<=v.a;this._capScreenshareBitrate=this.isSimulcastOn()&&t},I.prototype.setVideoCodecs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t,r=t||e;this.codecPreference&&(e||t)?(this.codecPreference.enable=n,this.codecPreference.mimeType=r):e||t?this.codecPreference={enable:n,mediaType:d.a.VIDEO,mimeType:r}:N.warn("".concat(this," Invalid codec settings[preferred=").concat(e,",disabled=").concat(t,"],\n            atleast one value is needed"))},I.prototype.isMediaStreamInPc=function(e){return this._addedStreams.indexOf(e)>-1},I.prototype.removeTrack=function(e){var t=e.getOriginalStream();this.trace("removeStream",e.rtcId,t?t.id:void 0),this._assertTrackBelongs("removeStream",e)&&(this.localTracks.delete(e.rtcId),this.localSSRCs.delete(e.rtcId),t&&this.peerconnection.removeStream(t))},I.prototype.findSenderByKind=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find((function(t){return t.track&&t.track.kind===e}))},I.prototype.findReceiverForTrack=function(e){return this.peerconnection.getReceivers().find((function(t){return t.track===e}))},I.prototype.findSenderForTrack=function(e){if(this.peerconnection.getSenders)return this.peerconnection.getSenders().find((function(t){return t.track===e}))},I.prototype.replaceTrack=function(e,t){var n,r=this;if(!e&&!t)return N.info("".concat(this," replaceTrack called with no new track and no old track")),Promise.resolve();var i=!(!e&&(null===t||void 0===t?void 0:t.getVideoType())===m.VideoType.DESKTOP&&y.a.isMultiStreamSupportEnabled()&&!this.isP2P)&&Boolean(!e||!this.localTracks.has(null===e||void 0===e?void 0:e.rtcId));if(this._usesUnifiedPlan){N.debug("".concat(this," TPC.replaceTrack using unified plan"));var o=null!==(n=null===t||void 0===t?void 0:t.getType())&&void 0!==n?n:null===e||void 0===e?void 0:e.getType(),a=null===t||void 0===t?void 0:t.getOriginalStream();return(t&&!a?Promise.resolve():this.tpcUtils.replaceTrack(e,t)).then((function(n){if(e&&r.localTracks.delete(e.rtcId),t&&r.localTracks.set(t.rtcId,t),e&&t){var a=r.localSSRCs.get(e.rtcId);a&&(r.localSSRCs.delete(e.rtcId),r.localSSRCs.set(t.rtcId,a))}var s=o===d.a.AUDIO?r.audioTransferActive:r.videoTransferActive;return n&&s?n.direction=t||g.a.isFirefox()?l.a.SENDRECV:l.a.RECVONLY:n&&(n.direction=l.a.INACTIVE),(g.a.usesSdpMungingForSimulcast()||!t?Promise.resolve():r.tpcUtils.setEncodings(t)).then((function(){return i}))}))}N.debug("".concat(this," TPC.replaceTrack using plan B"));var s=Promise.resolve();return e&&this.removeTrack(e),t&&(s=this.addTrack(t)),s.then((function(){return!0}))},I.prototype.removeTrackMute=function(e){var t=e.getOriginalStream();return this.trace("removeTrackMute",e.rtcId,t?t.id:null),this._assertTrackBelongs("removeTrackMute",e)?this._usesUnifiedPlan?this.tpcUtils.replaceTrack(e,null).then((function(){return!1})):t?(N.info("".concat(this," Removing track=").concat(e," as mute")),this._removeStream(t),Promise.resolve(!0)):(N.error("".concat(this," removeTrackMute - no WebRTC stream for track=").concat(e)),Promise.reject("Stream not found")):Promise.reject("Track not found in the peerconnection")},I.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},I.prototype._ensureSimulcastGroupIsLast=function(e){var t=e.sdp,n=t.indexOf("m=video"),r=t.indexOf("a=ssrc-group:SIM",n),i=t.lastIndexOf("a=ssrc-group");if(-1===r||-1===i||i===r)return e;var o=t.indexOf("\r\n",r),a=t.substring(r,o+2);i=(t=t.replace(a,"")).lastIndexOf("a=ssrc-group");var s=t.indexOf("\r\n",i),c=t.slice(0,s),u=a.trim(),l=t.slice(s);return t="".concat(c,"\r\n").concat(u).concat(l),new RTCSessionDescription({type:e.type,sdp:t})},I.prototype._adjustLocalMediaDirection=function(e){var t,n,r=new O.a(e.sdp),i=!1,o=null===(t=r.selectMedia(d.a.AUDIO))||void 0===t?void 0:t[0];if(o){var a=this.getDesiredMediaDirection(d.a.AUDIO);o.direction!==a&&(o.direction=a,N.info("".concat(this," Adjusted local audio direction to ").concat(a)),i=!0)}else N.warn("".concat(this,' No "audio" media found in the local description'));var s=null===(n=r.selectMedia(d.a.VIDEO))||void 0===n?void 0:n[0];if(s){var c=this.getDesiredMediaDirection(d.a.VIDEO);s.direction!==c&&(s.direction=c,N.info("".concat(this," Adjusted local video direction to ").concat(c)),i=!0)}else N.warn("".concat(this,' No "video" media found in the local description'));return i?new RTCSessionDescription({type:e.type,sdp:r.toRawSDP()}):e},I.prototype._adjustRemoteMediaDirection=function(e){var t=this,n=new O.a(e.sdp);return[d.a.AUDIO,d.a.VIDEO].forEach((function(e){var r,i=null===(r=n.selectMedia(e))||void 0===r?void 0:r[0],o=t.hasAnyTracksOfType(e),a=t.getRemoteTracks(null,e).length>0;i.direction=o&&a?l.a.SENDRECV:o?l.a.RECVONLY:a?l.a.SENDONLY:l.a.INACTIVE})),new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})},I.prototype._mungeOpus=function(e){var t=this.options.audioQuality;if(!(null===t||void 0===t?void 0:t.stereo)&&!(null===t||void 0===t?void 0:t.opusMaxAverageBitrate))return e;var n,r=c.a.parse(e.sdp),o=r.media,a=Object(i.a)(o);try{var s=function(){var e=n.value;if("audio"===e.type){var r=e.rtp.find((function(e){return e.codec===u.OPUS})).payload;if(!r)return 0;var i=e.fmtp.find((function(e){return e.payload===r}));i||(i={payload:r,config:""});var o=c.a.parseParams(i.config),a=!1;if((null===t||void 0===t?void 0:t.stereo)&&(o.stereo=1,a=!0),(null===t||void 0===t?void 0:t.opusMaxAverageBitrate)&&(o.maxaveragebitrate=t.opusMaxAverageBitrate,a=!0),!a)return 0;for(var s="",l=0,d=Object.keys(o);l<d.length;l++){var f=d[l];s+="".concat(f,"=").concat(o[f],"; ")}i.config=s.trim()}};for(a.s();!(n=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}return new RTCSessionDescription({type:e.type,sdp:c.a.write(r)})},I.prototype._mungeInactive=function(e){var t,n=c.a.parse(e.sdp),r=n.media,o=Object(i.a)(r);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.direction=l.a.INACTIVE,a.ssrcs=void 0,a.ssrcGroups=void 0}}catch(s){o.e(s)}finally{o.f()}return new RTCSessionDescription({type:e.type,sdp:c.a.write(n)})},I.prototype._initializeDtlsTransport=function(){var e=this;if(this.peerconnection.getSenders&&!this._dtlsTransport){var t=this.peerconnection.getSenders();0!==t.length&&t[0].transport&&(this._dtlsTransport=t[0].transport,this._dtlsTransport.onerror=function(t){N.error("".concat(e," DtlsTransport error: ").concat(t))},this._dtlsTransport.onstatechange=function(){e.trace("dtlsTransport.onstatechange",e._dtlsTransport.state)})}},I.prototype.configureSenderVideoEncodings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(y.a.isSourceNameSignalingEnabled()){if(e)return this.setSenderVideoConstraints(this._senderMaxHeights.get(e.getSourceName()),e);var t,n=[],r=Object(i.a)(this.getLocalVideoTracks());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(this.setSenderVideoConstraints(this._senderMaxHeights.get(o.getSourceName()),o))}}catch(s){r.e(s)}finally{r.f()}return Promise.allSettled(n)}var a=e;return a||(a=this.getLocalVideoTracks()[0]),this.setSenderVideoConstraints(this._senderVideoMaxHeight,a)},I.prototype.setLocalDescription=function(e){var t=this,n=e;return this.trace("setLocalDescription::preTransform",D(n)),n=this._mungeOpus(n),this._usesUnifiedPlan||(n=this._adjustLocalMediaDirection(n),n=this._ensureSimulcastGroupIsLast(n)),this._usesTransceiverCodecPreferences||(n=this._mungeCodecOrder(n)),this.trace("setLocalDescription::postTransform",D(n)),new Promise((function(e,r){t.peerconnection.setLocalDescription(n).then((function(){t.trace("setLocalDescriptionOnSuccess");var r=S.a.getUfrag(n.sdp);r!==t.localUfrag&&(t.localUfrag=r,t.eventEmitter.emit(f.default.LOCAL_UFRAG_CHANGED,t,r)),t._initializeDtlsTransport(),e()}),(function(e){t.trace("setLocalDescriptionOnFailure",e),t.eventEmitter.emit(f.default.SET_LOCAL_DESCRIPTION_FAILED,e,t),r(e)}))}))},I.prototype.setAudioTransferActive=function(e){N.debug("".concat(this," audio transfer active: ").concat(e));var t=this.audioTransferActive!==e;return this.audioTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setAudioTransferActive(e),!1):t},I.prototype.setRemoteDescription=function(e){var t=this,n=e;if(this.trace("setRemoteDescription::preTransform",D(e)),n=this._mungeOpus(n),this._usesUnifiedPlan){if(!this.isP2P){var r=this.peerconnection.remoteDescription;n=this.interop.toUnifiedPlan(n,r),this.trace("setRemoteDescription::postTransform (Unified)",D(n)),y.a.isRunInLiteModeEnabled()&&(n=this._mungeInactive(n))}this.isSimulcastOn()&&(n=this.tpcUtils.insertUnifiedPlanSimulcastReceive(n),this.trace("setRemoteDescription::postTransform (sim receive)",D(n))),n=this.tpcUtils.ensureCorrectOrderOfSsrcs(n),this.trace("setRemoteDescription::postTransform (correct ssrc order)",D(n))}else this.isSimulcastOn()&&(n=this.simulcast.mungeRemoteDescription(n,!0),this.trace("setRemoteDescription::postTransform (simulcast)",D(n))),n=M(n);return n=this._mungeCodecOrder(n),this.trace("setRemoteDescription::postTransform (munge codec order)",D(n)),new Promise((function(e,r){t.peerconnection.setRemoteDescription(n).then((function(){t.trace("setRemoteDescriptionOnSuccess");var r=S.a.getUfrag(n.sdp);r!==t.remoteUfrag&&(t.remoteUfrag=r,t.eventEmitter.emit(f.default.REMOTE_UFRAG_CHANGED,t,r)),t._initializeDtlsTransport(),e()}),(function(e){t.trace("setRemoteDescriptionOnFailure",e),t.eventEmitter.emit(f.default.SET_REMOTE_DESCRIPTION_FAILED,e,t),r(e)}))}))},I.prototype.setSenderVideoConstraints=function(e,t){var n,r,i,o,a,s,c,l,d=this;if(e<0)throw new Error("Invalid frameHeight: ".concat(e));if(g.a.isReactNative())return Promise.resolve();if(y.a.isSourceNameSignalingEnabled()?this._senderMaxHeights.set(t.getSourceName(),e):this._senderVideoMaxHeight=e,!t||t.isMuted())return Promise.resolve();var p=this.findSenderForTrack(t.getTrack());if(!p)return Promise.resolve();var h=p.getParameters();if(!(null===(n=null===h||void 0===h?void 0:h.encodings)||void 0===n?void 0:n.length))return Promise.resolve();var v=this.isSharingLowFpsScreen()?"maintain-resolution":"maintain-framerate";h.degradationPreference=v,N.info("".concat(this," Setting degradation preference [preference=").concat(v,",track=").concat(t)),this.encodingsEnabledState=this.tpcUtils.calculateEncodingsActiveState(t,e);var _=this.tpcUtils.calculateEncodingsBitrates(t),b=t.getVideoType();if(this.isSimulcastOn()){for(var E in h.encodings)h.encodings.hasOwnProperty(E)&&(h.encodings[E].active=this.encodingsEnabledState[E],g.a.isFirefox()&&(h.encodings[E].degradationPreference=v),this.getConfiguredVideoCodec()===u.VP8&&((null===(i=null===(r=this.options)||void 0===r?void 0:r.videoQuality)||void 0===i?void 0:i.maxBitratesVideo)||this.isSharingLowFpsScreen()||this._usesUnifiedPlan)&&(h.encodings[E].maxBitrate=_[E]));this.tpcUtils.updateEncodingsResolution(h)}else if(e>0){var S=P.b;if(b===m.VideoType.CAMERA&&t.resolution>e&&(S=Math.floor(t.resolution/e)),h.encodings[0].active=!0,h.encodings[0].scaleResolutionDownBy=S,g.a.isFirefox()&&(h.encodings[0].degradationPreference=v),this.getConfiguredVideoCodec()===u.VP8&&(null===(a=null===(o=this.options)||void 0===o?void 0:o.videoQuality)||void 0===a?void 0:a.maxBitratesVideo)){var C=null===(s=this.getTargetVideoBitrates())||void 0===s?void 0:s.high;b===m.VideoType.CAMERA&&(C=null!==(l=null===(c=this.tpcUtils.localStreamEncodingsConfig.find((function(e){return e.scaleResolutionDownBy===S})))||void 0===c?void 0:c.maxBitrate)&&void 0!==l?l:C),h.encodings[0].maxBitrate=C}}else h.encodings[0].active=!1;return N.info("".concat(this," setting max height=").concat(e,",encodings=").concat(JSON.stringify(h.encodings))),p.setParameters(h).then((function(){t.maxEnabledResolution=e,d.eventEmitter.emit(f.default.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,t)}))},I.prototype.setVideoTransferActive=function(e){N.debug("".concat(this," video transfer active: ").concat(e));var t=this.videoTransferActive!==e;return this.videoTransferActive=e,this._usesUnifiedPlan?(this.tpcUtils.setVideoTransferActive(e),!1):t},I.prototype.sendTones=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var r=this.peerconnection.getSenders().find((function(e){return e.dtmf}));this._dtmfSender=r&&r.dtmf,this._dtmfSender&&N.info("".concat(this," initialized DTMFSender using getSenders"))}if(!this._dtmfSender){var i=Array.from(this.localTracks.values()).find((function(e){return e.isAudioTrack()}));this.peerconnection.createDTMFSender&&i&&(this._dtmfSender=this.peerconnection.createDTMFSender(i.getTrack())),this._dtmfSender&&N.info("".concat(this," initialized DTMFSender using deprecated createDTMFSender"))}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:e,duration:t,interToneGap:n});this._dtmfSender.insertDTMF(e,t,n)}else N.warn("".concat(this," sendTones - failed to select DTMFSender"))},I.prototype._onToneChange=function(e){if(this._dtmfSender&&""===e.tone&&this._dtmfTonesQueue.length){var t=this._dtmfTonesQueue.shift(),n=t.tones,r=t.duration,i=t.interToneGap;this._dtmfSender.insertDTMF(n,r,i)}},I.prototype.generateRecvonlySsrc=function(){var e=S.a.generateSsrc();N.info("".concat(this," generated new recvonly SSRC=").concat(e)),this.sdpConsistency.setPrimarySsrc(e)},I.prototype.clearRecvonlySsrc=function(){N.info("".concat(this," Clearing primary video SSRC!")),this.sdpConsistency.clearVideoSsrcCache()},I.prototype.close=function(){this.trace("stop"),this.signalingLayer.off(p.a,this._peerMutedChanged),this.signalingLayer.off(p.b,this._peerVideoTypeChanged),this._usesUnifiedPlan&&this.peerconnection.removeEventListener("track",this.onTrack);var e,t=Object(i.a)(this.remoteTracks.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,o=Object(i.a)(r.values());try{for(o.s();!(n=o.n()).done;){var a,s=n.value,c=Object(i.a)(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;this._removeRemoteTrack(u)}}catch(l){c.e(l)}finally{c.f()}}}catch(l){o.e(l)}finally{o.f()}}}catch(l){t.e(l)}finally{t.f()}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||N.error("".concat(this," RTC._removePeerConnection returned false")),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),N.info("".concat(this," Closing peerconnection")),this.peerconnection.close()},I.prototype.createAnswer=function(e){return this._createOfferOrAnswer(!1,e)},I.prototype.createOffer=function(e){return this._createOfferOrAnswer(!0,e)},I.prototype._createOfferOrAnswer=function(e,t){var n,r,i,o=this,a=e?"Offer":"Answer";this.trace("create".concat(a),JSON.stringify(t,null," "));if(this._usesTransceiverCodecPreferences){var s=this.peerconnection.getTransceivers().find((function(e){var t,n;return e.receiver&&(null===(n=null===(t=e.receiver)||void 0===t?void 0:t.track)||void 0===n?void 0:n.kind)===d.a.VIDEO}));if(s){var c=null===(n=RTCRtpReceiver.getCapabilities(d.a.VIDEO))||void 0===n?void 0:n.codecs,l=null===(r=this.codecPreference)||void 0===r?void 0:r.mimeType,p=null===(i=this.codecPreference)||void 0===i?void 0:i.enable;c&&l&&p?c.sort((function(e){return e.mimeType.toLowerCase()==="".concat(d.a.VIDEO,"/").concat(l)?-1:1})):c&&l&&(c=c.filter((function(e){return e.mimeType.toLowerCase()!=="".concat(d.a.VIDEO,"/").concat(l)}))),g.a.isChromiumBased()&&(c=c.filter((function(e){return e.mimeType.toLowerCase()!=="".concat(d.a.VIDEO,"/").concat(u.ULPFEC)})));try{s.setCodecPreferences(c)}catch(h){N.warn("".concat(this," Setting codec[preference=").concat(l,",enable=").concat(p,"] failed"),h)}}}return new Promise((function(n,r){(e?o.peerconnection.createOffer(t):o.peerconnection.createAnswer(t)).then((function(e){return function(e,t,n){try{o.trace("create".concat(a,"OnSuccess::preTransform"),D(e)),o._usesUnifiedPlan||(o.hasAnyTracksOfType(d.a.VIDEO)||o.sdpConsistency.hasPrimarySsrcCached()||o.generateRecvonlySsrc(),e=new RTCSessionDescription({type:e.type,sdp:o.sdpConsistency.makeVideoPrimarySsrcsConsistent(e.sdp)}),o.trace("create".concat(a,"OnSuccess::postTransform ")+"(make primary audio/video ssrcs consistent)",D(e)));var r=o.getLocalVideoTracks()[0];o.isSimulcastOn()&&g.a.usesSdpMungingForSimulcast()&&((null===r||void 0===r?void 0:r.getVideoType())===m.VideoType.CAMERA||o._usesUnifiedPlan||!o.isSharingLowFpsScreen())&&(e=o.simulcast.mungeLocalDescription(e),o.trace("create".concat(a," OnSuccess::postTransform (simulcast)"),D(e))),!o.options.disableRtx&&g.a.usesSdpMungingForSimulcast()&&(e=new RTCSessionDescription({type:e.type,sdp:o.rtxModifier.modifyRtxSsrcs(e.sdp)}),o.trace("create".concat(a)+"OnSuccess::postTransform (rtx modifier)",D(e)));var i=o._extractSSRCMap(e);o._processLocalSSRCsMap(i),t(e)}catch(s){o.trace("create".concat(a,"OnError"),s),o.trace("create".concat(a,"OnError"),D(e)),N.error("".concat(o," create").concat(a,"OnError"),s,D(e)),n(s)}}(e,n,r)}),(function(t){return function(t,n){o.trace("create".concat(a,"OnFailure"),t);var r=e?f.default.CREATE_OFFER_FAILED:f.default.CREATE_ANSWER_FAILED;o.eventEmitter.emit(r,t,o),n(t)}(t,r)}))}))},I.prototype._extractPrimarySSRC=function(e){return e&&e.groups&&e.groups.length?e.groups[0].ssrcs[0]:e&&e.ssrcs&&e.ssrcs.length?e.ssrcs[0]:null},I.prototype._processLocalSSRCsMap=function(e){var t,n=Object(i.a)(this.localTracks.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,o=void 0,a=void 0;y.a.isMultiStreamSupportEnabled()&&(o=(null===(a=r.getSourceName())||void 0===a?void 0:a.indexOf("-"))+2);var s=this._usesUnifiedPlan?y.a.isMultiStreamSupportEnabled()&&o?"".concat(r.getType(),"-").concat(a.substr(o,1)):r.getType():r.storedMSID;if(e.has(s)){var c=e.get(s);if(!c)return void N.error("".concat(this," No SSRC found for stream=").concat(s));var u=this.localSSRCs.get(r.rtcId),l=this._extractPrimarySSRC(c),d=this._extractPrimarySSRC(u);l!==d&&(d&&N.error("".concat(this," Overwriting SSRC for track=").concat(r,"] with ssrc=").concat(c)),this.localSSRCs.set(r.rtcId,c),this.eventEmitter.emit(f.default.LOCAL_TRACK_SSRC_UPDATED,r,l))}else r.isVideoTrack()||r.isMuted()||N.warn("".concat(this," No SSRCs found in the local SDP for track=").concat(r,", stream=").concat(s))}}catch(p){n.e(p)}finally{n.f()}},I.prototype.addIceCandidate=function(e){return this.trace("addIceCandidate",JSON.stringify({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex,usernameFragment:e.usernameFragment},null," ")),this.peerconnection.addIceCandidate(e)},I.prototype.getActiveSimulcastStreams=function(){var e,t=1;return this.isSimulcastOn()&&this.encodingsEnabledState?t=null===(e=this.encodingsEnabledState.filter((function(e){return Boolean(e)})))||void 0===e?void 0:e.length:this.isSimulcastOn()&&(t=P.c.length),t},I.prototype.getStats=function(){return this.peerconnection.getStats()},I.prototype.generateNewStreamSSRCInfo=function(e){var t=e.rtcId,n=this._getSSRC(t);if(n&&N.error("".concat(this," Overwriting local SSRCs for track id=").concat(t)),!this.isSimulcastOn()||e.getVideoType()!==m.VideoType.CAMERA&&this.isSharingLowFpsScreen())n={ssrcs:[S.a.generateSsrc()],groups:[]};else{n={ssrcs:[],groups:[]};for(var r=0;r<P.c.length;r++)n.ssrcs.push(S.a.generateSsrc());n.groups.push({ssrcs:n.ssrcs.slice(),semantics:"SIM"})}if(!this.options.disableRtx)for(var i=n.ssrcs.length,o=0;o<i;++o){var a=n.ssrcs[o],s=S.a.generateSsrc();n.ssrcs.push(s),n.groups.push({ssrcs:[a,s],semantics:"FID"})}return n.msid=e.storedMSID,this.localSSRCs.set(t,n),n},I.prototype.usesUnifiedPlan=function(){return this._usesUnifiedPlan},I.prototype.toString=function(){return"TPC[id=".concat(this.id,",type=").concat(this.isP2P?"P2P":"JVB","]")}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(31),i=n(12),o=n(6),a=n(5),s=n(10),c=n(28),u=n(8),l=n(84),d=n(32),f=n(20),p=n(72),h=Object(s.getLogger)(e),m=function(){function e(t,n){Object(o.a)(this,e),this.tpc=t,this.localEndpointId=n,this.audioSourcesToMsidMap=new Map,this.videoSourcesToMsidMap=new Map}return Object(a.a)(e,[{key:"_addMutedLocalVideoTracksToSDP",value:function(e){var t,n=this.tpc.getLocalTracks(u.a.VIDEO);if(!n.length)return!1;1!==n.length&&h.error("".concat(this.tpc," there is more than 1 video track ! ")+"Strange things may happen !",n);var r=null===(t=e.selectMedia(u.a.VIDEO))||void 0===t?void 0:t[0];if(!r)return h.debug("".concat(this.tpc," unable to hack local video track SDP")+'- no "video" media'),!1;var o,a=!1,s=Object(i.a)(n);try{for(s.s();!(o=s.n()).done;){var l=o.value,f=l.isMuted(),p=l.getOriginalStream(),m=l.videoType===d.VideoType.CAMERA,v=p&&this.tpc.isMediaStreamInPc(p);if(m&&(f||!v)){var g=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(g.length){a=!0,r.direction=c.a.SENDRECV;var y,_=g[0],b="injected-".concat(_),E=Object(i.a)(g);try{for(E.s();!(y=E.n()).done;){var S=y.value;r.removeSSRC(S),r.addSSRCAttribute({id:S,attribute:"cname",value:b}),r.addSSRCAttribute({id:S,attribute:"msid",value:l.storedMSID})}}catch(T){E.e(T)}finally{E.f()}if(g.length>1){var C={ssrcs:g.join(" "),semantics:"SIM"};r.findGroup(C.semantics,C.ssrcs)||r.addSSRCGroup(C)}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(r)}else h.error("No SSRCs stored for: ".concat(l," in ").concat(this.tpc))}}}catch(T){s.e(T)}finally{s.f()}return a}},{key:"_generateMsidAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!t)return h.error("Unable to munge local MSID - track id=".concat(t," or media type=").concat(e," is missing")),null;var r=this.tpc.id;return"-"!==n&&n?"".concat(n,"-").concat(r," ").concat(t,"-").concat(r):"".concat(this.localEndpointId,"-").concat(e,"-").concat(r," ").concat(t,"-").concat(r)}},{key:"_transformMediaIdentifiers",value:function(e){var t,n,o,a,s,c=this,l=null===(t=e.mLine)||void 0===t?void 0:t.type,d=this.tpc.id,p=Object(i.a)(e.ssrcs);try{for(p.s();!(s=p.n()).done;){var m=s.value;switch(m.attribute){case"cname":case"label":case"mslabel":m.value=m.value&&"".concat(m.value,"-").concat(d);break;case"msid":if(m.value){var v=m.value.split(" "),g=v[0],y=v[1];f.a.isSourceNameSignalingEnabled()&&(g="".concat(this.localEndpointId,"-").concat(l),l===u.a.VIDEO?this.videoSourcesToMsidMap.has(y)||(g="".concat(g,"-").concat(this.videoSourcesToMsidMap.size),this.videoSourcesToMsidMap.set(y,g)):this.audioSourcesToMsidMap.has(y)||(g="".concat(g,"-").concat(this.audioSourcesToMsidMap.size),this.audioSourcesToMsidMap.set(y,g)),g=l===u.a.VIDEO?this.videoSourcesToMsidMap.get(y):this.audioSourcesToMsidMap.get(y)),m.value=this._generateMsidAttribute(l,y,g)}else h.warn("Unable to munge local MSID - weird format detected: ".concat(m.value))}}}catch(O){p.e(O)}finally{p.f()}if(this.tpc.usesUnifiedPlan()){var _,b=null===(n=e.mLine)||void 0===n?void 0:n.msid,E=b&&b.split(" ")[1],S=Object(r.a)(new Set(null===(a=null===(o=e.mLine)||void 0===o?void 0:o.ssrcs)||void 0===a?void 0:a.map((function(e){return e.id})))),C=Object(i.a)(S);try{var T=function(){var t=_.value;if(!e.ssrcs.find((function(e){return e.id===t&&"msid"===e.attribute}))&&E){var n=c._generateMsidAttribute(l,E);e.ssrcs.push({id:t,attribute:"msid",value:n})}};for(C.s();!(_=C.n()).done;)T()}catch(O){C.e(O)}finally{C.f()}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(e){if(!e)throw new Error("No local description passed in.");var t=new p.a(e.sdp);return this._addMutedLocalVideoTracksToSDP(t)?new RTCSessionDescription({type:e.type,sdp:t.toRawSDP()}):e}},{key:"transformStreamIdentifiers",value:function(e){var t;if(!e||!e.sdp||!e.type)return e;var n=new p.a(e.sdp),r=null===(t=n.selectMedia(u.a.AUDIO))||void 0===t?void 0:t[0];r&&(this._transformMediaIdentifiers(r),this._injectSourceNames(r));var o=n.selectMedia(u.a.VIDEO);f.a.isMultiStreamSupportEnabled()||o.splice(1);var a,s=Object(i.a)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;this._transformMediaIdentifiers(c),this._injectSourceNames(c)}}catch(l){s.e(l)}finally{s.f()}return f.a.isSourceNameSignalingEnabled()&&!this.tpc._usesUnifiedPlan&&(this.audioSourcesToMsidMap.clear(),this.videoSourcesToMsidMap.clear()),new RTCSessionDescription({type:e.type,sdp:n.toRawSDP()})}},{key:"_injectSourceNames",value:function(e){var t,n,o,a,s=this;if(f.a.isSourceNameSignalingEnabled()){var c=Object(r.a)(new Set(null===(n=null===(t=e.mLine)||void 0===t?void 0:t.ssrcs)||void 0===n?void 0:n.map((function(e){return e.id})))),u=null===(o=e.mLine)||void 0===o?void 0:o.type;if(!u)throw new Error("_transformMediaIdentifiers - no media type in mediaSection");var d,p=Object(i.a)(c);try{var h=function(){var t,n=d.value,r=e.ssrcs.find((function(e){return e.id===n&&"name"===e.attribute})),i=null===(a=e.ssrcs.find((function(e){return e.id===n&&"msid"===e.attribute})))||void 0===a?void 0:a.value;i&&(t=i.split(" ")[0].split("-")[2]);r||e.ssrcs.push({id:n,attribute:"name",value:Object(l.c)(s.localEndpointId,u,t)})};for(p.s();!(d=p.n()).done;)h()}catch(m){p.e(m)}finally{p.f()}}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(28),c=n(8),u=n(21),l=n(72),d=Object(a.getLogger)(e);function f(e,t,n){var r=t.id,i=t.msid,o=t.cname,a=e.getRtxSSRC(r);a!==n&&(a&&(e.removeSSRC(a),e.removeGroupsWithSSRC(a)),e.addSSRCAttribute({id:n,attribute:"cname",value:o}),e.addSSRCAttribute({id:n,attribute:"msid",value:i}),e.addSSRCGroup({semantics:"FID",ssrcs:"".concat(r," ").concat(n)}))}var p=function(){function e(){Object(i.a)(this,e),this.correspondingRtxSsrcs=new Map}return Object(o.a)(e,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(e){d.debug("Setting ssrc cache to ",e),this.correspondingRtxSsrcs=e}},{key:"modifyRtxSsrcs",value:function(e){var t=!1,n=new l.a(e),i=n.selectMedia(c.a.VIDEO);if(!(null===i||void 0===i?void 0:i.length))return d.debug("No 'video' media found in the sdp: ".concat(e)),e;var o,a=Object(r.a)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.modifyRtxSsrcs2(s)&&(t=!0)}}catch(u){a.e(u)}finally{a.f()}return t?n.toRawSDP():e}},{key:"modifyRtxSsrcs2",value:function(e){if(e.direction===s.a.RECVONLY)return!1;if(e.getSSRCCount()<1)return!1;var t,n=e.getPrimaryVideoSSRCs(),i=Object(r.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.getSSRCAttrValue(o,"msid"),c=e.getSSRCAttrValue(o,"cname"),l=this.correspondingRtxSsrcs.get(o);if(!l){var d=e.getRtxSSRC(o);l=d||u.a.generateSsrc(),this.correspondingRtxSsrcs.set(o,l)}f(e,{id:o,cname:c,msid:a},l)}}catch(p){i.e(p)}finally{i.f()}return!0}},{key:"stripRtx",value:function(e){var t=new l.a(e),n=t.selectMedia(c.a.VIDEO);if(!(null===n||void 0===n?void 0:n.length))return d.debug("No 'video' media found in the sdp: ".concat(e)),e;var i,o=Object(r.a)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.direction!==s.a.RECVONLY&&a.getSSRCCount()&&a.containsAnySSRCGroups()){var u=a.findGroups("FID");a.removeGroupsBySemantics("FID");var f,p=Object(r.a)(u);try{for(p.s();!(f=p.n()).done;){var h=f.value,m=Object(l.c)(h);a.removeSSRC(m)}}catch(v){p.e(v)}finally{p.f()}}}}catch(v){o.e(v)}finally{o.f()}return t.toRawSDP()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(8),c=n(72),u=Object(a.getLogger)(e),l=function(){function e(t){Object(i.a)(this,e),this.clearVideoSsrcCache(),this.logPrefix=t}return Object(o.a)(e,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(e){if("number"!==typeof e)throw new Error("Primary SSRC must be a number!");this.cachedPrimarySsrc=e}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(e){var t,n=new c.a(e),i=null===(t=n.selectMedia(s.a.VIDEO))||void 0===t?void 0:t[0];if(!i)return u.debug("".concat(this.logPrefix," no 'video' media found in the sdp: ").concat(e)),e;if("recvonly"===i.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?i.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:"cname",value:"recvonly-".concat(this.cachedPrimarySsrc)}):u.info("".concat(this.logPrefix," no SSRC found for the recvonly video stream!"));else{var o=i.getPrimaryVideoSsrc();if(!o)return u.info("".concat(this.logPrefix," sdp-consistency couldn't parse new primary ssrc")),e;if(this.cachedPrimarySsrc){i.replaceSSRC(o,this.cachedPrimarySsrc);var a,l=Object(r.a)(i.ssrcGroups);try{for(l.s();!(a=l.n()).done;){var d=a.value;if("FID"===d.semantics){var f=Object(c.b)(d),p=Object(c.c)(d);f===o&&(d.ssrcs="".concat(this.cachedPrimarySsrc," ").concat(p))}}}catch(h){l.e(h)}finally{l.f()}}else this.cachedPrimarySsrc=o;this.injectRecvOnly=!0}return n.toRawSDP()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(6),o=n(5),a=n(28),s=n(8),c=n(45),u=function(){function e(t){Object(i.a)(this,e),this._options=t,this._ssrcCache=new Map,this._options.numOfLayers||(this._options.numOfLayers=3)}return Object(o.a)(e,[{key:"_fillSsrcsFromCache",value:function(e){var t=e.mid,n=this._ssrcCache.get(t),i=this._parseSimLayers(e),o=this._getSsrcAttribute(e,i[0],"msid"),a=this._getSsrcAttribute(e,i[0],"cname");e.ssrcs=[],e.ssrcGroups=[];var s,c=Object(r.a)(n);try{for(c.s();!(s=c.n()).done;){var u=s.value;e.ssrcs.push({id:u,attribute:"msid",value:o}),e.ssrcs.push({id:u,attribute:"cname",value:a})}}catch(l){c.e(l)}finally{c.f()}return e.ssrcGroups.push({semantics:"SIM",ssrcs:n.join(" ")}),e}},{key:"_generateNewSsrcsForSimulcast",value:function(e,t){var n=this._getSsrcAttribute(e,t,"cname"),r=this._getSsrcAttribute(e,t,"msid"),i=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:n}),e.ssrcs.push({id:t,attribute:"msid",value:r})};r||(r=e.msid,e.ssrcs.forEach((function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})})));for(var o=[],a=0;a<this._options.numOfLayers-1;++a){var s=this._generateSsrc();i(e,s),o.push(s)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e}},{key:"_generateSsrc",value:function(){return Math.floor(4294967295*Math.random())}},{key:"_getSsrcAttribute",value:function(e,t,n){var r,i;return null===(i=null===(r=e.ssrcs)||void 0===r?void 0:r.find((function(e){return Number(e.id)===t&&e.attribute===n})))||void 0===i?void 0:i.value}},{key:"_parseSimLayers",value:function(e){var t,n,r=null===(t=e.ssrcGroups)||void 0===t?void 0:t.find((function(e){return"SIM"===e.semantics}));return r?r.ssrcs.split(" ").map((function(e){return Number(e)})):(null===(n=e.ssrcs)||void 0===n?void 0:n.length)?[Number(e.ssrcs[0].id)]:null}},{key:"mungeLocalDescription",value:function(e){var t,n,i,o;if(!e||!e.sdp)return e;var u,l=c.parse(e.sdp),d=Object(r.a)(l.media);try{for(d.s();!(u=d.n()).done;){var f=u.value;if(f.direction!==a.a.RECVONLY&&f.direction!==a.a.INACTIVE&&f.type===s.a.VIDEO){var p=f.mid,h=new Set(null===(t=f.ssrcs)||void 0===t?void 0:t.map((function(e){return e.id}))),m=null!==(i=null===(n=f.ssrcGroups)||void 0===n?void 0:n.length)&&void 0!==i?i:0,v=void 0;if(!(0===h.size||h.size>2||2===h.size&&0===m)){if(1===h.size)v=Number(null===(o=f.ssrcs[0])||void 0===o?void 0:o.id);else{var g=f.ssrcGroups.find((function(e){return"FID"===e.semantics}));g&&(v=Number(g.ssrcs.split(" ")[0]))}if(this._ssrcCache.has(p))f=this._fillSsrcsFromCache(f);else{f=this._generateNewSsrcsForSimulcast(f,v);var y=this._parseSimLayers(f);this._ssrcCache.set(p,y)}}}}}catch(_){d.e(_)}finally{d.f()}return new RTCSessionDescription({type:e.type,sdp:c.write(l)})}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(6),i=n(5),o=n(29),a=n(67),s=n(53),c=n(24),u=n(25),l=n(39),d=n(23),f=n(144),p=n(20),h=n(17),m=n(158),v=n(10).getLogger(e),g=n(18),y=!1,_=!1,b=["abort","canplaythrough","ended","error"],E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,i,a,s,c,u,l,d,f,p,h){var m;if(Object(r.a)(this,n),(m=t.call(this,i,s,c,(function(){}),u,l)).rtc=e,"number"!==typeof d)throw new TypeError("SSRC ".concat(d," is not a number"));return m.ssrc=d,m.ownerEndpointId=a,m.muted=f,m.isP2P=p,m._sourceName=h,m._trackStreamingStatus=null,m._trackStreamingStatusImpl=null,m._enteredForwardedSourcesTimestamp=null,m.addEventListener=m.on=m._addEventListener.bind(Object(o.a)(m)),m.removeEventListener=m.off=m._removeEventListener.bind(Object(o.a)(m)),v.debug("New remote track added: ".concat(Object(o.a)(m))),m.hasBeenMuted=f,m.rtc&&m.track&&m._bindTrackHandlers(),m._containerHandlers={},b.forEach((function(e){m._containerHandlers[e]=m._containerEventHandler.bind(Object(o.a)(m),e)})),m}return Object(i.a)(n,[{key:"_bindTrackHandlers",value:function(){var e=this;this.track.addEventListener("mute",(function(){return e._onTrackMute()})),this.track.addEventListener("unmute",(function(){return e._onTrackUnmute()})),this.track.addEventListener("ended",(function(){v.debug('"onended" event('.concat(Date.now(),"): ").concat(e))}))}},{key:"_addEventListener",value:function(e,t){Object(a.a)(Object(s.a)(n.prototype),"addListener",this).call(this,e,t),p.a.isSourceNameSignalingEnabled()&&e===l.TRACK_STREAMING_STATUS_CHANGED&&this.listenerCount(l.TRACK_STREAMING_STATUS_CHANGED)&&!this._trackStreamingStatusImpl&&(this._initTrackStreamingStatus(),v.debug("Initializing track streaming status: ".concat(this._sourceName)))}},{key:"_removeEventListener",value:function(e,t){Object(a.a)(Object(s.a)(n.prototype),"removeListener",this).call(this,e,t),p.a.isSourceNameSignalingEnabled()&&e===l.TRACK_STREAMING_STATUS_CHANGED&&!this.listenerCount(l.TRACK_STREAMING_STATUS_CHANGED)&&(this._disposeTrackStreamingStatus(),v.debug("Disposing track streaming status: ".concat(this._sourceName)))}},{key:"_onTrackMute",value:function(){v.debug('"onmute" event('.concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(g.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){v.debug('"onunmute" event('.concat(Date.now(),"): ").concat(this)),this.rtc.eventEmitter.emit(g.REMOTE_TRACK_UNMUTE,this)}},{key:"dispose",value:function(){return p.a.isSourceNameSignalingEnabled()&&this._disposeTrackStreamingStatus(),Object(a.a)(Object(s.a)(n.prototype),"dispose",this).call(this)}},{key:"setMute",value:function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.emit(l.TRACK_MUTE_CHANGED,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getSourceName",value:function(){return this._sourceName}},{key:"_setVideoType",value:function(e){this.videoType!==e&&(this.videoType=e,this.emit(l.TRACK_VIDEOTYPE_CHANGED,e))}},{key:"_playCallback",value:function(){if(this.conference.room){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render ".concat(e,":\t"),t),this.conference.getConnectionTimes()["".concat(e,".render")]=t;var n=window.connectionTimes["obtainPermissions.start"],r=window.connectionTimes["obtainPermissions.end"],i=isNaN(r)||isNaN(n)?0:r-n,o=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-i;this.conference.getConnectionTimes()["".concat(e,".ttfm")]=o,console.log("(TIME) TTFM ".concat(e,":\t"),o),h.a.sendAnalytics(Object(d.N)({media_type:e,muted:this.hasBeenMuted,value:o}))}}},{key:"_attachTTFMTracker",value:function(e){y&&this.isAudioTrack()||_&&this.isVideoTrack()||(this.isAudioTrack()&&(y=!0),this.isVideoTrack()&&(_=!0),e.addEventListener("canplay",this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(e){var t=this;b.forEach((function(n){e.addEventListener(n,t._containerHandlers[n])}))}},{key:"_onTrackDetach",value:function(e){var t=this;b.forEach((function(n){e.removeEventListener(n,t._containerHandlers[n])}))}},{key:"_containerEventHandler",value:function(e){v.debug("".concat(e," handler was called for a container with attached ").concat(this))}},{key:"_getStatus",value:function(){var e=this.track,t=e.enabled,n=e.muted,r=e.readyState;return"readyState: ".concat(r,", muted: ").concat(n,", enabled: ").concat(t)}},{key:"_initTrackStreamingStatus",value:function(){var e=this.conference.options.config;this._trackStreamingStatus=f.a.ACTIVE,this._trackStreamingStatusImpl=new f.b(this.rtc,this.conference,this,{p2pRtcMuteTimeout:e._p2pConnStatusRtcMuteTimeout,rtcMuteTimeout:e._peerConnStatusRtcMuteTimeout,outOfForwardedSourcesTimeout:e._peerConnStatusOutOfLastNTimeout}),this._trackStreamingStatusImpl.init()}},{key:"_disposeTrackStreamingStatus",value:function(){this._trackStreamingStatusImpl&&(this._trackStreamingStatusImpl.dispose(),this._trackStreamingStatusImpl=null,this._trackStreamingStatus=null)}},{key:"_setTrackStreamingStatus",value:function(e){this._trackStreamingStatus=e}},{key:"getTrackStreamingStatus",value:function(){return this._trackStreamingStatus}},{key:"_clearEnteredForwardedSourcesTimestamp",value:function(){this._enteredForwardedSourcesTimestamp=null}},{key:"_setEnteredForwardedSourcesTimestamp",value:function(e){this._enteredForwardedSourcesTimestamp=e}},{key:"_getEnteredForwardedSourcesTimestamp",value:function(){return this._enteredForwardedSourcesTimestamp}},{key:"toString",value:function(){return"RemoteTrack[userID: ".concat(this.getParticipantId(),", type: ").concat(this.getType(),", ssrc: ").concat(this.getSSRC(),", p2p: ").concat(this.isP2P,", sourceName: ").concat(this._sourceName,", status: ").concat(this._getStatus(),"]")}}]),n}(m.a)}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(6),i=n(5),o=n(10),a=n(4),s=n(46),c=n.n(s),u=n(18),l=n(75),d=n(11),f=n(159),p=n(32).VideoType,h=n(2).XMPPEvents,m=Object(o.getLogger)(e),v=[{width:1920,height:1080,layers:3,target:"high",targetRN:4e6},{width:1280,height:720,layers:3,target:"high",targetRN:25e5},{width:960,height:540,layers:3,target:"standard",targetRN:9e5},{width:640,height:360,layers:2,target:"standard",targetRN:5e5},{width:480,height:270,layers:2,target:"low",targetRN:35e4},{width:320,height:180,layers:1,target:"low",targetRN:15e4}],g=800;function y(e,t,n,r){var i=0,o=Math.min(t.height,t.width),a=v.find((function(e){return e.height<=o}));if(a&&e&&r.codec===c.a.VP8){var s=function(){var e=o;if(!(a=v.find((function(t){return t.height===e}))))return 1;i+=d.a.isReactNative()?a.targetRN:r[a.target]};for(o=a.height;o>=180&&!s();o/=2);}else a&&(i=d.a.isReactNative()?a.targetRN:r[a.target]);return Math.min(i/1e3,function(e){if(e>6e4)return Number.MAX_SAFE_INTEGER;return g*Math.pow(1.08,e/1e3)}(Math.max(0,n-1e3)))}var _=function(){function e(t,n,i){var o,s=this;Object(r.a)(this,e),this.eventEmitter=n,this._conference=t,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._options=i,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,(null===(o=this._options.config)||void 0===o?void 0:o.startBitrate)>0&&(g=this._options.config.startBitrate),t.on(a.CONNECTION_INTERRUPTED,(function(){s._updateLocalConnectionQuality(0),s.eventEmitter.emit(l.LOCAL_STATS_UPDATED,s._localStats),s._broadcastLocalStats()})),t.room.addListener(h.ICE_CONNECTION_STATE_CHANGED,(function(e,t){e.isP2P||"connected"!==t||(s._timeIceConnected=window.performance.now())})),t.on(a.ENDPOINT_MESSAGE_RECEIVED,(function(e,t){"stats"===t.type&&s._updateRemoteStats(e.getId(),t.values)})),t.on(a.ENDPOINT_STATS_RECEIVED,(function(e,t){s._updateRemoteStats(e.getId(),t)})),t.on(a.ENDPOINT_MESSAGE_RECEIVED,(function(e,t){"face_landmark"===t.type&&s.eventEmitter.emit(a.FACE_LANDMARK_ADDED,e.getId(),t)})),t.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),t.on(a.TRACK_MUTE_CHANGED,(function(e){e.isVideoTrack()&&(e.isMuted()?s._timeVideoUnmuted=-1:s._maybeUpdateUnmuteTime())})),t.on(a.TRACK_ADDED,(function(e){e.isVideoTrack()&&!e.isMuted()&&s._maybeUpdateUnmuteTime()})),t.rtc.on(u.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,(function(e){s._localStats.maxEnabledResolution=e.maxEnabledResolution})),t.on(a.SERVER_REGION_CHANGED,(function(e){s._localStats.serverRegion=e})),t.on(a.PROPERTIES_CHANGED,(function(e){s._localStats.bridgeCount=Number((e||{})["bridge-count"])}))}return Object(i.a)(e,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(e,t,n){var r,i,o,a=f[n],s=100;if(this._localStats.packetLoss&&(o=this._localStats.packetLoss.upload,t&&(o*=.5)),t||!a||e===p.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===o?(m.error("Cannot calculate connection quality, unknown packet loss."),s=100):s=o<=2?100:o<=4?70:o<=6?50:o<=8?30:o<=12?10:0;else{var c=this._conference.getActivePeerConnection();if(c){var u=c.isSimulcastOn(),l=c.getTargetVideoBitrates();l.codec=c.getConfiguredVideoCodec();var d=window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected),h=null!==(i=null===(r=this._options.config)||void 0===r?void 0:r.pcStatsInterval)&&void 0!==i?i:1e4,v=y(u,a,d,l);v=Math.min(v,2500),d>h&&(s=100*this._localStats.bitrate.upload/v)}o&&o>=10&&(s=Math.min(s,30))}if(this._lastConnectionQualityUpdate>0){var g=this._localStats.connectionQuality,_=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;s=Math.min(s,g+2*_)}return Math.min(100,s)}},{key:"_updateLocalConnectionQuality",value:function(e){this._localStats.connectionQuality=e,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var e={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.sendEndpointStatsMessage(e)}catch(t){}}},{key:"_updateLocalStats",value:function(e,t){if(!e.isP2P){var n=t.transport&&t.transport.length&&t.transport[0].rtt;this._localStats.jvbRTT=n||void 0}if(e===this._conference.getActivePeerConnection()){var r,i=!this._conference.isConnectionInterrupted(),o=this._conference.getLocalVideoTrack(),a=o?o.videoType:void 0,s=!o||o.isMuted(),c=o?Math.min(o.resolution,o.maxEnabledResolution):null;for(r in s||this._maybeUpdateUnmuteTime(),t)t.hasOwnProperty(r)&&(this._localStats[r]=t[r]);i&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(a,s,c)),this.eventEmitter.emit(l.LOCAL_STATS_UPDATED,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(e,t){this._remoteStats[e]={bitrate:t.bitrate,packetLoss:t.packetLoss,connectionQuality:t.connectionQuality,jvbRTT:t.jvbRTT,serverRegion:t.serverRegion,maxEnabledResolution:t.maxEnabledResolution,avgAudioLevels:t.avgAudioLevels},this.eventEmitter.emit(l.REMOTE_STATS_UPDATED,e,this._remoteStats[e])}},{key:"getStats",value:function(){return this._localStats}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(6),i=n(5),o=n(10),a=n(44),s=n(4),c=Object(o.getLogger)(e),u=function(){function e(t){Object(r.a)(this,e),this._conference=t}return Object(i.a)(e,[{key:"_actOnIceFailed",value:function(){if(this._conference.room){var e=this._conference.options.config,t=e.enableForcedReload,n=e.enableIceRestart,r="undefined"!==typeof n&&!n,i=this._conference.room.supportsRestartByTerminate(),o=i&&!n;if(c.info("ICE failed,"+" enableForcedReload: ".concat(t,",")+" enableIceRestart: ".concat(n,",")+" supports restart by terminate: ".concat(i)),r||!n&&!i||t){c.info("ICE failed, but ICE restarts are disabled");var u=t?a.CONFERENCE_RESTARTED:a.ICE_FAILED;this._conference.eventEmitter.emit(s.CONFERENCE_FAILED,u)}else{var l=this._conference.jvbJingleSession,d=l&&l.getIceConnectionState();l?"connected"===d?c.info("ICE connection restored - not sending ICE failed"):(c.info("Sending ICE failed - the connection did not recover, "+"ICE state: ".concat(d,", ")+"use 'session-terminate': ".concat(o)),o?this._conference.jvbJingleSession.terminate((function(){c.info("session-terminate for ice restart - done")}),(function(e){c.error("session-terminate for ice restart - error: ".concat(e.message))}),{reason:"connectivity-error",reasonDescription:"ICE FAILED",requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):c.warn("Not sending ICE failed - no JVB connection")}}}},{key:"start",value:function(){var e=this;this._conference.xmpp.ping(65e3).then((function(){e._canceled||(e._iceFailedTimeout=window.setTimeout((function(){e._iceFailedTimeout=void 0,e._actOnIceFailed()}),2e3))}),(function(e){c.error("PING error/timeout - not sending ICE failed",e)}))}},{key:"cancel",value:function(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(47),u=n.n(c),l=n(4),d=n(39),f=n(11),p=n(55),h=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this))._conference=e,i._timeoutTrigger=null,i._hasAudioInput=null,f.a.supportsReceiverStats()||e.statistics.addAudioLevelListener(i._audioLevel.bind(Object(o.a)(i))),e.on(l.TRACK_ADDED,i._trackAdded.bind(Object(o.a)(i))),i}return Object(i.a)(n,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(e){var t=0!==e;null!==this._hasAudioInput&&this._hasAudioInput===t||(this._hasAudioInput=t,this.emit(p.AUDIO_INPUT_STATE_CHANGE,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(e){var t=this;this._eventFired||(0!==e||this._timeoutTrigger?0!==e&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout((function(){t._eventFired=!0,t.emit(p.NO_AUDIO_INPUT)}),4e3))}},{key:"_audioLevel",value:function(e,t,n,r){if(r&&this._audioTrack){var i=e.localSSRCs.get(this._audioTrack.rtcId);i&&i.ssrcs.includes(t)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n))}}},{key:"_trackAdded",value:function(e){var t=this;e.isLocalAudioTrack()&&(this._audioTrack=e,this._eventFired=!1,this._clearTriggerTimeout(),f.a.supportsReceiverStats()&&(e.on(d.NO_AUDIO_INPUT,(function(e){t._handleNoAudioInputDetection(e)})),e.on(d.TRACK_AUDIO_LEVEL_CHANGED,(function(e){t._handleNoAudioInputDetection(e),t._handleAudioInputStateChange(e)}))))}}]),n}(u.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(5),o=n(4),a=n(18),s=function(){function e(t){Object(r.a)(this,e),this.conference=t,t.addEventListener(o.TRACK_AUDIO_LEVEL_CHANGED,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return Object(i.a)(e,[{key:"_audioLevel",value:function(e,t){!this.conference.isP2PActive()||t<=.6||e===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(a.default.DOMINANT_SPEAKER_CHANGED,e)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(47),u=n(74),l=n(55),d=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._audioLvlArray=[],e._active=!1,e._calculateNoisyScore=e._calculateNoisyScore.bind(Object(o.a)(e)),e}return Object(i.a)(n,[{key:"_calculateNoisyScore",value:function(){var e=Object(u.b)(this._scoreArray),t=Object(u.b)(this._audioLvlArray);e<.2&&t>.04&&(this.emit(l.VAD_NOISY_DEVICE),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(e,t){this._scoreArray.push(e),this._audioLvlArray.push(t)}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(l.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(!e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(e){if(this._active)if(this._processing){var t=Object(u.c)(e.pcmData);this._recordValues(e.score,Object(u.b)(t))}else if(e.score<.2){var n=Object(u.c)(e.pcmData),r=Object(u.b)(n);r>.02&&(this._processing=!0,this._recordValues(e.score,r),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),n}(c.EventEmitter)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),i=n(5),o=n(29),a=n(24),s=n(25),c=n(47),u=n(74),l=n(55),d=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._processing=!1,e._scoreArray=[],e._active=!1,e._calculateVADScore=e._calculateVADScore.bind(Object(o.a)(e)),e}return Object(i.a)(n,[{key:"_calculateVADScore",value:function(){Object(u.b)(this._scoreArray)>.6&&(this.emit(l.VAD_TALK_WHILE_MUTED),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(e){this._active=e,this.emit(l.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(e){this._setActiveState(e),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(e){this._active&&(this._processing?this._scoreArray.push(e.score):e.score>.9&&(this._processing=!0,this._scoreArray.push(e.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),n}(c.EventEmitter)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),i=n(5),o=n(10),a=n(4),s=n(162),c=Object(o.getLogger)(e),u="e2e-ping-request",l="e2e-ping-response",d=function(){function e(t,n){Object(r.a)(this,e),this.participant=t,this.e2eping=n,this.id=t.getId(),this.requests={},this.lastRequestId=1,this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeLogRttAndStop=this.maybeLogRttAndStop.bind(this),this.scheduleNext=this.scheduleNext.bind(this),this.stop=this.stop.bind(this),this.getDelay=this.getDelay.bind(this),this.timeout=this.scheduleNext()}return Object(i.a)(e,[{key:"scheduleNext",value:function(){return window.setTimeout(this.sendRequest,this.getDelay())}},{key:"stop",value:function(){this.timeout&&window.clearTimeout(this.timeout),this.e2eping.removeParticipant(this.id)}},{key:"getDelay",value:function(){var e=this.e2eping.conference.getParticipants().length,t=e*(e-1)/2*this.e2eping.numRequests/this.e2eping.maxMessagesPerSecond;return(1.5-Math.random())*Math.max(t/this.e2eping.numRequests*1e3,1e3)}},{key:"sendRequest",value:function(){var e=this.lastRequestId++,t={type:u,id:e};this.e2eping.sendMessage(t,this.id),this.requests[e]={id:e,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(e){var t=this.requests[e.id];t&&(t.rtt=window.performance.now()-t.timeSent),this.maybeLogRttAndStop()}},{key:"maybeLogRttAndStop",value:function(){var e,t,n=1/0,r=0,i=0;for(t in this.requests)this.requests.hasOwnProperty(t)&&(i++,(e=this.requests[t]).rtt&&(r++,n=Math.min(n,e.rtt)));return r>=this.e2eping.numRequests?(c.info("Measured RTT=".concat(n," ms to ").concat(this.id," (in ").concat(this.participant.getProperty("region"),")")),this.stop(),void this.e2eping.conference.eventEmitter.emit(s.E2E_RTT_CHANGED,this.participant,n)):i>2*this.e2eping.numRequests?(c.info("Stopping e2eping for ".concat(this.id," because we sent ").concat(i," with only ")+"".concat(r," responses.")),void this.stop()):void(this.timeout=this.scheduleNext())}}]),e}(),f=function(){function e(t,n,i){Object(r.a)(this,e),this.conference=t,this.eventEmitter=t.eventEmitter,this.sendMessage=i,this.participants={},this.numRequests=5,this.maxConferenceSize=200,this.maxMessagesPerSecond=250,n&&n.e2eping&&("number"===typeof n.e2eping.numRequests&&(this.numRequests=n.e2eping.numRequests),"number"===typeof n.e2eping.maxConferenceSize&&(this.maxConferenceSize=n.e2eping.maxConferenceSize),"number"===typeof n.e2eping.maxMessagesPerSecond&&(this.maxMessagesPerSecond=n.e2eping.maxMessagesPerSecond)),c.info("Initializing e2e ping with numRequests=".concat(this.numRequests,", maxConferenceSize=").concat(this.maxConferenceSize,", ")+"maxMessagesPerSecond=".concat(this.maxMessagesPerSecond,".")),this.participantJoined=this.participantJoined.bind(this),this.participantLeft=this.participantLeft.bind(this),t.on(a.USER_LEFT,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),t.on(a.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.conferenceJoined=this.conferenceJoined.bind(this),t.on(a.CONFERENCE_JOINED,this.conferenceJoined)}return Object(i.a)(e,[{key:"conferenceJoined",value:function(){var e=this;this.conference.getParticipants().forEach((function(t){return e.participantJoined(t.getId(),t)})),this.conference.on(a.USER_JOINED,this.participantJoined)}},{key:"messageReceived",value:function(e,t){t.type===u?this.handleRequest(e.getId(),t):t.type===l&&this.handleResponse(e.getId(),t)}},{key:"participantJoined",value:function(e,t){this.participants[e]&&(c.info("Participant wrapper already exists for ".concat(e,". Clearing.")),this.participants[e].stop()),this.conference.getParticipants().length>this.maxConferenceSize||this.conference.myUserId()>e&&(c.info("Starting e2eping for participant ".concat(e)),this.participants[e]=new d(t,this))}},{key:"removeParticipant",value:function(e){this.participants[e]&&delete this.participants[e]}},{key:"participantLeft",value:function(e){this.participants[e]&&(this.participants[e].stop(),delete this.participants[e])}},{key:"handleRequest",value:function(e,t){if(t&&t.id){var n={type:l,id:t.id};this.sendMessage(n,e)}else c.info("Received an invalid e2e ping request from ".concat(e,"."))}},{key:"handleResponse",value:function(e,t){var n=this.participants[e];n&&n.handleResponse(t)}},{key:"stop",value:function(){for(var e in c.info("Stopping e2eping"),this.conference.off(a.USER_JOINED,this.participantJoined),this.conference.off(a.USER_LEFT,this.participantLeft),this.conference.off(a.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.participants)this.participants.hasOwnProperty(e)&&this.participants[e].stop();this.participants={}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(6),i=n(5),o=n(10),a=n(4),s=Object(o.getLogger)(e),c=function(){function e(t){var n=this;Object(r.a)(this,e),this._conference=t,this._jvb121=!0,this._conference.addEventListener(a.USER_JOINED,(function(){return n.evaluateStatus()})),this._conference.addEventListener(a.USER_LEFT,(function(){return n.evaluateStatus()})),this._conference.addEventListener(a.P2P_STATUS,(function(){return n.evaluateStatus()}))}return Object(i.a)(e,[{key:"evaluateStatus",value:function(){var e=this._jvb121,t=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;e!==t&&(this._jvb121=t,s.debug("JVB121 status ".concat(e," => ").concat(t)),this._conference.eventEmitter.emit(a.JVB121_STATUS,e,t))}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(78),c=n.n(s),u=n(4),l=n(8),d=n(20),f=Object(a.getLogger)(e),p=function(){function e(){Object(i.a)(this,e),this._defaultConstraints={maxHeight:180},this._lastN=-1,this._maxFrameHeight=2160,this._selectedEndpoints=[],this._receiverVideoConstraints={constraints:{},defaultConstraints:this.defaultConstraints,lastN:this._lastN,onStageEndpoints:[],selectedEndpoints:this._selectedEndpoints}}return Object(o.a)(e,[{key:"constraints",get:function(){return this._receiverVideoConstraints.lastN=this._lastN,this._selectedEndpoints.length?(this._receiverVideoConstraints.constraints={},this._selectedEndpoints.length>1?(this._receiverVideoConstraints.defaultConstraints={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.onStageEndpoints=[],this._receiverVideoConstraints.selectedEndpoints=[]):(this._receiverVideoConstraints.constraints[this._selectedEndpoints[0]]={maxHeight:this._maxFrameHeight},this._receiverVideoConstraints.defaultConstraints=this._defaultConstraints,this._receiverVideoConstraints.onStageEndpoints=this._selectedEndpoints,this._receiverVideoConstraints.selectedEndpoints=[]),this._receiverVideoConstraints):this._receiverVideoConstraints}},{key:"updateLastN",value:function(e){var t=this._lastN!==e;return t&&(this._lastN=e,f.debug("Updating ReceiverVideoConstraints lastN(".concat(e,")"))),t}},{key:"updateReceiveResolution",value:function(e){var t=this._maxFrameHeight!==e;return t&&(this._maxFrameHeight=e,f.debug("Updating receive maxFrameHeight: ".concat(e))),t}},{key:"updateReceiverVideoConstraints",value:function(e){var t=!c()(this._receiverVideoConstraints,e);return t&&(this._receiverVideoConstraints=e,f.debug("Updating ReceiverVideoConstraints ".concat(JSON.stringify(e)))),t}},{key:"updateSelectedEndpoints",value:function(e){f.debug("Updating selected endpoints: ".concat(JSON.stringify(e))),this._selectedEndpoints=e}}]),e}(),h=function(){function e(t,n){var r,o,a=this;Object(i.a)(this,e),this._conference=t,this._rtc=n;var s=t.options.config;(this._lastN=null!==(r=null===s||void 0===s?void 0:s.startLastN)&&void 0!==r?r:(null===s||void 0===s?void 0:s.channelLastN)||-1,this._maxFrameHeight=2160,this._sourceReceiverConstraints=new Map,null===(o=null===s||void 0===s?void 0:s.useNewBandwidthAllocationStrategy)||void 0===o||o)?(this._receiverVideoConstraints=new p,this._receiverVideoConstraints.updateLastN(this._lastN)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)):this._rtc.setLastN(this._lastN);this._selectedEndpoints=[],this._conference.on(u._MEDIA_SESSION_STARTED,(function(e){return a._onMediaSessionStarted(e)}))}return Object(o.a)(e,[{key:"_getDefaultSourceReceiverConstraints",value:function(e,t){var n;if(!d.a.isSourceNameSignalingEnabled())return null;var i,o=(null===(n=e.peerconnection)||void 0===n?void 0:n.getRemoteTracks(null,l.a.VIDEO))||[],a=new Map,s=Object(r.a)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.set(c.getSourceName(),t)}}catch(u){s.e(u)}finally{s.f()}return a}},{key:"_onMediaSessionStarted",value:function(e){e.isP2P||!this._receiverVideoConstraints?e.setReceiverVideoConstraint(this._maxFrameHeight,this._sourceReceiverConstraints):(this._receiverVideoConstraints.updateReceiveResolution(this._maxFrameHeight),this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints))}},{key:"getLastN",value:function(){return this._lastN}},{key:"selectEndpoints",value:function(e){var t=this;if(this._selectedEndpoints=e,this._receiverVideoConstraints){var n=e.filter((function(e){return e!==t._conference.myUserId()})),r=JSON.parse(JSON.stringify(this._receiverVideoConstraints.constraints));n.length&&this._receiverVideoConstraints.updateSelectedEndpoints(n);var i=this._receiverVideoConstraints.constraints;c()(i,r)||this._rtc.setNewReceiverVideoConstraints(i)}else this._rtc.selectEndpoints(e)}},{key:"setLastN",value:function(e){if(this._lastN!==e){if(this._lastN=e,this._receiverVideoConstraints)return void(this._receiverVideoConstraints.updateLastN(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints));this._rtc.setLastN(e)}}},{key:"setPreferredReceiveMaxFrameHeight",value:function(e){this._maxFrameHeight=e;var t,n=Object(r.a)(this._conference.getMediaSessions());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isP2P||!this._receiverVideoConstraints)i.setReceiverVideoConstraint(e,this._getDefaultSourceReceiverConstraints(this._maxFrameHeight));else this._receiverVideoConstraints.updateReceiveResolution(e)&&this._rtc.setNewReceiverVideoConstraints(this._receiverVideoConstraints.constraints)}}catch(o){n.e(o)}finally{n.f()}}},{key:"setReceiverConstraints",value:function(e){var t,n,r,i;this._receiverVideoConstraints||(this._receiverVideoConstraints=new p);var o=Object.keys(e).includes("onStageEndpoints","selectedEndpoints"),a=Object.keys(e).includes("onStageSources","selectedSources");if(!d.a.isSourceNameSignalingEnabled()&&a)throw new Error('"onStageSources" and "selectedSources" are not supported when sourceNameSignaling is disabled.');if(d.a.isSourceNameSignalingEnabled()&&o)throw new Error('"onStageEndpoints" and "selectedEndpoints" are not supported when sourceNameSignaling is enabled.');if(this._receiverVideoConstraints.updateReceiverVideoConstraints(e)){this._lastN=null!==(t=e.lastN)&&void 0!==t?t:this._lastN,this._selectedEndpoints=null!==(n=e.selectedEndpoints)&&void 0!==n?n:this._selectedEndpoints,this._rtc.setNewReceiverVideoConstraints(e);var s=this._conference.getMediaSessions().find((function(e){return e.isP2P}));if(!s)return;if(d.a.isSourceNameSignalingEnabled()){var c=Array.from(Object.entries(e.constraints)).map((function(e){return e[1]=e[1].maxHeight,e}));this._sourceReceiverConstraints=new Map(c),s.setReceiverVideoConstraint(null,this._sourceReceiverConstraints)}else{var u=null===(r=Object.values(e.constraints)[0])||void 0===r?void 0:r.maxHeight;u||(u=null===(i=e.defaultConstraints)||void 0===i?void 0:i.maxHeight),u&&s.setReceiverVideoConstraint(u)}}}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(4),c=n(18),u=n(20),l=n(132),d=Object(a.getLogger)(e),f=function(){function e(t,n){var r=this;Object(i.a)(this,e),this._conference=t,this._preferredSendMaxFrameHeight=2160,this._rtc=n,this._sourceSenderConstraints=new Map,this._conference.on(s._MEDIA_SESSION_STARTED,(function(e){return r._onMediaSessionStarted(e)})),this._conference.on(s._MEDIA_SESSION_ACTIVE_CHANGED,(function(){return r._configureConstraintsForLocalSources()})),this._rtc.on(c.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,(function(e){return r._onSenderConstraintsReceived(e)}))}return Object(o.a)(e,[{key:"_configureConstraintsForLocalSources",value:function(){if(u.a.isSourceNameSignalingEnabled()){var e,t=Object(r.a)(this._rtc.getLocalVideoTracks());try{for(t.s();!(e=t.n()).done;){var n=e.value.getSourceName();n&&this._propagateSendMaxFrameHeight(n)}}catch(i){t.e(i)}finally{t.f()}}else this._propagateSendMaxFrameHeight()}},{key:"_onMediaSessionStarted",value:function(e){var t=this;u.a.isSourceNameSignalingEnabled()?e.addListener(l.a.REMOTE_SOURCE_CONSTRAINTS_CHANGED,(function(e,n){e===t._conference.getActiveMediaSession()&&n.forEach((function(e){return t._onSenderConstraintsReceived(e)}))})):e.addListener(l.a.REMOTE_VIDEO_CONSTRAINTS_CHANGED,(function(e){return e===t._conference.getActiveMediaSession()&&t._configureConstraintsForLocalSources()}))}},{key:"_onSenderConstraintsReceived",value:function(e){var t,n;if(u.a.isSourceNameSignalingEnabled()){var i,o=e.maxHeight,a=e.sourceName,s=null!==(t=this._conference.getLocalVideoTracks())&&void 0!==t?t:[],c=Object(r.a)(s);try{for(c.s();!(i=c.n()).done;){i.value.getSourceName()!==a||this._sourceSenderConstraints.has(a)&&this._sourceSenderConstraints.get(a)===o||(this._sourceSenderConstraints.set(a,o),d.debug("Sender constraints for source:".concat(a," changed to maxHeight:").concat(o)),this._propagateSendMaxFrameHeight(a))}}catch(l){c.e(l)}finally{c.f()}}else(null===(n=this._senderVideoConstraints)||void 0===n?void 0:n.idealHeight)!==e.idealHeight&&(this._senderVideoConstraints=e,this._propagateSendMaxFrameHeight())}},{key:"_propagateSendMaxFrameHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(u.a.isSourceNameSignalingEnabled()&&!e)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var t=this._selectSendMaxFrameHeight(e),n=[];if(t>=0){var i,o=Object(r.a)(this._conference.getMediaSessions());try{for(o.s();!(i=o.n()).done;){var a=i.value;n.push(a.setSenderVideoConstraint(t,e))}}catch(s){o.e(s)}finally{o.f()}}return Promise.all(n)}},{key:"_selectSendMaxFrameHeight",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(u.a.isSourceNameSignalingEnabled()&&!t)throw new Error("sourceName missing for calculating the sendMaxHeight for video tracks");var n=this._conference.getActiveMediaSession(),r=n?n.isP2P?t?this._sourceSenderConstraints.get(t):n.getRemoteRecvMaxFrameHeight():t?this._sourceSenderConstraints.get(t):null===(e=this._senderVideoConstraints)||void 0===e?void 0:e.idealHeight:void 0;return this._preferredSendMaxFrameHeight>=0&&r>=0?Math.min(this._preferredSendMaxFrameHeight,r):r>=0?r:this._preferredSendMaxFrameHeight}},{key:"setPreferredSendMaxFrameHeight",value:function(e){if(this._preferredSendMaxFrameHeight=e,u.a.isSourceNameSignalingEnabled()){var t,n=[],i=Object(r.a)(this._sourceSenderConstraints.keys());try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(this._propagateSendMaxFrameHeight(o))}}catch(a){i.e(a)}finally{i.f()}return Promise.allSettled(n)}return this._propagateSendMaxFrameHeight()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){var r=n(6),i=n(5),o=n(10),a=n(2),s=n(186),c=n(134),u=Object(o.getLogger)(e),l=function(){function e(t){Object(r.a)(this,e),this._sessions={},this._chatRoom=t,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(a.XMPPEvents.PRESENCE_RECEIVED,this.onPresence)}return Object(i.a)(e,[{key:"getSession",value:function(e){return this._sessions[e]}},{key:"onPresence",value:function(e){var t=e.fromHiddenDomain,n=e.presence;c.a.isFromFocus(n)?this._handleFocusPresence(n):t&&this._handleJibriPresence(n)}},{key:"startRecording",value:function(e){var t=this,n=new s.a(Object.assign(Object.assign({},e),{connection:this._chatRoom.connection}));return n.start({appData:e.appData,broadcastId:e.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:e.streamId}).then((function(){return t.getSession(n.getID())||(t._addSession(n),t._emitSessionUpdate(n)),n})).catch((function(e){return t._emitSessionUpdate(n),Promise.reject(e)}))}},{key:"stopRecording",value:function(e){var t=this.getSession(e);return t?t.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error("Could not find session"))}},{key:"_addSession",value:function(e){this._sessions[e.getID()]=e}},{key:"_createSession",value:function(e,t,n){var r=new s.a({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:n,sessionID:e,status:t});return this._addSession(r),r}},{key:"_emitSessionUpdate",value:function(e,t){this._chatRoom.eventEmitter.emit(a.XMPPEvents.RECORDER_STATE_CHANGED,e,t)}},{key:"_handleFocusPresence",value:function(e){var t=c.a.getFocusRecordingUpdate(e);if(t){var n=t.error,r=t.initiator,i=t.recordingMode,o=t.sessionID,a=t.status,s=this.getSession(o);s||"off"!==a?s&&s.getStatus()===a&&s.getError()===n?u.warn("Ignoring duplicate presence update: ",JSON.stringify(t)):(s||(s=this._createSession(o,a,i)),s.setStatus(a),n&&s.setError(n),this._emitSessionUpdate(s,r)):u.warn("Ignoring recording presence update","Received a new session with status off.")}}},{key:"_handleJibriPresence",value:function(e){var t=c.a.getHiddenDomainUpdate(e),n=t.liveStreamViewURL,r=t.mode,i=t.sessionID;if(i){var o=this.getSession(i);o||(o=this._createSession(i,"",r)),o.setLiveStreamViewURL(n),this._emitSessionUpdate(o)}else u.warn("Ignoring potential jibri presence due to no session id.")}}]),e}();t.a=l}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),i=n(5),o=n(10),a=n(4),s=n(8),c=n(75),u=n(23),l=n(17),d=Object(o.getLogger)(e),f=function(){function e(t){Object(r.a)(this,e),this._conference=t,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(c.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(a.USER_LEFT,this._clearUserData)}return Object(i.a)(e,[{key:"_onRemoteAudioLevelReceived",value:function(e,t){var n=t.avgAudioLevels,r=this._numberOfRemoteAudioLevelsReceived[e]+1||0;if(this._numberOfRemoteAudioLevelsReceived[e]=r,!(-1!==this._reportedParticipants.indexOf(e)||e in this._audioProblemCandidates||n<=0||r<3)){var i=this._conference.getParticipantById(e);if(i)if(i.getTracksByMediaType(s.a.AUDIO).length>0&&i.isAudioMuted())return;var o=this._localAudioLevelCache[e];Array.isArray(o)&&!o.every((function(e){return 0===e}))||(this._audioProblemCandidates[e]={remoteAudioLevels:n,localAudioLevels:[]})}}},{key:"_onLocalAudioLevelsReport",value:function(e,t){var n=this,r=t.avgAudioLevels;e===this._conference.getActivePeerConnection()&&(Object.keys(r).forEach((function(e){if(-1===n._reportedParticipants.indexOf(e)){var t=n._localAudioLevelCache[e];Array.isArray(t)?t.length>=2&&t.shift():n._localAudioLevelCache[e]=[],n._localAudioLevelCache[e].push(r[e])}})),Object.keys(this._audioProblemCandidates).forEach((function(e){var t=n._audioProblemCandidates[e],i=t.localAudioLevels,o=t.remoteAudioLevels;if(i.push(r[e]),2===i.length){if(i.every((function(e){return"undefined"===typeof e||0===e}))){var a=JSON.stringify(i);l.a.sendAnalytics(Object(u.x)(e,a,o)),d.warn("A potential problem is detected with the audio output for participant ".concat(e,", local audio levels: ").concat(a,", remote audio levels: ").concat(o)),n._reportedParticipants.push(e),n._clearUserData(e)}delete n._audioProblemCandidates[e]}})))}},{key:"_clearUserData",value:function(e){delete this._localAudioLevelCache[e]}},{key:"dispose",value:function(){this._conference.off(c.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.off(a.USER_LEFT,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(78),c=n.n(s),u=n(4),l=n(8),d=n(32),f=n(75),p=n(23),h=n(11),m=n(17),v=Object(a.getLogger)(e),g=function(){function e(t){Object(i.a)(this,e),this.name=t,this.count=0,this.sum=0,this.samples=[]}return Object(o.a)(e,[{key:"addNext",value:function(e){"number"!==typeof e?v.error("".concat(this.name," - invalid value for idx: ").concat(this.count),e):isNaN(e)||(this.sum+=e,this.samples.push(e),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(e){e["".concat(this.name,"_avg")]=this.calculate(),e["".concat(this.name,"_samples")]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),e}(),y=function(){function e(t,n,r){var o=this;Object(i.a)(this,e),this.isP2P=n,this._n=r,this._sampleIdx=0,this._avgRTT=new g("rtt"),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=t,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(e,t){o.isP2P===e.isP2P&&o._calculateAvgStats(t)};var a=t._conference;a.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(e){return o._avgRemoteRTTMap.delete(e)},a.on(u.USER_LEFT,this._onUserLeft),this._onRemoteStatsUpdated=function(e,t){return o._processRemoteStats(e,t)},a.on(f.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated))}return Object(o.a)(e,[{key:"_calculateAvgStats",value:function(e){if(e){if(h.a.supportsRTTStatistics()&&e.transport&&e.transport.length&&this._avgRTT.addNext(e.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(h.a.supportsRTTStatistics()){var t=this._avgRtpStatsReporter._conference,n={p2p:this.isP2P,conference_size:t.getParticipantCount()};if(e.transport&&e.transport.length&&Object.assign(n,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgRTT.appendReport(n),this.isP2P){var r=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(r)||(n.rtt_diff=this._avgRTT.calculate()-r)}else{var i=this._calculateAvgRemoteRTT(),o=this._avgRTT.calculate();this._avgEnd2EndRTT=o+i,isNaN(o)||isNaN(i)||(n.end2end_rtt_avg=this._avgEnd2EndRTT)}m.a.sendAnalytics(Object(p.K)(n))}this._resetAvgStats()}}else v.error("No stats")}},{key:"_calculateAvgRemoteRTT",value:function(){var e,t=0,n=0,i=Object(r.a)(this._avgRemoteRTTMap.values());try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.calculate();isNaN(a)||(n+=a,t+=1,o.reset())}}catch(s){i.e(s)}finally{i.f()}return n/t}},{key:"_processRemoteStats",value:function(e,t){var n="number"===typeof t.jvbRTT,r=this._avgRemoteRTTMap.get(e);!r&&n&&(r=new g("".concat(e,"_stat_rtt")),this._avgRemoteRTTMap.set(e,r)),n?r.addNext(t.jvbRTT):r&&this._avgRemoteRTTMap.delete(e)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var e=this._avgRtpStatsReporter._conference;e.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(e.off(f.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated),e.off(u.USER_LEFT,this._onUserLeft))}}]),e}(),_=function(){function e(t,n){var r=this;Object(i.a)(this,e),this._n=n,n>0?(v.info("Avg RTP stats will be calculated every ".concat(n," samples")),this._sampleIdx=0,this._conference=t,this._avgAudioBitrateUp=new g("bitrate_audio_upload"),this._avgAudioBitrateDown=new g("bitrate_audio_download"),this._avgVideoBitrateUp=new g("bitrate_video_upload"),this._avgVideoBitrateDown=new g("bitrate_video_download"),this._avgBandwidthUp=new g("bandwidth_upload"),this._avgBandwidthDown=new g("bandwidth_download"),this._avgPacketLossTotal=new g("packet_loss_total"),this._avgPacketLossUp=new g("packet_loss_upload"),this._avgPacketLossDown=new g("packet_loss_download"),this._avgRemoteFPS=new g("framerate_remote"),this._avgRemoteScreenFPS=new g("framerate_screen_remote"),this._avgLocalFPS=new g("framerate_local"),this._avgLocalScreenFPS=new g("framerate_screen_local"),this._avgRemoteCameraPixels=new g("pixels_remote"),this._avgRemoteScreenPixels=new g("pixels_screen_remote"),this._avgLocalCameraPixels=new g("pixels_local"),this._avgLocalScreenPixels=new g("pixels_screen_local"),this._avgCQ=new g("connection_quality"),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(e){r._calculateAvgStats(e),r._maybeSendTransportAnalyticsEvent(e)},t.on(f.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){v.debug("Resetting average stats calculation"),r._resetAvgStats(),r.jvbStatsMonitor._resetAvgStats(),r.p2pStatsMonitor._resetAvgStats()},t.on(u.P2P_STATUS,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(e,t){!0===t&&(v.info("Resetting JVB avg RTP stats"),r._resetAvgJvbStats())},t.on(u.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor=new y(this,!1,n),this.p2pStatsMonitor=new y(this,!0,n)):v.info("Avg RTP stats reports are disabled.")}return Object(o.a)(e,[{key:"_calculateAvgStats",value:function(e){if(e){var t=this._conference.isP2PActive(),n=this._conference.getParticipantCount();if(t||!(n<2)){var r=e.bitrate,i=e.bandwidth,o=e.packetLoss,a=e.framerate,s=e.resolution;if(r)if(i)if(o)if(a)if(s){if(this._avgAudioBitrateUp.addNext(r.audio.upload),this._avgAudioBitrateDown.addNext(r.audio.download),this._avgVideoBitrateUp.addNext(r.video.upload),this._avgVideoBitrateDown.addNext(r.video.download),h.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(i.upload),this._avgBandwidthDown.addNext(i.download)),this._avgPacketLossUp.addNext(o.upload),this._avgPacketLossDown.addNext(o.download),this._avgPacketLossTotal.addNext(o.total),this._avgCQ.addNext(e.connectionQuality),a&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(a,!1,d.VideoType.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(a,!1,d.VideoType.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(a,!0,d.VideoType.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(a,!0,d.VideoType.DESKTOP))),s&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(s,!1,d.VideoType.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(s,!1,d.VideoType.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(s,!0,d.VideoType.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(s,!0,d.VideoType.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var c={p2p:t,conference_size:n};e.transport&&e.transport.length&&Object.assign(c,{local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type}),this._avgAudioBitrateUp.appendReport(c),this._avgAudioBitrateDown.appendReport(c),this._avgVideoBitrateUp.appendReport(c),this._avgVideoBitrateDown.appendReport(c),h.a.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(c),this._avgBandwidthDown.appendReport(c)),this._avgPacketLossUp.appendReport(c),this._avgPacketLossDown.appendReport(c),this._avgPacketLossTotal.appendReport(c),this._avgRemoteFPS.appendReport(c),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(c),this._avgLocalFPS.appendReport(c),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(c),this._avgRemoteCameraPixels.appendReport(c),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(c),this._avgLocalCameraPixels.appendReport(c),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(c),this._avgCQ.appendReport(c),m.a.sendAnalytics(Object(p.K)(c)),this._resetAvgStats()}}else v.error("No resolution");else v.error('No "framerate"');else v.error('No "packetloss"');else v.error('No "bandwidth"');else v.error('No "bitrate"')}}else v.error("No stats")}},{key:"_calculateAvgVideoPixels",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),l=e[c];if((t||u)&&l){var d=this._calculatePeerAvgVideoPixels(l,u,n);isNaN(d)||(r+=d,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoPixels",value:function(e,t,n){var i=Object.keys(e).map((function(e){return Number(e)})),o=null,a=this._conference.getActivePeerConnection();t?(o=t.getTracksByMediaType(l.a.VIDEO))&&(i=i.filter((function(e){return o.find((function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n}))}))):(o=this._conference.getLocalTracks(l.a.VIDEO),i=i.filter((function(e){return o.find((function(t){return!t.isMuted()&&a.getLocalSSRC(t)===e&&t.videoType===n}))})));var s,c=0,u=0,d=Object(r.a)(i);try{for(d.s();!(s=d.n()).done;){var f=s.value,p=Number(e[f].height)*Number(e[f].width);!isNaN(p)&&p>0&&(c+=p,u+=1)}}catch(h){d.e(h)}finally{d.f()}return c/u}},{key:"_calculateAvgVideoFps",value:function(e,t,n){for(var r=0,i=0,o=this._conference.myUserId(),a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];if(t?c===o:c!==o){var u=t?null:this._conference.getParticipantById(c),l=e[c];if((t||u)&&l){var d=this._calculatePeerAvgVideoFps(l,u,n);isNaN(d)||(r+=d,i+=1)}}}return r/i}},{key:"_calculatePeerAvgVideoFps",value:function(e,t,n){var i=Object.keys(e).map((function(e){return Number(e)})),o=null,a=this._conference.getActivePeerConnection();t?(o=t.getTracksByMediaType(l.a.VIDEO))&&(i=i.filter((function(e){return o.find((function(t){return!t.isMuted()&&t.getSSRC()===e&&t.videoType===n}))}))):(o=this._conference.getLocalTracks(l.a.VIDEO),i=i.filter((function(e){return o.find((function(t){return!t.isMuted()&&a.getLocalSSRC(t)===e&&t.videoType===n}))})));var s,c=0,u=0,d=Object(r.a)(i);try{for(d.s();!(s=d.n()).done;){var f=s.value,p=Number(e[f]);!isNaN(p)&&p>0&&(c+=p,u+=1)}}catch(h){d.e(h)}finally{d.f()}return c/u}},{key:"_maybeSendTransportAnalyticsEvent",value:function(e){if(e&&e.transport&&e.transport.length){var t={p2p:e.transport[0].p2p,local_candidate_type:e.transport[0].localCandidateType,remote_candidate_type:e.transport[0].remoteCandidateType,transport_type:e.transport[0].type};this._cachedTransportStats&&c()(t,this._cachedTransportStats)||(this._cachedTransportStats=t,m.a.sendAnalytics(Object(p.M)(t)))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(u.P2P_STATUS,this._onP2PStatusChanged),this._conference.off(f.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._conference.off(u.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),i=n(5),o=n(4),a=n(2),s=n(174),c=n.n(s),u=function(){function e(t){Object(r.a)(this,e),this.stats={users:{},dominantSpeakerId:null};var n=t.myUserId();this.stats.users[n]=new c.a(n,null,!0),this.conference=t,t.addEventListener(o.DOMINANT_SPEAKER_CHANGED,this._onDominantSpeaker.bind(this)),t.addEventListener(o.USER_JOINED,this._onUserJoin.bind(this)),t.addEventListener(o.USER_LEFT,this._onUserLeave.bind(this)),t.addEventListener(o.DISPLAY_NAME_CHANGED,this._onDisplayNameChange.bind(this)),t.addEventListener(o.FACE_LANDMARK_ADDED,this._onFaceLandmarkAdd.bind(this)),t.xmpp&&t.xmpp.addListener(a.XMPPEvents.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return Object(i.a)(e,[{key:"_onDominantSpeaker",value:function(e){var t=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[e];t&&t.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=e}},{key:"_onUserJoin",value:function(e,t){t.isHidden()||this.stats.users[e]||(this.stats.users[e]=new c.a(e,t.getDisplayName()))}},{key:"_onUserLeave",value:function(e){var t=this.stats.users[e];t&&t.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(e,t){var n=this.stats.users[e];n&&n.setDisplayName(t)}},{key:"_onFaceLandmarkAdd",value:function(e,t){var n=this.stats.users[e];n&&t.faceExpression&&n.addFaceExpression(t.faceExpression,t.duration)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(e){for(var t in e){var n=void 0,r=this.conference.getParticipantById(t);r&&r.isHidden()||(this.stats.users[t]?(n=this.stats.users[t]).getDisplayName()||n.setDisplayName(e[t].displayName):(n=new c.a(t,e[t].displayName),this.stats.users[t]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=e[t].totalDominantSpeakerTime,n.setFaceExpressions(e[t].faceExpressions)}}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(17),i=n(10).getLogger(e);function o(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processVersions.bind(this))}o.prototype.processVersions=function(e,t,n){var o=this;if(this.conference.isFocus(n)){var a=[];e.children.forEach((function(e){var t=e.attributes.name,n=e.value;o.versions[t]!==n&&(o.versions[t]=n,i.info("Got ".concat(t," version: ").concat(n)),a.push({id:"component_version",component:t,version:n}))})),a.length>0&&r.a.sendLog(JSON.stringify(a))}else i.warn("Received versions not from the focus user: ".concat(e),n)},o.prototype.getComponentVersion=function(e){return this.versions[e]}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(6),i=n(5),o=n(10),a=n(2),s=n(270),c=n(59),u=Object(o.getLogger)(e),l=function(){function e(t){Object(r.a)(this,e),this.chatRoom=t,this.eventEmitter=t.eventEmitter,u.debug("creating VideoSIPGW"),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),t.addPresenceListener("jibri-sip-call-state",this.handleJibriSIPState.bind(this))}return Object(i.a)(e,[{key:"handleJibriSIPState",value:function(e){var t=e.attributes;if(t){u.debug("Handle video sip gw state : ",t);var n=t.state;if(n!==this.state)switch(n){case c.STATE_ON:case c.STATE_OFF:case c.STATE_PENDING:case c.STATE_RETRYING:case c.STATE_FAILED:var r=t.sipaddress;if(!r)return;var i=this.sessions[r];i?i.setState(n,t.failure_reason):u.warn("Video SIP GW session not found:",r)}}}},{key:"createVideoSIPGWSession",value:function(e,t){if(this.sessions[e])return u.warn("There was already a Video SIP GW session for address",e),new Error(c.ERROR_SESSION_EXISTS);var n=new s.a(e,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[e]=n,n}},{key:"sessionStateChanged",value:function(e){var t=e.address;if(e.newState===c.STATE_OFF||e.newState===c.STATE_FAILED){var n=this.sessions[t];if(!n)return void u.error("Missing Video SIP GW session with address:",t);n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t]}this.eventEmitter.emit(a.XMPPEvents.VIDEO_SIP_GW_SESSION_STATE_CHANGED,e)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(6),i=n(5),o=n(24),a=n(25),s=n(10),c=n(7),u=n(48),l=n(59),d=Object(s.getLogger)(e),f="STATE_CHANGED",p=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,i,o){var a;return Object(r.a)(this,n),(a=t.call(this)).sipAddress=e,a.displayName=i,a.chatRoom=o,a.state=void 0,a}return Object(i.a)(n,[{key:"stop",value:function(){this.state!==l.STATE_OFF&&this.state!==l.STATE_FAILED?this._sendJibriIQ("stop"):d.warn("Video SIP GW session already stopped or failed!")}},{key:"start",value:function(){this.state!==l.STATE_ON&&this.state!==l.STATE_OFF&&this.state!==l.STATE_PENDING&&this.state!==l.STATE_RETRYING?this._sendJibriIQ("start"):d.warn("Video SIP GW session already started!")}},{key:"setState",value:function(e,t){if(e!==this.state){var n=this.state;this.state=e,this.eventEmitter.emit(f,{address:this.sipAddress,failureReason:t,oldState:n,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(e){this.addListener(f,e)}},{key:"removeStateListener",value:function(e){this.removeListener(f,e)}},{key:"_sendJibriIQ",value:function(e){var t=this,n={};n.baseUrl=window.location.origin,n.token=this.chatRoom.connection.emuc.xmpp.token;var r={xmlns:"http://jitsi.org/protocol/jibri",action:e,app_data:JSON.stringify(n),sipaddress:this.sipAddress};r.displayname=this.displayName;var i=Object(c.$iq)({to:this.chatRoom.focusMucJid,type:"set"}).c("jibri",r).up();d.debug("".concat(e," video SIP GW session"),i.nodeTree),this.chatRoom.connection.sendIQ(i,(function(){}),(function(n){d.error("Failed to ".concat(e," video SIP GW session, error: "),n),t.setState(l.STATE_FAILED)}))}}]),n}(u.a)}).call(this,"/index.js")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(5),i=n(6),o=n(4),a=n(17),s={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}},c={localTracksDuration:{audio:{startedTime:-1,value:0},video:{camera:{startedTime:-1,value:0},desktop:{startedTime:-1,value:0}},conference:{startedTime:-1,value:0}}};function u(e,t){var n=Date.now(),r=e.localTracksDuration,i=r.audio,o=r.video,a=o.camera,s=o.desktop,c=t.getLocalTracks(),u=c.find((function(e){return"audio"===e.getType()})),l=c.find((function(e){return"video"===e.getType()})),d=Object.assign({},r);if(u&&!u.muted&&t?-1===i.startedTime&&(d.audio.startedTime=n):d.audio={startedTime:-1,value:i.value+(-1===i.startedTime?0:n-i.startedTime)},l&&!l.muted&&t){var f=l.videoType;-1===o[f].startedTime&&(d.video[f].startedTime=n)}else d.video={camera:{startedTime:-1,value:a.value+(-1===a.startedTime?0:n-a.startedTime)},desktop:{startedTime:-1,value:s.value+(-1===s.startedTime?0:n-s.startedTime)}};return Object.assign(Object.assign({},r),d)}var l=Object(r.a)((function e(t){Object(i.a)(this,e),t.addEventListener(o.CONFERENCE_JOINED,(function(){c={localTracksDuration:Object.assign(Object.assign({},u(s,t)),{conference:{startedTime:Date.now(),value:0}})}})),t.addEventListener(o.TRACK_UPDATED,(function(){var e=c.localTracksDuration;-1!==e.conference.startedTime&&(c={localTracksDuration:Object.assign(Object.assign({},e),u(c,t))})})),t.addEventListener(o.TRACK_ADDED,(function(){var e=c.localTracksDuration;-1!==e.conference.startedTime&&(c={localTracksDuration:Object.assign(Object.assign({},e),u(c,t))})})),t.addEventListener(o.TRACK_REMOVED,(function(){var e=c.localTracksDuration;-1!==e.conference.startedTime&&(c={localTracksDuration:Object.assign(Object.assign({},e),u(c,t))})})),t.addEventListener(o.CONFERENCE_LEFT,(function(){var e=c.localTracksDuration,n=Object.assign(Object.assign({},u(c,t)),{conference:{startedTime:-1,value:Date.now()-e.conference.startedTime}});a.a.sendAnalytics(function(e){var t=e.audio,n=e.video,r=e.conference,i=n.camera,o=n.desktop;return{action:"local.tracks.durations",attributes:{audio:t.value,camera:i.value,conference:r.value,desktop:o.value}}}(n))}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(12),i=n(10),o=n(39),a=n(37),s=n(17),c=Object(i.getLogger)(e),u=3e3;function l(){return new Promise((function(e){a.a.enumerateDevices((function(t){var n,i=t.filter((function(e){return"audioinput"===e.kind})),l=[],f=Object(r.a)(i);try{for(f.s();!(n=f.n()).done;){var p=n.value,h=a.a.obtainAudioAndVideoPermissions({devices:["audio"],micDeviceId:p.deviceId}).then((function(e){var t=e[0],n=t.getOriginalStream();return s.a.startLocalStats(n,t.setAudioLevel.bind(t)),t.addEventListener(o.LOCAL_TRACK_STOPPED,(function(){s.a.stopLocalStats(n)})),t}));l.push(h)}}catch(m){f.e(m)}finally{f.f()}Promise.allSettled(l).then((function(t){var n,i=t.filter((function(e){return"fulfilled"===e.status})),a=t.filter((function(e){return"rejected"===e.status})),s=i.map((function(e){return e.value})),l=a.map((function(e){return e.value})),f=Object(r.a)(l);try{for(f.s();!(n=f.n()).done;){var p=n.value;c.error("Failed to acquire audio device with error: ",p)}}catch(m){f.e(m)}finally{f.f()}var h,v=Object(r.a)(s);try{var g=function(){var t=h.value;t.on(o.TRACK_AUDIO_LEVEL_CHANGED,(function(n){n>.008&&(d(s),e({deviceId:t.deviceId,deviceLabel:t.track.label}))}))};for(v.s();!(h=v.n()).done;)g()}catch(m){v.e(m)}finally{v.f()}setTimeout((function(){d(s),e({deviceId:"",deviceLabel:""})}),u)}))}))}))}function d(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){t.value.stopStream()}}catch(i){n.e(i)}finally{n.f()}}}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(6),i=n(5),o=n(10),a=n(7),s=n(8),c=n(32),u=n(37),l=n(274),d=n(81),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},p=Object(o.getLogger)(e),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.jitsiConnection,i=f(t,["jitsiConnection"]);this._options=Object.assign({pcConfig:n&&n.xmpp.connection.jingle.p2pIceConfig},i),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return Object(i.a)(e,[{key:"processMessage",value:function(e){var t=e.from;if(t)if(this._peerConnection&&this._peerConnection.getPeerJid()!==t)this._onFatalError(t,d.a.CONNECTION_ERROR,"rejected");else{var n=this._convertStringToXML(e.data.iq),r=n&&n.find("jingle"),i=r&&r.attr("action");i===d.a.INITIATE&&(this._peerConnection=this._createPeerConnection(t,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(r),i!==d.a.CONNECTION_ERROR&&i!==d.a.UNAVAILABLE&&i!==d.a.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(e,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(t)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(e){try{var t=(new DOMParser).parseFromString(e,"text/xml");return $(t)}catch(n){return p.error("Attempted to convert incorrectly formatted xml"),null}}},{key:"_createPeerConnection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Cannot create ProxyConnectionPC without a peer.");var n=Object.assign({pcConfig:this._options.pcConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:e},t);return new l.a(n)}},{key:"_onFatalError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";p.error("Received a proxy connection error",e,t,n);var r=Object(a.$iq)({to:e,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:t}).c("details").t(n).up();this._onSendMessage(e,r),this._peerConnection&&this._peerConnection.getPeerJid()===e&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(e){if(!this._options.onRemoteStream)return p.error("Remote track received without callback."),void e.dispose();var t,n=e.isVideoTrack();n&&(t=this._options.convertVideoToDesktop?c.VideoType.DESKTOP:c.VideoType.CAMERA);var r=e.getOriginalStream(),i=u.a.createLocalTracks([{deviceId:"proxy:".concat(this._peerConnection.getPeerJid()),mediaType:n?s.a.VIDEO:s.a.AUDIO,sourceType:"proxy",stream:r,track:r.getVideoTracks()[0],videoType:t}]);this._options.onRemoteStream(i[0])}},{key:"_onSendMessage",value:function(e,t){if(this._options.onSendMessage)try{var n=(new XMLSerializer).serializeToString(t.nodeTree||t);this._options.onSendMessage(e,{iq:n})}catch(r){p.error("Attempted to send an incorrectly formatted iq.")}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(6),i=n(5),o=n(10),a=n(18),s=n(2),c=n(37),u=n(143),l=n(164),d=n(56),f=n(81),p=Object(o.getLogger)(e),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e),this._options=Object.assign({pcConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},t),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return Object(i.a)(e,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(e){switch(e.attr("action")){case f.a.ACCEPT:this._onSessionAccept(e);break;case f.a.INITIATE:this._onSessionInitiate(e);break;case f.a.TERMINATE:this._onSessionTerminate(e);break;case f.a.TRANSPORT_INFO:this._onTransportInfo(e)}}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(e),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(e))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var e=this,t={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},n=Object.assign({iceServers:d.a},this._options.pcConfig),r={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(t){switch(t){case s.XMPPEvents.CONNECTION_ICE_FAILED:case s.XMPPEvents.CONNECTION_FAILED:e._onError(f.a.CONNECTION_ERROR,t)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){},supportsRestartByTerminate:function(){return!1}};this._rtc=new c.a({myUserId:function(){return""}},{}),this._rtc.addListener(a.default.REMOTE_TRACK_ADDED,this._onRemoteStream);var i=new u.a(void 0,void 0,this._options.peerJid,t,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},n,!0,this._options.isInitiator),o=new l.a;return o.setChatRoom(r),i.initialize(r,this._rtc,o,{}),i}},{key:"_onError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._options.onError(this._options.peerJid,e,t)}},{key:"_onRemoteStream",value:function(e){this._tracks.push(e),this._options.onRemoteStream(e)}},{key:"_onSendMessage",value:function(e){this._options.onSendMessage(this._options.peerJid,e)}},{key:"_onSessionAccept",value:function(e){this._peerConnection?this._peerConnection.setAnswer(e):p.error("Received an answer when no peer connection exists.")}},{key:"_onSessionInitiate",value:function(e){var t=this;this._peerConnection?p.error("Received an offer when an offer was already sent."):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(e,(function(){}),(function(){return t._onError(t._options.peerJid,f.a.CONNECTION_ERROR,"session initiate error")})))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach((function(e){return e.dispose()})),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(a.default.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(e){this._peerConnection.addIceCandidates(e)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";t.a={error:{BUSY:"busy",ERROR:"error",RESOURCE_CONSTRAINT:"resource-constraint",UNEXPECTED_REQUEST:"unexpected-request",SERVICE_UNAVAILABLE:"service-unavailable"},mode:{FILE:"file",STREAM:"stream"},status:{OFF:"off",ON:"on",PENDING:"pending"}}},function(e,t,n){"use strict";var r=n(16),i=n(47),o=n.n(i),a=n(11),s=n(71),c=n(127),u=n.n(c),l=n(110),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f="preCallTestResults",p=new o.a,h=!1,m=null;function v(e){if(!a.a.isReactNative())return new Promise((function(t){u.a.loadScript(e.callStatsCustomScriptUrl||l.a,!0,!0,void 0,t)}))}function g(e){return new Promise((function(t,n){var r=e.callStatsID,i=e.callStatsSecret,o=e.statisticsId||e.statisticsDisplayName||s.a.callStatsUserName;m.initialize(r,i,o,(function(e,r){"success"===e?(m.on(f,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p.emit.apply(p,[f].concat(t))})),h=!0,t()):n({status:e,message:r})}),null,{disablePrecalltest:!0})}))}t.a={init:function(e){return d(this,void 0,void 0,Object(r.a)().mark((function t(){var n,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}throw new Error("Precall Test already initialized");case 2:if(n=e.callStatsID,i=e.callStatsSecret,o=e.disableThirdPartyRequests,n&&i&&!o){t.next=5;break}throw new Error("Callstats is disabled");case 5:return t.next=7,v(e);case 7:return m=new window.callstats,t.abrupt("return",g(e));case 9:case"end":return t.stop()}}),t)})))},execute:function(){return h?new Promise((function(e,t){p.on(f,(function(n,r){"success"===n?e(r):t({status:n,payload:r})})),m.makePrecallTest()})):Promise.reject("uninitialized")}}},function(e,t){e.exports={getTokenAuthUrl:function(e,t,n){return"string"!==typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(12),i=n(6),o=n(5),a=n(10),s=n(161),c=Object(a.getLogger)(e),u=function(){function e(){Object(i.a)(this,e),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return Object(o.a)(e,[{key:"addMediaStream",value:function(e){e.getAudioTracks()||c.warn("Added MediaStream doesn't contain audio tracks."),this._streamsToMix.push(e)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=Object(s.a)(),!this._streamsToMix.length)return c.warn("No MediaStream's added to AudioMixer, nothing will happen."),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();var e,t=Object(r.a)(this._streamsToMix);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=this._audioContext.createMediaStreamSource(n);i.connect(this._mixedMSD),this._streamMSSArray.push(i)}}catch(o){t.e(o)}finally{t.f()}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];var e,t=Object(r.a)(this._streamMSSArray);try{for(t.s();!(e=t.n()).done;){e.value.disconnect()}}catch(n){t.e(n)}finally{t.f()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),e}()}).call(this,"/index.js")},function(e,t,n){"use strict";(function(e){var n=function(){var t="https://sdk.sariska.io/";return function(n){var r;(n="undefined"!==typeof(n=n||{})?n:{}).ready=new Promise((function(e,t){r=e,t}));var i,o={};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);var a,s=[],c=!1,u=!1;c="object"===typeof window,u="function"===typeof importScripts,a="object"===typeof e&&"object"===typeof e.versions&&"string"===typeof e.versions.node;var l,d="";(c||u)&&(u?d=self.location.href:document.currentScript&&(d=document.currentScript.src),t&&(d=t),d=0!==d.indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},u&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var f,p,h=n.print||console.log.bind(console),m=n.printErr||console.warn.bind(console);for(i in o)o.hasOwnProperty(i)&&(n[i]=o[i]);o=null,n.arguments&&(s=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(f=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!==typeof WebAssembly&&m("no native wasm support detected");var v,g,y,_=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),b=!1;function E(e){v=e,n.HEAP8=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=y=new Int32Array(e),n.HEAPU8=g=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}var S=n.INITIAL_MEMORY||16777216;function C(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"===typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t(n)}}(p=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:S/65536,maximum:32768}))&&(v=p.buffer),S=v.byteLength,E(v),y[24364]=5340496;var T=[],O=[],R=[],A=[];var w=0,k=null,P=null;function N(e){throw n.onAbort&&n.onAbort(e),h(e+=""),m(e),b=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}n.preloadedImages={},n.preloadedAudios={};var I="data:application/octet-stream;base64,";function D(e){return t=e,n=I,String.prototype.startsWith?t.startsWith(n):0===t.indexOf(n);var t,n}var M,x="rnnoise.wasm";function L(){try{if(f)return new Uint8Array(f);if(l)return l(x);throw"both async and sync fetching of the wasm failed"}catch(m){N(m)}}function j(e){try{return p.grow(e-v.byteLength+65535>>>16),E(p.buffer),1}catch(t){}}D(x)||(M=x,x=n.locateFile?n.locateFile(M,d):d+M),O.push({func:function(){V()}});var F,U={a:function(e,t,n){g.copyWithin(e,t,t+n)},b:function(e){e>>>=0;var t=g.length,n=2147483648;if(e>n)return!1;for(var r,i,o=1;o<=4;o*=2){var a=t*(1+.2/o);if(a=Math.min(a,e+100663296),j(Math.min(n,((r=Math.max(16777216,e,a))%(i=65536)>0&&(r+=i-r%i),r))))return!0}return!1},memory:p,table:_},V=(function(){var e={a:U};function t(e,t){var r=e.exports;n.asm=r,function(e){if(w--,n.monitorRunDependencies&&n.monitorRunDependencies(w),0==w&&(null!==k&&(clearInterval(k),k=null),P)){var t=P;P=null,t()}}()}function r(e){t(e.instance)}function i(t){return(f||!c&&!u||"function"!==typeof fetch?new Promise((function(e,t){e(L())})):fetch(x,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+x+"'";return e.arrayBuffer()})).catch((function(){return L()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){m("failed to asynchronously prepare wasm: "+e),N(e)}))}if(w++,n.monitorRunDependencies&&n.monitorRunDependencies(w),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(o){return m("Module.instantiateWasm callback failed with error: "+o),!1}(function(){if(f||"function"!==typeof WebAssembly.instantiateStreaming||D(x)||"function"!==typeof fetch)return i(r);fetch(x,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return m("wasm streaming compile failed: "+e),m("falling back to ArrayBuffer instantiation"),i(r)}))}))})()}(),n.___wasm_call_ctors=function(){return(V=n.___wasm_call_ctors=n.asm.c).apply(null,arguments)});n._rnnoise_init=function(){return(n._rnnoise_init=n.asm.d).apply(null,arguments)},n._rnnoise_create=function(){return(n._rnnoise_create=n.asm.e).apply(null,arguments)},n._malloc=function(){return(n._malloc=n.asm.f).apply(null,arguments)},n._rnnoise_destroy=function(){return(n._rnnoise_destroy=n.asm.g).apply(null,arguments)},n._free=function(){return(n._free=n.asm.h).apply(null,arguments)},n._rnnoise_process_frame=function(){return(n._rnnoise_process_frame=n.asm.i).apply(null,arguments)};function H(e){function t(){F||(F=!0,n.calledRun=!0,b||(!0,C(O),C(R),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),A.unshift(e);var e;C(A)}()))}e=e||s,w>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),T.unshift(e);var e;C(T)}(),w>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}if(P=function e(){F||H(),F||(P=e)},n.run=H,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return!0,H(),n.ready}}();t.a=n}).call(this,n(139))},function(e,t,n){"use strict";var r=n(336).default;e.exports=function(e,t,n,s,u,l){if(!o(e)||!o(t)||n&&!o(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==s*u*4)throw new Error("Image data size does not match width/height.");l=Object.assign({},i,l);for(var d=s*u,f=new Uint32Array(e.buffer,e.byteOffset,d),m=new Uint32Array(t.buffer,t.byteOffset,d),v=!0,g=0;g<d;g++)if(f[g]!==m[g]){v=!1;break}if(v){if(n&&!l.diffMask)for(var y=0;y<d;y++)h(e,4*y,l.alpha,n);return 0}for(var _=35215*l.threshold*l.threshold,b=0,E=0;E<u;E++)for(var S=0;S<s;S++){var C=4*(E*s+S),T=c(e,t,C,C);Math.abs(T)>_?l.includeAA||!a(e,S,E,s,u,t)&&!a(t,S,E,s,u,e)?(n&&p.apply(void 0,[n,C].concat(r(T<0&&l.diffColorAlt||l.diffColor))),b++):n&&!l.diffMask&&p.apply(void 0,[n,C].concat(r(l.aaColor))):n&&(l.diffMask||h(e,C,l.alpha,n))}return b};var i={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function o(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function a(e,t,n,r,i,o){for(var a,u,l,d,f=Math.max(t-1,0),p=Math.max(n-1,0),h=Math.min(t+1,r-1),m=Math.min(n+1,i-1),v=4*(n*r+t),g=t===f||t===h||n===p||n===m?1:0,y=0,_=0,b=f;b<=h;b++)for(var E=p;E<=m;E++)if(b!==t||E!==n){var S=c(e,e,v,4*(E*r+b),!0);if(0===S){if(++g>2)return!1}else S<y?(y=S,a=b,u=E):S>_&&(_=S,l=b,d=E)}return 0!==y&&0!==_&&(s(e,a,u,r,i)&&s(o,a,u,r,i)||s(e,l,d,r,i)&&s(o,l,d,r,i))}function s(e,t,n,r,i){for(var o=Math.max(t-1,0),a=Math.max(n-1,0),s=Math.min(t+1,r-1),c=Math.min(n+1,i-1),u=4*(n*r+t),l=t===o||t===s||n===a||n===c?1:0,d=o;d<=s;d++)for(var f=a;f<=c;f++)if(d!==t||f!==n){var p=4*(f*r+d);if(e[u]===e[p]&&e[u+1]===e[p+1]&&e[u+2]===e[p+2]&&e[u+3]===e[p+3]&&l++,l>2)return!0}return!1}function c(e,t,n,r,i){var o=e[n+0],a=e[n+1],s=e[n+2],c=e[n+3],p=t[r+0],h=t[r+1],m=t[r+2],v=t[r+3];if(c===v&&o===p&&a===h&&s===m)return 0;c<255&&(o=f(o,c/=255),a=f(a,c),s=f(s,c)),v<255&&(p=f(p,v/=255),h=f(h,v),m=f(m,v));var g=u(o,a,s),y=u(p,h,m),_=g-y;if(i)return _;var b=l(o,a,s)-l(p,h,m),E=d(o,a,s)-d(p,h,m),S=.5053*_*_+.299*b*b+.1957*E*E;return g>y?-S:S}function u(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function l(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function d(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function f(e,t){return 255+(e-255)*t}function p(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function h(e,t,n,r){var i=f(u(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);p(r,t,i,i,i)}},function(e,t,n){(function(t,n){var r=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var r,i,o=void 0!==(t=t||{})?t:{};o.ready=new Promise((function(e,t){r=e,i=t}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var c,u,l,d=[],f="./this.program",p=function(e,t){throw t};u="object"==typeof window,l="function"==typeof importScripts,c="object"==typeof n&&"object"==typeof n.versions&&"string"==typeof n.versions.node;var h,m,v="";u||c||l?(u||l)&&(l?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),e&&(v=e),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",l&&(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}):(m=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):("object"==typeof(t=read(e,"binary"))||F("Assertion failed: "+undefined),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:void 0!==arguments&&(d=arguments),"function"==typeof quit&&(p=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var g,y,_,b=o.print||console.log.bind(console),E=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&(d=o.arguments),o.thisProgram&&(f=o.thisProgram),o.quit&&(p=o.quit),o.wasmBinary&&(g=o.wasmBinary),o.noExitRuntime&&(y=o.noExitRuntime),"object"!=typeof WebAssembly&&F("no native wasm support detected");var S,C,T,O,R=!1,A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function w(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&A)return A.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function k(e){S=e,o.HEAP8=C=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=O=new Int32Array(e),o.HEAPU8=T=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var P,N=[],I=[],D=[],M=[];I.push({func:function(){Z()}});var x=0,L=null,j=null;function F(e){o.onAbort&&o.onAbort(e),E(e+=""),R=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function U(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}o.preloadedImages={},o.preloadedAudios={};function V(e){return U(e,"data:application/octet-stream;base64,")}function H(e){return U(e,"file://")}var B,G="https://sdk.sariska.io/tflite.wasm";function J(e){try{if(e==G&&g)return new Uint8Array(g);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){F(e)}}function W(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?P.get(n)():P.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}V(G),B=c?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};function z(e){return O[ee()>>2]=e,e}function K(e){try{return _.grow(e-S.byteLength+65535>>>16),k(_.buffer),1}catch(e){}}var q={};function $(){if(!$.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(var t in q)e[t]=q[t];var n=[];for(var t in e)n.push(t+"="+e[t]);$.strings=n}return $.strings}var X,Y={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Y.buffers[e];0===t||10===t?((1===e?b:E)(w(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Y.varargs+=4,O[Y.varargs-4>>2]},getStr:function(e){return function(e,t){return e?w(T,e,void 0):""}(e)},get64:function(e,t){return e}},Q={a:function(){F()},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return z(28),-1;n=B()}return O[t>>2]=n/1e3|0,O[t+4>>2]=n%1e3*1e3*1e3|0,0},i:function(e,t){F("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(e,t){F("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,t,n){T.copyWithin(e,t,t+n)},m:function(e){e>>>=0;var t=T.length;if(e>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),K(Math.min(2147483648,((n=Math.max(16777216,e,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},o:function(e){for(var t=B();B()-t<e;);},p:function(e,t){var n=0;return $().forEach((function(r,i){var o=t+n;O[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)C[t++>>0]=e.charCodeAt(r);C[t>>0]=0}(r,o),n+=r.length+1})),0},g:function(e,t){var n=$();O[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>2]=r,0},j:function(e){!function(e,t){y||(o.onExit&&o.onExit(e),R=!0),p(e,new te(e))}(e)},h:function(e){return 0},k:function(e,t,n,r,i){},c:function(e,t,n,r){for(var i=0,o=0;o<n;o++){for(var a=O[t+8*o>>2],s=O[t+(8*o+4)>>2],c=0;c<s;c++)Y.printChar(e,T[a+c]);i+=s}return O[r>>2]=i,0},d:function(){return 6},f:function(){return 28},b:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return z(28),-1}},Z=(function(){var e={a:Q};function t(e,t){var n=e.exports;o.asm=n,k((_=o.asm.q).buffer),P=o.asm.D,function(e){if(x--,o.monitorRunDependencies&&o.monitorRunDependencies(x),0==x&&(null!==L&&(clearInterval(L),L=null),j)){var t=j;j=null,t()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(u||l)){if("function"==typeof fetch&&!H(G))return fetch(G,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()})).catch((function(){return J(G)}));if(h)return new Promise((function(e,t){h(G,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return J(G)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),F(e)}))}if(x++,o.monitorRunDependencies&&o.monitorRunDependencies(x),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||V(G)||H(G)||"function"!=typeof fetch?r(n):fetch(G,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),o.___wasm_call_ctors=function(){return(Z=o.___wasm_call_ctors=o.asm.r).apply(null,arguments)}),ee=(o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o.___errno_location=function(){return(ee=o.___errno_location=o.asm.E).apply(null,arguments)});function te(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ne(e){function t(){X||(X=!0,o.calledRun=!0,R||(W(I),W(D),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),M.unshift(e);var e;W(M)}()))}e=e||d,x>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),N.unshift(e);var e;W(N)}(),x>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(j=function e(){X||ne(),X||(j=e)},o.run=ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return y=!0,ne(),t.ready}}();e.exports=r}).call(this,"/index.js",n(139))},function(e,t,n){(function(t,n){var r=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var r,i,o=void 0!==(t=t||{})?t:{};o.ready=new Promise((function(e,t){r=e,i=t}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var c,u,l,d=[],f="./this.program",p=function(e,t){throw t};u="object"==typeof window,l="function"==typeof importScripts,c="object"==typeof n&&"object"==typeof n.versions&&"string"==typeof n.versions.node;var h,m,v="";u||c||l?(u||l)&&(l?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),e&&(v=e),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",l&&(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}):(m=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):("object"==typeof(t=read(e,"binary"))||F("Assertion failed: "+undefined),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:void 0!==arguments&&(d=arguments),"function"==typeof quit&&(p=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var g,y,_,b=o.print||console.log.bind(console),E=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&(d=o.arguments),o.thisProgram&&(f=o.thisProgram),o.quit&&(p=o.quit),o.wasmBinary&&(g=o.wasmBinary),o.noExitRuntime&&(y=o.noExitRuntime),"object"!=typeof WebAssembly&&F("no native wasm support detected");var S,C,T,O,R=!1,A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function w(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&A)return A.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function k(e){S=e,o.HEAP8=C=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=O=new Int32Array(e),o.HEAPU8=T=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var P,N=[],I=[],D=[],M=[];I.push({func:function(){Z()}});var x=0,L=null,j=null;function F(e){o.onAbort&&o.onAbort(e),E(e+=""),R=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function U(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}o.preloadedImages={},o.preloadedAudios={};function V(e){return U(e,"data:application/octet-stream;base64,")}function H(e){return U(e,"file://")}var B,G="https://sdk.sariska.io/tflite-simd.wasm";function J(e){try{if(e==G&&g)return new Uint8Array(g);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){F(e)}}function W(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?P.get(n)():P.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}V(G),B=c?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};function z(e){return O[ee()>>2]=e,e}function K(e){try{return _.grow(e-S.byteLength+65535>>>16),k(_.buffer),1}catch(e){}}var q={};function $(){if(!$.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(var t in q)e[t]=q[t];var n=[];for(var t in e)n.push(t+"="+e[t]);$.strings=n}return $.strings}var X,Y={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Y.buffers[e];0===t||10===t?((1===e?b:E)(w(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Y.varargs+=4,O[Y.varargs-4>>2]},getStr:function(e){return function(e,t){return e?w(T,e,void 0):""}(e)},get64:function(e,t){return e}},Q={a:function(){F()},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return z(28),-1;n=B()}return O[t>>2]=n/1e3|0,O[t+4>>2]=n%1e3*1e3*1e3|0,0},i:function(e,t){F("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(e,t){F("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(e,t,n){T.copyWithin(e,t,t+n)},m:function(e){e>>>=0;var t=T.length;if(e>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),K(Math.min(2147483648,((n=Math.max(16777216,e,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},o:function(e){for(var t=B();B()-t<e;);},p:function(e,t){var n=0;return $().forEach((function(r,i){var o=t+n;O[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)C[t++>>0]=e.charCodeAt(r);C[t>>0]=0}(r,o),n+=r.length+1})),0},g:function(e,t){var n=$();O[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>2]=r,0},j:function(e){!function(e,t){y||(o.onExit&&o.onExit(e),R=!0),p(e,new te(e))}(e)},h:function(e){return 0},k:function(e,t,n,r,i){},c:function(e,t,n,r){for(var i=0,o=0;o<n;o++){for(var a=O[t+8*o>>2],s=O[t+(8*o+4)>>2],c=0;c<s;c++)Y.printChar(e,T[a+c]);i+=s}return O[r>>2]=i,0},d:function(){return 6},f:function(){return 28},b:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return z(28),-1}},Z=(function(){var e={a:Q};function t(e,t){var n=e.exports;o.asm=n,k((_=o.asm.q).buffer),P=o.asm.D,function(e){if(x--,o.monitorRunDependencies&&o.monitorRunDependencies(x),0==x&&(null!==L&&(clearInterval(L),L=null),j)){var t=j;j=null,t()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(u||l)){if("function"==typeof fetch&&!H(G))return fetch(G,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()})).catch((function(){return J(G)}));if(h)return new Promise((function(e,t){h(G,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return J(G)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),F(e)}))}if(x++,o.monitorRunDependencies&&o.monitorRunDependencies(x),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||V(G)||H(G)||"function"!=typeof fetch?r(n):fetch(G,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),o.___wasm_call_ctors=function(){return(Z=o.___wasm_call_ctors=o.asm.r).apply(null,arguments)}),ee=(o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o.___errno_location=function(){return(ee=o.___errno_location=o.asm.E).apply(null,arguments)});function te(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ne(e){function t(){X||(X=!0,o.calledRun=!0,R||(W(I),W(D),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),M.unshift(e);var e;W(M)}()))}e=e||d,x>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),N.unshift(e);var e;W(N)}(),x>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(j=function e(){X||ne(),X||(j=e)},o.run=ne,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return y=!0,ne(),t.ready}}();e.exports=r}).call(this,"/index.js",n(139))},function(e,t,n){"use strict";function r(e){var t=e.isOnline,n=e.networkType,r=e.details,i={isOnline:t};return n&&(i.networkType=n),r&&(i.details=r),{action:"network.info",attributes:i}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?l:10===e?d:l||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(a)?a:p(a);var s=h(e);return s.host?m(s.host,t):m(e,h(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function g(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){return S({},e,{right:e.left+e.width,bottom:e.top+e.height})}function T(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,c=o.height||e.clientHeight||i.height,u=e.offsetWidth-s,l=e.offsetHeight-c;if(u||l){var d=a(e);u-=g(d,"x"),l-=g(d,"y"),i.width-=u,i.height-=l}return C(i)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,o=T(e),s=T(t),u=c(e),l=a(t),d=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=C({top:o.top-s.top-d,left:o.left-s.left-p,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var m=parseFloat(l.marginTop),g=parseFloat(l.marginLeft);h.top-=d-m,h.bottom-=d-m,h.left-=p-g,h.right-=p-g,h.marginTop=m,h.marginLeft=g}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),i=v(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(h,t)),h}function R(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&R(n)}function A(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function w(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?A(e):m(e,u(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=O(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:v(n),s=t?0:v(n,"left");return C({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=c(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var d=O(l,a,i);if("HTML"!==l.nodeName||R(a))o=d;else{var f=_(e.ownerDocument),p=f.height,h=f.width;o.top+=d.top-d.marginTop,o.bottom=p+d.top,o.left+=d.left-d.marginLeft,o.right=h+d.left}}var g="number"===typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function k(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=w(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map((function(e){return S({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(n,r?A(t):m(t,u(n)),r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function D(e,t,n){n=n.split("-")[0];var r=N(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return i[a]=t[a]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[u]:t[I(s)],i}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function x(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=M(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function L(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=k(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=x(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function j(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function U(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||H(c(o.parentNode),t,n,r),r.push(o)}function B(e,t,n,r){n.updateBound=r,V(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return H(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function G(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function J(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function W(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&W(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=n&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var r=M(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var $=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=$.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),r=X.slice(n+1).concat(X.slice(0,n));return t?r.reverse():r}var Q="flip",Z="clockwise",ee="counterclockwise";function te(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(M(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return u=u.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){return C("%p"===a?n:r)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){W(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ne={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:E({},c,o[c]),end:E({},c,o[c]+o[u]-a[u])};e.offsets.popper=S({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],c=void 0;return c=W(+n)?[+n,0]:te(n,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=F("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=w(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=c;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),E({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=S({},l,d[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return n[s]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[u]),n[c]>o(r[s])&&(e.offsets.popper[c]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,c=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",d=u?"Top":"Left",f=d.toLowerCase(),p=u?"left":"top",h=u?"bottom":"right",m=N(r)[l];c[h]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(c[h]-m)),c[f]+m>s[h]&&(e.offsets.popper[f]+=c[f]+m-s[h]),e.offsets.popper=C(e.offsets.popper);var v=c[f]+c[l]/2-m/2,g=a(e.instance.popper),y=parseFloat(g["margin"+d]),_=parseFloat(g["border"+d+"Width"]),b=v-e.offsets.popper[f]-y-_;return b=Math.max(Math.min(s[l]-m,b),0),e.arrowElement=r,e.offsets.arrow=(E(n={},f,Math.round(b)),E(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(j(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=w(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=I(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Q:a=[r,i];break;case Z:a=Y(r);break;case ee:a=Y(r,!0);break;default:a=t.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],i=I(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),p=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),_=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&v),b=!!t.flipVariationsByContent&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),E=_||b;(f||g||E)&&(e.flipped=!0,(f||g)&&(r=a[c+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=S({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=x(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=I(t),e.offsets.popper=C(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=M(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=M(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),c=T(s),u={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},c=o(i.width),u=o(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?l||d||c%2===u%2?o:a:s,p=t?o:s;return{left:f(c%2===1&&u%2===1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!K),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=F("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,a&&h)u[h]="translate3d("+m+"px, "+v+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,y="right"===f?-1:1;u[d]=v*g,u[f]=m*y,u.willChange=d+", "+f}var _={"x-placement":e.placement};return e.attributes=S({},_,e.attributes),e.styles=S({},u,e.styles),e.arrowStyles=S({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return z(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=P(i,t,e,n.positionFixed),a=k(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},re={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ne},ie=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=S({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=S({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return S({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return b(e,[{key:"update",value:function(){return L.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return J.call(this)}}]),e}();ie.Utils=("undefined"!==typeof window?window:e).PopperUtils,ie.placements=$,ie.Defaults=re,t.a=ie}).call(this,n(103))},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"}),"PanTool");t.default=a},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonOutlined");t.default=a},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"}),"Album");t.default=a},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=a},function(e,t,n){"use strict";var r=n(93),i=n(94);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(0)),a=(0,r(n(95)).default)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dispatch;return function(e){return function(n){return(0,o.isFSA)(n)?(0,i.default)(n.payload)?n.payload.then((function(e){return t(a({},n,{payload:e}))})).catch((function(e){return t(a({},n,{payload:e,error:!0})),Promise.reject(e)})):e(n):(0,i.default)(n)?n.then(t):e(n)}}};var r,i=(r=n(350))&&r.__esModule?r:{default:r},o=n(351);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n(9),i=n(13),o=n(357),a=n(92),s=n(1);function c(e,t,n){var i;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var u=n(297),l={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(58),_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(y.e)(e.main,i):"dark"===t&&(e.dark=Object(y.b)(e.main,o)))}function S(e){return Math.round(1e5*e)/1e5}function C(e){return S(e)}var T={textTransform:"uppercase"},O='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?O:r,c=n.fontSize,u=void 0===c?14:c,l=n.fontWeightLight,d=void 0===l?300:l,f=n.fontWeightRegular,p=void 0===f?400:f,h=n.fontWeightMedium,m=void 0===h?500:h,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,_=void 0===y?16:y,b=n.allVariants,E=n.pxToRem,R=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var A=u/14,w=E||function(e){return"".concat(e/_*A,"rem")},k=function(e,t,n,r,i){return Object(s.a)({fontFamily:a,fontWeight:e,fontSize:w(t),lineHeight:n},a===O?{letterSpacing:"".concat(S(r/t),"em")}:{},i,b)},P={h1:k(d,96,1.167,-1.5),h2:k(d,60,1.2,-.5),h3:k(p,48,1.167,0),h4:k(p,34,1.235,.25),h5:k(p,24,1.334,0),h6:k(m,20,1.6,.15),subtitle1:k(p,16,1.75,.15),subtitle2:k(m,14,1.57,.1),body1:k(p,16,1.5,.15),body2:k(p,14,1.43,.15),button:k(m,14,1.75,.4,T),caption:k(p,12,1.66,.4),overline:k(p,12,2.66,1,T)};return Object(o.a)(Object(s.a)({htmlFontSize:_,pxToRem:w,round:C,fontFamily:a,fontSize:u,fontWeightLight:d,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},P),R,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var w=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],k={borderRadius:4},P=n(426);var N=n(68),I=n(168);function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,S=void 0===r?{}:r,C=e.palette,T=void 0===C?{}:C,O=e.spacing,A=e.typography,D=void 0===A?{}:A,M=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),x=function(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,r=e.secondary,a=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,c=e.error,S=void 0===c?{light:h[300],main:h[500],dark:h[700]}:c,C=e.warning,T=void 0===C?{light:m[300],main:m[500],dark:m[700]}:C,O=e.info,R=void 0===O?{light:v[300],main:v[500],dark:v[700]}:O,A=e.success,w=void 0===A?{light:g[300],main:g[500],dark:g[700]}:A,k=e.type,P=void 0===k?"light":k,N=e.contrastThreshold,I=void 0===N?3:N,D=e.tonalOffset,M=void 0===D?.2:D,x=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return Object(y.d)(e,b.text.primary)>=I?b.text.primary:_.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(u.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(u.a)(5,JSON.stringify(e.main)));return E(e,"light",n,M),E(e,"dark",r,M),e.contrastText||(e.contrastText=L(e.main)),e},F={dark:b,light:_};return Object(o.a)(Object(s.a)({common:l,type:P,primary:j(n),secondary:j(a,"A400","A200","A700"),error:j(S),warning:j(T),info:j(R),success:j(w),grey:d,contrastThreshold:I,getContrastText:L,augmentColor:j,tonalOffset:M},F[P]),x)}(T),L=Object(a.a)(n),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(P.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(O),F=Object(o.a)({breakpoints:L,direction:"ltr",mixins:c(L,j,S),overrides:{},palette:x,props:{},shadows:w,typography:R(x,D),spacing:j,shape:k,transitions:N.a,zIndex:I.a},M),U=arguments.length,V=new Array(U>1?U-1:0),H=1;H<U;H++)V[H-1]=arguments[H];return F=V.reduce((function(e,t){return Object(o.a)(e,t)}),F)}function M(){return D.apply(void 0,arguments)}t.b=D},function(e,t,n){"use strict";var r=n(5),i=n(6),o=Object(r.a)((function e(t,n,r,o){Object(i.a)(this,e),this.blob=t,this.name=n,this.startTime=r,this.wordArray=o})),a=Object(r.a)((function e(t){Object(i.a)(this,e),this.track=t,this.recorder=null,this.data=null,this.name=null,this.startTime=null})),s="audio/webm",c="audio/ogg";function u(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date}function l(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop()}function d(){if(MediaRecorder.isTypeSupported(s))return s;if(MediaRecorder.isTypeSupported(c))return c;throw new Error("unable to create a MediaRecorder with the right mimetype!")}function f(e){this.recorders=[],this.fileType=d(),this.isRecording=!1,this.jitsiConference=e}f.determineCorrectFileType=d,f.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=this.instantiateTrackRecorder(e);this.recorders.push(t),this.updateNames(),this.isRecording&&u(t)}},f.prototype.instantiateTrackRecorder=function(e){var t=new a(e),n=t.track.getOriginalStream(),r=new MediaStream;return n.getAudioTracks().forEach((function(e){return r.addTrack(e)})),t.recorder=new MediaRecorder(r,{mimeType:this.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t},f.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)if(n[t].track.getParticipantId()===e.getParticipantId()){var r=n[t];this.isRecording?l(r):n.splice(t,1)}this.updateNames()}},f.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach((function(t){if(t.track.isLocal())t.name="the transcriber";else{var n=t.track.getParticipantId(),r=e.getParticipantById(n).getDisplayName();"undefined"!==r&&(t.name=r)}}))},f.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach((function(e){return u(e)})),console.log("Started the recording of the audio. There are currently ".concat(this.recorders.length," recorders active."))},f.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach((function(e){return l(e)})),console.log("stopped recording")},f.prototype.download=function(){var e=this;this.recorders.forEach((function(t){var n=new Blob(t.data,{type:e.fileType}),r=URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=r,i.download="test.".concat(e.fileType.split("/")[1]),i.click(),window.URL.revokeObjectURL(r)}))},f.prototype.getRecordingResults=function(){var e=this;if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is still recording!");this.updateNames();var t=[];return this.recorders.forEach((function(n){return t.push(new o(new Blob(n.data,{type:e.fileType}),n.name,n.startTime))})),t},f.prototype.getFileType=function(){return this.fileType};var p=f,h=n(24),m=n(25),v=function(){function e(t,n,r){Object(i.a)(this,e),this.word=t,this.begin=n,this.end=r}return Object(r.a)(e,[{key:"getWord",value:function(){return this.word}},{key:"getBeginTime",value:function(){return this.begin}},{key:"getEndTime",value:function(){return this.end}}]),e}(),g=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).url=function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes("https://"))return t;console.log(e)}}(),e}return Object(r.a)(n,[{key:"sendRequest",value:function(e,t){console.log("sending an audio file  to ".concat(this.url)),console.log("the audio file being sent: ".concat(e));var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: ".concat(n.status))},n.open("POST",this.url),n.setRequestHeader("Content-Type",p.determineCorrectFileType()),n.send(e),console.log("send ".concat(e))}},{key:"formatResponse",value:function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach((function(e){return e.filler||n.push(new v(e.word,e.start,e.end))})),n}},{key:"verify",value:function(e){if(console.log("response from server:".concat(e.toString())),"string"!==typeof e)return!1;var t;try{t=JSON.parse(e)}catch(r){return console.log(r),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"])}}]),n}(function(){function e(){throw Object(i.a)(this,e),new Error("TranscriptionService is abstract and cannot be created")}return Object(r.a)(e,[{key:"send",value:function(e,t){var n=this;this.sendRequest(e.blob,(function(r){n.verify(r)?e.wordArray=n.formatResponse(r):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[]),t(e)}))}},{key:"sendRequest",value:function(e,t){throw new Error("TranscriptionService.sendRequest is abstract")}},{key:"formatResponse",value:function(e){throw new Error("TranscriptionService.format is abstract")}},{key:"verify",value:function(e){throw new Error("TranscriptionService.verify is abstract")}}]),e}());var y="before",_="recording",b="transcribing",E="finished";function S(){this.audioRecorder=new p,this.transcriptionService=new g,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=y,this.lineLength=0}function C(e,t){if(console.log("retrieved an answer from the transcription service. The answer has an"+" array of length: ".concat(t.wordArray.length)),t.wordArray.length>0){var n=t.startTime.getUTCMilliseconds()-e.startTime.getUTCMilliseconds();n<0&&(n=0);var r="[";t.wordArray.forEach((function(e){e.begin+=n,e.end+=n,r+="".concat(e.word,",")})),r+="]",console.log(r),t.wordArray.name=t.name}e.results.push(t.wordArray),e.counter--,console.log("current counter: ".concat(e.counter)),e.maybeMerge()}function T(e){for(var t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0}S.prototype.start=function(){if(this.state!==y)throw new Error("The transcription can only start when it's in the \"".concat(y,'" state. It\'s currently in the "').concat(this.state,'" state'));this.state=_,this.audioRecorder.start(),this.startTime=new Date},S.prototype.stop=function(e){var t=this;if(this.state!==_)throw new Error("The transcription can only stop when it's in the \"".concat(_,'" state. It\'s currently in the "').concat(this.state,'" state'));console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var n=C.bind(null,this);this.audioRecorder.getRecordingResults().forEach((function(e){t.transcriptionService.send(e,n),t.counter++})),this.state=b,this.callback=e},S.prototype.maybeMerge=function(){this.state===b&&0===this.counter&&this.merge()},S.prototype.merge=function(){var e=this;console.log("starting merge process!\n The length of the array: ".concat(this.results.length)),this.transcription="";var t=this.results,n=[];T(t),t.forEach((function(e){return function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);for(var n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}}(n,e)}));for(var r=function(){var n=t[0];t.forEach((function(e){e[0].begin<n[0].begin&&(n=e)}));var r=n.shift();e.updateTranscription(r,n.name);for(var i=function(){var i=!1,o=n[0].begin;if(t.forEach((function(e){e[0].begin<o&&(i=!0)})),i)return 1;r=n.shift(),e.updateTranscription(r,null)};n.length>0&&!i(););};T(t);)r();this.state=E,this.callback&&this.callback(this.transcription)},S.prototype.updateTranscription=function(e,t){void 0!==t&&null!==t&&(this.transcription+="\n".concat(t,":"),this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\n    ",this.lineLength=4),this.transcription+=" ".concat(e.word),this.lineLength+=e.word.length+1},S.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},S.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},S.prototype.getTranscription=function(){if(this.state!==E)throw new Error("The transcription can only be retrieved when it's in the \"".concat(E,'" state. It\'s currently in the "').concat(this.state,'" state'));return this.transcription},S.prototype.getState=function(){return this.state},S.prototype.reset=function(){this.state=y,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0};t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(6),i=n(5),o=n(91),a=n.n(o),s=n(184),c=n.n(s),u=function(e,t){return"undefined"!==typeof e&&"undefined"!==typeof e.media&&Array.isArray(e.media)&&e.media.forEach((function(e){e.sources&&e.sources.length&&(e.ssrcs=[],e.sources.forEach((function(t){Object.keys(t).forEach((function(n){"id"!==n&&e.ssrcs.push({id:t.id,attribute:n,value:t[n]})}))})),delete e.sources),e.ssrcGroups&&e.ssrcGroups.length&&e.ssrcGroups.forEach((function(e){"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))}))})),c.a.write(e,t)},l=function(e){var t=c.a.parse(e);return"undefined"!==typeof t&&"undefined"!==typeof t.media&&Array.isArray(t.media)&&t.media.forEach((function(e){"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources=[],e.ssrcs.forEach((function(t){var n=e.sources.findIndex((function(e){return e.id===t.id}));if(n>-1)e.sources[n][t.attribute]=t.value;else{var r={id:t.id};r[t.attribute]=t.value,e.sources.push(r)}})),delete e.ssrcs),"undefined"!==typeof e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){"string"===typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))}))})),t},d=["audio","video","data"],f=function(e){return e.find((function(e){return"SIM"===e.semantics}))},p=function(e){return e.find((function(e){return"FID"===e.semantics}))};function h(e,t,n,r){if(e&&t){var i=function(e){return r.find((function(t){return t.id.toString()===e}))};t.ssrcs.forEach((function(t){e.sources.push(i(t));var r=n[parseInt(t,10)].find((function(e){return"FID"===e.semantics}));if(r){var o=r.ssrcs.find((function(e){return e!==t}));e.sources.push(i(o)),e.ssrcGroups.push(r)}})),e.ssrcGroups.push(t)}}function m(e,t,n,r){if(e&&t){if(e.sources=[],e.ssrcGroups=[],!n[t.id])return e.sources.push(t),void(e.msid=t.msid);var i=f(n[t.id]),o=p(n[t.id]);if(i)h(e,i,n,r);else if(o){var a=o.ssrcs.find((function(e){return e!==t})),s=f(n[a]);s?h(e,s,n,r):(o.ssrcs.forEach((function(t){e.sources.push(function(e){return r.find((function(t){return t.id.toString()===e}))}(t))})),e.ssrcGroups.push(o))}e.msid=e.sources[0].msid}}function v(e,t,n){if(!n.find((function(t){return!!t.sources&&t.sources.some((function(t){return t.id===e.id}))}))){if(!t[e.id])return!1;var r=f(t[e.id]),i=p(t[e.id]);return r?n.some((function(e){return e.sources&&e.sources.some((function(e){return e.id.toString()===r.ssrcs[0]}))})):!(!i||e.id.toString()===i.ssrcs[0])&&v({id:i.ssrcs[0]},t,n)}return!0}var g=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"toPlanB",value:function(e){if(!e||"string"!==typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=l(e.sdp);if(!t.media||!t.media.length)return console.warn("The description has no media."),e;if(t.media.every((function(e){return-1!==d.indexOf(e.mid)})))return console.warn("The description does not look like unified plan sdp"),e;var n={},r=t.media;t.media=[],r.forEach((function(e){var t=e.type;if("application"===t)return e.mid="data",void(n[e.mid]=e);if("undefined"===typeof n[t]){var r=a()(e);r.sources&&Array.isArray(r.sources)&&r.sources.forEach((function(t){e.msid?t.msid=e.msid:delete t.msid})),r.ssrcGroups&&e.msid||(r.ssrcGroups=[]),delete r.msid,r.mid=t,n[t]=r}else if(e.msid){var i=a()(e);i.sources&&Array.isArray(i.sources)&&(i.sources.forEach((function(t){t.msid=e.msid})),n[t].sources=(n[t].sources||[]).concat(i.sources)),"undefined"!==typeof i.ssrcGroups&&Array.isArray(i.ssrcGroups)&&(n[t].ssrcGroups=(n[t].ssrcGroups||[]).concat(i.ssrcGroups))}})),t.media=Object.values(n);var i=[];Object.values(n).forEach((function(e){"inactive"!==e.direction&&i.push(e.mid)})),t.groups.forEach((function(e){"BUNDLE"===e.type&&(e.mids=i.join(" "))})),t.msidSemantic={semantic:"WMS",token:"*"};var o=u(t);return new RTCSessionDescription({type:e.type,sdp:o})}},{key:"toUnifiedPlan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!==typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=l(e.sdp);if(!n.media||!n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||n.media.every((function(e){return-1===d.indexOf(e.mid)})))return console.warn("The description does not look like plan-b"),e;var r=t?l(t.sdp):null,i=function(e,t){if(!e||!t||0===e.media.length||0===t.media.length)return!1;var n=e.media[0],r=t.media[0];return n.iceUfrag!==r.iceUfrag||n.icePwd!==r.icePwd}(n,r),o=n.media[0].iceUfrag,s=n.media[0].icePwd,c=n.media[0].fingerprint,f={};n.media.forEach((function(e){var t=e.type;if("application"!==t){var n=function(e){var t={};return e&&Array.isArray(e)?(e.forEach((function(e){e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(n){"undefined"===typeof t[n]&&(t[n]=[]),t[n].push(e)}))})),t):t}(e.ssrcGroups);if(e.sources)e.sources.forEach((function(t,i){if(t.msid){if(!r||!r.media){if(v(t,n,Object.values(f)))return;var o=a()(e);return o.mid=Object.keys(f).length.toString(),o.direction=i||"sendonly"===e.direction?"sendonly":"sendrecv",o.bundleOnly=void 0,m(o,t,n,e.sources),void(f[o.mid]=o)}if(!v(t,n,r.media)){var s=a()(e);s.mid=r.media.length.toString(),s.direction="sendonly",m(s,t,n,e.sources),r.media.push(s)}}}));else if(!r){var i=a()(e);i.mid=Object.keys(f).length.toString(),f[e.mid]=i}}else{if(!r||!r.media){var o=a()(e);return o.mid=Object.keys(f).length.toString(),void(f[e.mid]=o)}var s=r.media.findIndex((function(e){return e.type===t}));s&&(r.media[s]=e,r.media[s].mid=s)}})),n.media=r?r.media:Object.values(f);var p=[];n.media.forEach((function(e){p.push(e.mid),i&&(e.iceUfrag=o,e.icePwd=s,e.fingerprint=c)})),n.groups.forEach((function(e){"BUNDLE"===e.type&&(e.mids=p.join(" "))})),n.msidSemantic={semantic:"WMS",token:"*"},n.origin.sessionVersion++;var h=u(n);return new RTCSessionDescription({type:e.type,sdp:h})}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(212),i=n(61),o=n(17),a=n(56),s=n(23),c=n(90),u=n(129),l=n.n(u),d=["__proto__","constructor","prototype"];function f(e){var t=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=location.search?location.search:location.hash,n={},r=t&&t.substr(1).split("&")||[];if(location.hash&&1===r.length){var i=r[0];if(i.startsWith("/")&&1===i.split("&").length)return n}return r.forEach((function(t){var r=t.split("="),i=r[0];if(i&&!d.includes(i.split(".")[0])){var o;try{if(o=r[1],!e){var a=decodeURIComponent(o).replace(/\\&/,"&");o="undefined"===a?void 0:l.a.parse(a)}}catch(s){return void console.log("Failed to parse URL parameter value: ".concat(String(o)))}n[i]=o}})),n}();return Object.keys(t).forEach((function(n){var r=n.replace("config.","");switch(r){case"analytics.disabled":e.analytics.disabled=t[n];break;case"startWithAudioMuted":e.startAudioMuted=t[n];break;case"startWithVideoMuted":e.startVideoMuted=t[n];break;case"p2p.enabled":e.p2p.enabled=t[n];break;default:e[r]=t[n]}})),console.log("conferenceConfig",e),e}var p=n(135);function h(e,t,n){var r,c=this.parseJwt(e);this.name=t,this.user=c.context.user,(r=n?Object.assign({},p.c):Object.assign({},p.b)).serviceUrl="".concat(r.serviceUrl,"?room=").concat(t),this.options=r,r.ownerId=c.context.group,this.xmpp=new a.e(r,e),this.token=e,this.isDev=n,this.addEventListener(i.CONNECTION_FAILED,(function(e,t,n,r){o.a.sendAnalyticsAndLog(Object(s.B)(e,t,r))})),this.addEventListener(i.CONNECTION_DISCONNECTED,(function(e){e&&o.a.sendAnalytics(s.m,{message:e}),o.a.sendLog(JSON.stringify({id:s.m,msg:e}))}))}h.prototype.parseJwt=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}},h.prototype.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.b.getItem("xmpp_username_override"),n=c.b.getItem("xmpp_password_override");t&&t.length>0&&(e.id=t),n&&n.length>0&&(e.password=n),this.xmpp.connect(e.id,e.password)},h.prototype.attach=function(e){this.xmpp.attach(e)},h.prototype.disconnect=function(){var e;return(e=this.xmpp).disconnect.apply(e,arguments)},h.prototype.getJid=function(){return this.xmpp.getJid()},h.prototype.setToken=function(e){this.token=e},h.prototype.initJitsiConference=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=f(e=Object.assign(Object.assign({},p.a),e));var t=this.name;return this.isDev&&(e=Object.assign(Object.assign({},e),{hiddenDomain:"recorder.dev.sariska.io"})),e.iAmRecorder&&this.addFeature("http://jitsi.org/protocol/jibri"),new r.a({name:t,config:e,connection:this,user:this.user})},h.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},h.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},h.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},h.prototype.addFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(e,t,!0)},h.prototype.removeFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(e,t,!0)},h.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a}));var r=n(205)},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(13),i=n(1),o=n(0),a=n(15),s=n(22),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,l=e.square,d=void 0!==l&&l,f=e.elevation,p=void 0===f?1:f,h=e.variant,m=void 0===h?"elevation":h,v=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(u,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===m?n.outlined:n["elevation".concat(p)],!d&&n.rounded),ref:t},v))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(c)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(34),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,l=e.classes,d=e.className,f=e.color,p=void 0===f?"initial":f,h=e.component,m=e.display,v=void 0===m?"initial":m,g=e.gutterBottom,y=void 0!==g&&g,_=e.noWrap,b=void 0!==_&&_,E=e.paragraph,S=void 0!==E&&E,C=e.variant,T=void 0===C?"body1":C,O=e.variantMapping,R=void 0===O?u:O,A=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),w=h||(S?"p":R[T]||u[T])||"span";return o.createElement(w,Object(r.a)({className:Object(a.a)(l.root,d,"inherit"!==T&&l[T],"initial"!==p&&l["color".concat(Object(c.a)(p))],b&&l.noWrap,y&&l.gutterBottom,S&&l.paragraph,"inherit"!==s&&l["align".concat(Object(c.a)(s))],"initial"!==v&&l["display".concat(Object(c.a)(v))]),ref:t},A))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";var r=n(1),i=n(30),o=n(13),a=n(0),s=n(301),c=n(68),u=n(60),l=n(86),d=n(38),f={entering:{opacity:1},entered:{opacity:1}},p={enter:c.b.enteringScreen,exit:c.b.leavingScreen},h=a.forwardRef((function(e,t){var n=e.children,c=e.disableStrictModeCompat,h=void 0!==c&&c,m=e.in,v=e.onEnter,g=e.onEntered,y=e.onEntering,_=e.onExit,b=e.onExited,E=e.onExiting,S=e.style,C=e.TransitionComponent,T=void 0===C?s.a:C,O=e.timeout,R=void 0===O?p:O,A=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),w=Object(u.a)(),k=w.unstable_strictMode&&!h,P=a.useRef(null),N=Object(d.a)(n.ref,t),I=Object(d.a)(k?P:void 0,N),D=function(e){return function(t,n){if(e){var r=k?[P.current,t]:[t,n],o=Object(i.a)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},M=D(y),x=D((function(e,t){Object(l.b)(e);var n=Object(l.a)({style:S,timeout:R},{mode:"enter"});e.style.webkitTransition=w.transitions.create("opacity",n),e.style.transition=w.transitions.create("opacity",n),v&&v(e,t)})),L=D(g),j=D(E),F=D((function(e){var t=Object(l.a)({style:S,timeout:R},{mode:"exit"});e.style.webkitTransition=w.transitions.create("opacity",t),e.style.transition=w.transitions.create("opacity",t),_&&_(e)})),U=D(b);return a.createElement(T,Object(r.a)({appear:!0,in:m,nodeRef:k?P:void 0,onEnter:x,onEntered:L,onEntering:M,onExit:F,onExited:U,onExiting:j,timeout:R},A),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||m?void 0:"hidden"},f[e],S,n.props.style),ref:I},t))}))}));t.a=h},function(e,t,n){"use strict";var r=n(54),i=n(64),o=n(0),a=n.n(o),s=n(42),c=n.n(s),u=!1,l=n(136),d="unmounted",f="exited",p="entering",h="entered",m="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=f,r.appearStatus=p):i=h:i=t.unmountOnExit||t.mountOnEnter?d:f,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==h&&(t=p):n!==p&&n!==h||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:h},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:p},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.a.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:f},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:f},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(e,i):a.a.cloneElement(a.a.Children.only(n),i))},t}(a.a.Component);function g(){}v.contextType=l.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},v.UNMOUNTED=d,v.EXITED=f,v.ENTERING=p,v.ENTERED=h,v.EXITING=m;t.a=v},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(177),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+R(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+R(s=e[u],u);c+=A(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=A(s=s.value,t,n,l=r+R(s,u++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function w(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:w,forEach:function(e,t,n){w(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(177),o=n(315);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(h,e)&&(f.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,C=60106,T=60107,O=60108,R=60114,A=60109,w=60110,k=60112,P=60113,N=60120,I=60115,D=60116,M=60121,x=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),C=U("react.portal"),T=U("react.fragment"),O=U("react.strict_mode"),R=U("react.profiler"),A=U("react.provider"),w=U("react.context"),k=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),I=U("react.memo"),D=U("react.lazy"),M=U("react.block"),U("react.scope"),x=U("react.opaque.id"),L=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,H="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function G(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var J=!1;function W(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{J=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function z(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case C:return"Portal";case R:return"Profiler";case O:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case w:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return K(e.type);case M:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ue(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me,ve=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Re=null,Ae=null,we=null;function ke(e){if(e=ni(e)){if("function"!==typeof Re)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Re(e.stateNode,e.type,t))}}function Pe(e){Ae?we?we.push(e):we=[e]:Ae=e}function Ne(){if(Ae){var e=Ae,t=we;if(we=Ae=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var xe=Ie,Le=!1,je=!1;function Fe(){null===Ae&&null===we||(Me(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){Ve=!1}function Be(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Ge=!1,Je=null,We=!1,ze=null,Ke={onError:function(e){Ge=!0,Je=e}};function qe(e,t,n,r,i,o,a,s,c){Ge=!1,Je=null,Be.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if($e(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ct=null,ut=new Map,lt=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),ut.forEach(yt),lt.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function Et(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),ut.forEach(t),lt.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Tt={},Ot={};function Rt(e){if(Tt[e])return Tt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ot)return Tt[e]=n[t];return e}d&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var At=Rt("animationend"),wt=Rt("animationiteration"),kt=Rt("animationstart"),Pt=Rt("transitionend"),Nt=new Map,It=new Map,Dt=["abort","abort",At,"animationEnd",wt,"animationIteration",kt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),It.set(r,t),Nt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var xt=8;function Lt(e){if(0!==(1&e))return xt=15,1;if(0!==(2&e))return xt=14,2;if(0!==(4&e))return xt=13,4;var t=24&e;return 0!==t?(xt=12,t):0!==(32&e)?(xt=11,32):0!==(t=192&e)?(xt=10,t):0!==(256&e)?(xt=9,256):0!==(t=3584&e)?(xt=8,t):0!==(4096&e)?(xt=7,4096):0!==(t=4186112&e)?(xt=6,t):0!==(t=62914560&e)?(xt=5,t):67108864&e?(xt=4,67108864):0!==(134217728&e)?(xt=3,134217728):0!==(t=805306368&e)?(xt=2,t):0!==(1073741824&e)?(xt=1,1073741824):(xt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return xt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=xt=15;else if(0!==(o=134217727&n)){var c=o&~a;0!==c?(r=Lt(c),i=xt):0!==(s&=o)&&(r=Lt(s),i=xt)}else 0!==(o=n&~a)?(r=Lt(o),i=xt):0!==s&&(r=Lt(s),i=xt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=xt)return t;xt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Jt(e)/Wt|0)|0},Jt=Math.log,Wt=Math.LN2;var zt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,qt=!0;function $t(e,t,n,r){Le||Me();var i=Yt,o=Le;Le=!0;try{De(i,e,t,n,r)}finally{(Le=o)||Fe()}}function Xt(e,t,n,r){Kt(zt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&ht(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Mr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Oe(r);if(null!==(i=ti(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,un,ln,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(dn),pn=i({},dn,{view:0,detail:0}),hn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(cn=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=cn=0,ln=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},pn,{relatedTarget:0})),_n=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(bn),Sn=sn(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function An(){return Rn}var wn=i({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(wn),Pn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Dn),xn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Fn=d&&"TextEvent"in window&&!jn,Un=d&&(!Ln||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),Hn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Xn(e){wr(e,0)}function Yn(e){if(Y(ri(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){qn&&(qn.detachEvent("onpropertychange",ir),$n=qn=null)}function ir(e){if("value"===e.propertyName&&Yn($n)){var t=[];if(Kn(t,$n,e,Oe(e)),e=Xn,Le)e(t);else{Le=!0;try{Ie(e,t)}finally{Le=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function sr(e,t){if("click"===e)return Yn(t)}function cr(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,_r=null,br=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&dr(br,r)||(br=r,0<(r=Lr(_r,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Cr.length;Tr++)It.set(Cr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,u){if(qe.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var l=Je;Ge=!1,Je=null,We||(We=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function wr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=c}}}if(We)throw e=ze,We=!1,ze=null,e}function kr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Rr.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Rr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=It.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return xe(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Oe(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var c=fn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":u="focus",c=yn;break;case"focusout":u="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case At:case wt:case kt:c=_n;break;case Pt:c=In;break;case"scroll":c=hn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ue(h,f))&&l.push(xr(h,m,p)))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(d=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=vn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==c?s:ri(c),p=null==u?s:ri(u),(s=new l(m,h+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,ti(i)===r&&((l=new l(f,h+"enter",u,n,i)).target=p,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(f=u,h=0,p=l=c;p;p=jr(p))h++;for(p=0,m=f;m;m=jr(m))p++;for(;0<h-p;)l=jr(l),h--;for(;0<p-h;)f=jr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=jr(l),f=jr(f)}l=null}else l=null;null!==c&&Fr(a,s,c,l,!1),null!==u&&null!==d&&Fr(a,d,u,l,!0)}if("select"===(c=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Qn;else if(zn(s))if(Zn)v=cr;else{v=ar;var g=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Kn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(yr=g,_r=r,br=null);break;case"focusout":br=_r=yr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Jn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Jn=!0)),0<(g=Lr(r,_)).length&&(_=new Sn(_,e,null,n,i),a.push({event:_,listeners:g}),y?_.data=y:null!==(y=Gn(n))&&(_.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}wr(a,t)}))}function xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(xr(e,o,i)),null!=(o=Ue(e,t))&&r.push(xr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Ue(n,o))&&a.unshift(xr(n,c,s)):i||null!=(c=Ue(n,o))&&a.push(xr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Vr=null,Hr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Xr,Qr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Yr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Qr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ci(e){return{current:e}}function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var di={},fi=ci(di),pi=ci(!1),hi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ui(pi),ui(fi)}function yi(e,t,n){if(fi.current!==di)throw Error(a(168));li(fi,t),li(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,hi=fi.current,li(fi,e),li(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(fi),li(fi,e)):ui(pi),li(pi,n)}var Si=null,Ci=null,Ti=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ri=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,wi=o.unstable_requestPaint,ki=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Li={},ji=void 0!==wi?wi:function(){},Fi=null,Ui=null,Vi=!1,Hi=ki(),Bi=1e4>Hi?ki:function(){return ki()-Hi};function Gi(){switch(Pi()){case Ni:return 99;case Ii:return 98;case Di:return 97;case Mi:return 96;case xi:return 95;default:throw Error(a(332))}}function Ji(e){switch(e){case 99:return Ni;case 98:return Ii;case 97:return Di;case 96:return Mi;case 95:return xi;default:throw Error(a(332))}}function Wi(e,t){return e=Ji(e),Ti(e,t)}function zi(e,t,n){return e=Ji(e),Oi(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ri(e)}qi()}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Oi(Ni,Ki),n}finally{Vi=!1}}}var $i=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ci(null),Qi=null,Zi=null,eo=null;function to(){eo=Zi=Qi=null}function no(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Qi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Qi)throw Error(a(308));Zi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,d=l=u=null;;){c=a.lane;var p=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(c=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,c);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(c="function"===typeof(h=m.payload)?h.call(p,f,c):h)||void 0===c)break e;f=i({},f,c);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=p,u=f):d=d.next=p,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=d,Hs|=s,e.lanes=s,e.memoizedState=f}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fc(),i=pc(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),hc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fc(),i=pc(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),hc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fc(),r=pc(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),hc(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function _o(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=vi(t)?hi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=vi(t)?hi:fi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Xc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=qc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=Yc(t,e.mode,n)).return=e,t}if(So(t)||B(t))return(t=qc(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===T?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null}if(So(n)||B(n))return null!==i?null:d(e,t,n,r,null);To(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===T?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,a,s,c){for(var u=null,l=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===l?u=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],c))&&(a=o(d,a,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),u}function v(i,s,c,u){var l=B(c);if("function"!==typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var d=l=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=p(i,m,y.value,u);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===d?l=_:d.sibling=_,d=_,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=h(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"===typeof o&&null!==o&&o.type===T&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag){if(o.type===T){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Co(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===T?((r=qc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Kc(o.type,o.key,o.props,null,e.mode,c)).ref=Co(e,r,o),c.return=e,e=c)}return s(e);case C:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xc(o,e.mode,c)).return=e,e=r),s(e);if(So(o))return m(e,r,o,c);if(B(o))return v(e,r,o,c);if(l&&To(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Ro=Oo(!0),Ao=Oo(!1),wo={},ko=ci(wo),Po=ci(wo),No=ci(wo);function Io(e){if(e===wo)throw Error(a(174));return e}function Do(e,t){switch(li(No,t),li(Po,e),li(ko,wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(ko),li(ko,t)}function Mo(){ui(ko),ui(Po),ui(No)}function xo(e){Io(No.current);var t=Io(ko.current),n=pe(t,e.type);t!==n&&(li(Po,e),li(ko,n))}function Lo(e){Po.current===e&&(ui(ko),ui(Po))}var jo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Vo=null,Ho=!1;function Bo(e,t){var n=Jc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Jo(e){if(Ho){var t=Vo;if(t){var n=t;if(!Go(e,t)){if(!(t=Kr(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Uo=e);Bo(Uo,n)}Uo=e,Vo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function zo(e){if(e!==Uo)return!1;if(!Ho)return Wo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Vo;t;)Bo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Uo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Vo=Uo=null,Ho=!1}var qo=[];function $o(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var Xo=E.ReactCurrentDispatcher,Yo=E.ReactCurrentBatchConfig,Qo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Qo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Ia:Da,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Xo.current=Ma,e=n(r,i)}while(ra)}if(Xo.current=Na,t=null!==ea&&null!==ea.next,Qo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function ca(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ua(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,u=i;do{var l=u.lane;if((Qo&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,Zo.lanes|=l,Hs|=l}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=s,ur(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ur(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,qo.push(t))),e)return n(t._source);throw qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Xo.current,u=c.useState((function(){return fa(i,t,n)})),l=u[1],d=u[0];u=ta;var f=e.memoizedState,p=f.refs,h=p.getSnapshot,m=f.source;f=f.subscribe;var v=Zo;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!ur(s,e)){e=n(t._source),ur(d,e)||(l(e),e=pc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-Gt(a),u=1<<c;r[c]|=e,a&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=pc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(h,n)&&ur(m,t)&&ur(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:d}).dispatch=l=Pa.bind(null,Zo,e),u.queue=e,u.baseQueue=null,d=fa(i,t,n),u.memoizedState=u.baseState=d),d}function ha(e,t,n){return pa(ca(),e,t,n)}function ma(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e}).dispatch=Pa.bind(null,Zo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ca().memoizedState}function _a(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Zo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function Ea(e,t){return _a(516,4,e,t)}function Sa(e,t){return ba(516,4,e,t)}function Ca(e,t){return ba(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ta.bind(null,t,e),n)}function Ra(){}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ka(e,t){var n=Gi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Pa(e,t,n){var r=fc(),i=pc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,ur(c,s))return}catch(u){}hc(e,i,r)}}var Na={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ia={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,Zo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:Ra,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Ea((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=ka.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:x,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,va(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return ma(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Aa,useContext:oo,useEffect:Sa,useImperativeHandle:Oa,useLayoutEffect:Ca,useMemo:wa,useReducer:la,useRef:ya,useState:function(){return la(ua)},useDebugValue:Ra,useDeferredValue:function(e){var t=la(ua),n=t[0],r=t[1];return Sa((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=la(ua)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return la(ua)[0]},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:Aa,useContext:oo,useEffect:Sa,useImperativeHandle:Oa,useLayoutEffect:Ca,useMemo:wa,useReducer:da,useRef:ya,useState:function(){return da(ua)},useDebugValue:Ra,useDeferredValue:function(e){var t=da(ua),n=t[0],r=t[1];return Sa((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=da(ua)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return da(ua)[0]},unstable_isNewReconciler:!1},xa=E.ReactCurrentOwner,La=!1;function ja(e,t,n,r){t.child=null===e?Ao(t,null,n,r):Ro(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=zc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Ga(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sc(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sc(t,e),null;t.memoizedState={baseLanes:0},Sc(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sc(t,r);return ja(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=vi(n)?hi:fi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ja(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=oo(u):u=mi(t,u=vi(n)?hi:fi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&bo(t,a,r,u),ao=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),c=t.memoizedState,s!==r||f!==c||pi.current||ao?("function"===typeof l&&(vo(t,n,l,r),c=t.memoizedState),(s=ao||yo(t,n,s,r,f,c,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Xi(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=oo(c):c=mi(t,c=vi(n)?hi:fi.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==c)&&bo(t,a,r,c),ao=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||pi.current||ao?("function"===typeof p&&(vo(t,n,p,r),h=t.memoizedState),(u=ao||yo(t,n,u,r,f,h,c))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,xa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Do(e,t.containerInfo)}var Ka,qa,$a,Xa,Ya={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(jo,1&o),null===e?(void 0!==i.fallback&&Jo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=$c({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$c(t,i,0,null),n=qc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=zc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zc(a,s),null!==e?r=zc(e,r):(r=qc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return Mo(),ui(pi),ui(fi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),qa(t),null;case 5:Lo(t);var o=Io(No.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Io(ko.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Qr]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)kr(Or[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ce(r,s),kr("invalid",r)}for(var u in Ce(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&kr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=fe(n)),e===de.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Qr]=r,Ka(e,t,!1,!1),t.stateNode=e,u=Te(n,r),n){case"dialog":kr("cancel",e),kr("close",e),o=r;break;case"iframe":case"object":case"embed":kr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)kr(Or[o],e);o=r;break;case"source":kr("error",e),o=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),o=r;break;case"details":kr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),kr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),kr("invalid",e);break;default:o=r}Ce(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?Ee(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"===typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&kr("scroll",e):null!=d&&b(e,s,d,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Io(No.current),Io(ko.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ui(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Hs)&&0===(134217727&Bs)||yc(Ds,xs))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),qa(t),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>zs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=jo.current,li(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Cc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function cs(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),ui(pi),ui(fi),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ui(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(jo),null;case 4:return Mo(),null;case 10:return no(e),null;case 23:case 24:return Cc(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(){},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Io(ko.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in Ce(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==u&&(null!=l||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&kr("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===x?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function ps(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vc(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jc(n,e),Lc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(Ci&&"function"===typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jc(t,n);else{r=t;try{i()}catch(o){Vc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vc(t,o)}break;case 5:ms(t);break;case 4:Os(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Es(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(Es(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Cs(e,n,t):Ts(e,n,t)}function Cs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Os(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(_s(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Ee(n,c):"dangerouslySetInnerHTML"===s?ve(n,c):"children"===s?ge(n,c):b(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Bi(),ys(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ws(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Ps=E.ReactCurrentDispatcher,Ns=E.ReactCurrentOwner,Is=0,Ds=null,Ms=null,xs=0,Ls=0,js=ci(0),Fs=0,Us=null,Vs=0,Hs=0,Bs=0,Gs=0,Js=null,Ws=0,zs=1/0;function Ks(){zs=Bi()+500}var qs,$s=null,Xs=!1,Ys=null,Qs=null,Zs=!1,ec=null,tc=90,nc=[],rc=[],ic=null,oc=0,ac=null,sc=-1,cc=0,uc=0,lc=null,dc=!1;function fc(){return 0!==(48&Is)?Bi():-1!==sc?sc:sc=Bi()}function pc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===cc&&(cc=Vs),0!==$i.transition){0!==uc&&(uc=null!==Js?Js.pendingLanes:0),e=cc;var t=4186112&~uc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Is)&&98===e?e=Ut(12,cc):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cc),e}function hc(e,t,n){if(50<oc)throw oc=0,ac=null,Error(a(185));if(null===(e=mc(e,t)))return null;Bt(e,t,n),e===Ds&&(Bs|=t,4===Fs&&yc(e,xs));var r=Gi();1===t?0!==(8&Is)&&0===(48&Is)?_c(e):(vc(e,n),0===Is&&(Ks(),Ki())):(0===(4&Is)||98!==r&&99!==r||(null===ic?ic=new Set([e]):ic.add(e)),vc(e,n)),Js=e}function mc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Gt(s),u=1<<c,l=o[c];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Lt(u);var d=xt;o[c]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=jt(e,e===Ds?xs:0),t=xt,0===r)null!==n&&(n!==Li&&Ri(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ri(n)}15===t?(n=_c.bind(null,e),null===Fi?(Fi=[n],Ui=Oi(Ni,qi)):Fi.push(n),n=Li):14===t?n=zi(99,_c.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=zi(n,gc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gc(e){if(sc=-1,uc=cc=0,0!==(48&Is))throw Error(a(327));var t=e.callbackNode;if(xc()&&e.callbackNode!==t)return null;var n=jt(e,e===Ds?xs:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=Rc();for(Ds===e&&xs===r||(Ks(),Tc(e,r));;)try{kc();break}catch(c){Oc(e,c)}if(to(),Ps.current=o,Is=i,null!==Ms?r=0:(Ds=null,xs=0,r=Fs),0!==(Vs&Bs))Tc(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ac(e,n))),1===r)throw t=Us,Tc(e,0),yc(e,n),vc(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ic(e);break;case 3:if(yc(e,n),(62914560&n)===n&&10<(r=Ws+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jr(Ic.bind(null,e),r);break}Ic(e);break;case 4:if(yc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Gt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Jr(Ic.bind(null,e),n);break}Ic(e);break;default:throw Error(a(329))}}return vc(e,Bi()),e.callbackNode===t?gc.bind(null,e):null}function yc(e,t){for(t&=~Gs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function _c(e){if(0!==(48&Is))throw Error(a(327));if(xc(),e===Ds&&0!==(e.expiredLanes&xs)){var t=xs,n=Ac(e,t);0!==(Vs&Bs)&&(n=Ac(e,t=jt(e,t)))}else n=Ac(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ac(e,t))),1===n)throw n=Us,Tc(e,0),yc(e,t),vc(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e),vc(e,Bi()),null}function bc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Ks(),Ki())}}function Ec(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Ks(),Ki())}}function Sc(e,t){li(js,Ls),Ls|=t,Vs|=t}function Cc(){Ls=js.current,ui(js)}function Tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ms)for(n=Ms.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Mo(),ui(pi),ui(fi),$o();break;case 5:Lo(r);break;case 4:Mo();break;case 13:case 19:ui(jo);break;case 10:no(r);break;case 23:case 24:Cc()}n=n.return}Ds=e,Ms=zc(e.current,null),xs=Ls=Vs=t,Fs=0,Us=null,Gs=Bs=Hs=0}function Oc(e,t){for(;;){var n=Ms;try{if(to(),Xo.current=Na,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Qo=0,ta=ea=Zo=null,ra=!1,Ns.current=null,null===n||null===n.return){Fs=1,Us=t,Ms=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=xs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&jo.current),f=a;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=f.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=f.updateQueue;if(null===v){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=uo(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}c=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new ds,c=new Set,_.set(u,c)):void 0===(c=_.get(u))&&(c=new Set,_.set(u,c)),!c.has(s)){c.add(s);var b=Hc.bind(null,o,u,s);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),c=us(c,s),f=a;do{switch(f.tag){case 3:o=c,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=c;var E=f.type,S=f.stateNode;if(0===(64&f.flags)&&("function"===typeof E.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Qs||!Qs.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ps(f,o,t));break e}}f=f.return}while(null!==f)}Nc(n)}catch(C){t=C,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function Rc(){var e=Ps.current;return Ps.current=Na,null===e?Na:e}function Ac(e,t){var n=Is;Is|=16;var r=Rc();for(Ds===e&&xs===t||Tc(e,t);;)try{wc();break}catch(i){Oc(e,i)}if(to(),Is=n,Ps.current=r,null!==Ms)throw Error(a(261));return Ds=null,xs=0,Fs}function wc(){for(;null!==Ms;)Pc(Ms)}function kc(){for(;null!==Ms&&!Ai();)Pc(Ms)}function Pc(e){var t=qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Nc(e):Ms=t,Ns.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cs(t)))return n.flags&=2047,void(Ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ic(e){var t=Gi();return Wi(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{xc()}while(null!==ec);if(0!==(48&Is))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var u=31-Gt(o),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,o&=~l}if(null!==ic&&0===(24&r)&&ic.has(e)&&ic.delete(e),e===Ds&&(Ms=Ds=null,xs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Ns.current=null,Vr=qt,vr(s=mr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(R){c=null;break e}var d=0,f=-1,p=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==o&&3!==v.nodeType||(f=d+o),v!==u||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++h===o&&(f=d),g===u&&++m===l&&(p=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===f||-1===p?null:{start:f,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Hr={focusedElem:s,selectionRange:c},qt=!1,lc=null,dc=!1,$s=r;do{try{Mc()}catch(R){if(null===$s)throw Error(a(330));Vc($s,R),$s=$s.nextEffect}}while(null!==$s);lc=null,$s=r;do{try{for(s=e;null!==$s;){var _=$s.flags;if(16&_&&ge($s.stateNode,""),128&_){var b=$s.alternate;if(null!==b){var E=b.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&_){case 2:Ss($s),$s.flags&=-3;break;case 6:Ss($s),$s.flags&=-3,Rs($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Rs($s.alternate,$s);break;case 4:Rs($s.alternate,$s);break;case 8:Os(s,c=$s);var S=c.alternate;bs(c),null!==S&&bs(S)}$s=$s.nextEffect}}catch(R){if(null===$s)throw Error(a(330));Vc($s,R),$s=$s.nextEffect}}while(null!==$s);if(E=Hr,b=mr(),_=E.focusedElem,s=E.selectionRange,b!==_&&_&&_.ownerDocument&&hr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(E=s.end)&&(E=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(E,_.value.length)):(E=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),c=_.textContent.length,S=Math.min(s.start,c),s=void 0===s.end?S:Math.min(s.end,c),!E.extend&&S>s&&(c=s,s=S,S=c),c=pr(_,S),o=pr(_,s),c&&o&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((b=b.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),S>s?(E.addRange(b),E.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),E.addRange(b))))),b=[];for(E=_;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(E=b[_]).element.scrollLeft=E.left,E.element.scrollTop=E.top}qt=!!Vr,Hr=Vr=null,e.current=n,$s=r;do{try{for(_=e;null!==$s;){var C=$s.flags;if(36&C&&gs(_,$s.alternate,$s),128&C){b=void 0;var T=$s.ref;if(null!==T){var O=$s.stateNode;$s.tag,b=O,"function"===typeof T?T(b):T.current=b}}$s=$s.nextEffect}}catch(R){if(null===$s)throw Error(a(330));Vc($s,R),$s=$s.nextEffect}}while(null!==$s);$s=null,ji(),Is=i}else e.current=n;if(Zs)Zs=!1,ec=e,tc=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((C=$s).sibling=null,C.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===ac?oc++:(oc=0,ac=e):oc=0,n=n.stateNode,Ci&&"function"===typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(R){}if(vc(e,Bi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Is)||Ki(),null}function Mc(){for(;null!==$s;){var e=$s.alternate;dc||null===lc||(0!==(8&$s.flags)?Ze($s,lc)&&(dc=!0):13===$s.tag&&ws(e,$s)&&Ze($s,lc)&&(dc=!0));var t=$s.flags;0!==(256&t)&&vs(e,$s),0===(512&t)||Zs||(Zs=!0,zi(97,(function(){return xc(),null}))),$s=$s.nextEffect}}function xc(){if(90!==tc){var e=97<tc?97:tc;return tc=90,Wi(e,Fc)}return!1}function Lc(e,t){nc.push(t,e),Zs||(Zs=!0,zi(97,(function(){return xc(),null})))}function jc(e,t){rc.push(t,e),Zs||(Zs=!0,zi(97,(function(){return xc(),null})))}function Fc(){if(null===ec)return!1;var e=ec;if(ec=null,0!==(48&Is))throw Error(a(331));var t=Is;Is|=32;var n=rc;rc=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Vc(o,u)}}for(n=nc,nc=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(u){if(null===o)throw Error(a(330));Vc(o,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Is=t,Ki(),!0}function Uc(e,t,n){lo(e,t=fs(0,t=us(n,t),1)),t=fc(),null!==(e=mc(e,1))&&(Bt(e,1,t),vc(e,t))}function Vc(e,t){if(3===e.tag)Uc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=ps(n,e=us(t,e),1);if(lo(n,i),i=fc(),null!==(n=mc(n,1)))Bt(n,1,i),vc(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Hc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fc(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(xs&n)===n&&(4===Fs||3===Fs&&(62914560&xs)===xs&&500>Bi()-Ws?Tc(e,0):Gs|=n),vc(e,t)}function Bc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===cc&&(cc=Vs),0===(t=Vt(62914560&~cc))&&(t=4194304))),n=fc(),null!==(e=mc(e,t))&&(Bt(e,t,n),vc(e,n))}function Gc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Jc(e,t,n,r){return new Gc(e,t,n,r)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return qc(n.children,i,o,t);case L:s=8,i|=16;break;case O:s=8,i|=1;break;case R:return(e=Jc(12,n,t,8|i)).elementType=R,e.type=R,e.lanes=o,e;case P:return(e=Jc(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case N:return(e=Jc(19,n,t,i)).elementType=N,e.lanes=o,e;case j:return $c(n,i,o,t);case F:return(e=Jc(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case w:s=9;break e;case k:s=11;break e;case I:s=14;break e;case D:s=16,r=null;break e;case M:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qc(e,t,n,r){return(e=Jc(7,e,r,t)).lanes=n,e}function $c(e,t,n,r){return(e=Jc(23,e,r,t)).elementType=j,e.lanes=n,e}function Xc(e,t,n){return(e=Jc(6,e,null,t)).lanes=n,e}function Yc(e,t,n){return(t=Jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r){var i=t.current,o=fc(),s=pc(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(vi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vi(u)){n=_i(n,u,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),hc(i,s,o),s}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qc(e,t,null!=n&&!0===n.hydrate),t=Jc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=eu(a);s.call(e)}}Zc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=eu(a);c.call(e)}}Ec((function(){Zc(t,a,e,i)}))}return eu(a)}function au(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)La=!0;else{if(0===(n&r)){switch(La=!1,t.tag){case 3:za(t),Ko();break;case 5:xo(t);break;case 1:vi(t.type)&&bi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(li(jo,1&jo.current),null!==(t=os(e,t,n))?t.sibling:null);li(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return os(e,t,n)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===I)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Ja(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ja(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Kr(t.stateNode.containerInfo.firstChild),Uo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],qo.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Ko();t=t.child}return t;case 5:return xo(t),null===e&&Jo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(t.flags|=16),Ba(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Jo(t),null;case 13:return Qa(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(li(Yi,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=ur(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===c.tag&&((l=uo(-1,n&-n)).tag=2,lo(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),ro(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ua(e,t,i,o=Xi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,io(t,n),_o(t,r,i),Eo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},ru.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hc(e,4,fc()),nu(e,4))},tt=function(e){13===e.tag&&(hc(e,67108864,fc()),nu(e,67108864))},nt=function(e){if(13===e.tag){var t=fc(),n=pc(e);hc(e,n,t),nu(e,n)}},rt=function(e,t){return t()},Re=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ie=bc,De=function(e,t,n,r,i){var o=Is;Is|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Ks(),Ki())}},Me=function(){0===(49&Is)&&(function(){if(null!==ic){var e=ic;ic=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vc(e,Bi())}))}Ki()}(),xc())},xe=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Ks(),Ki())}};var su={Events:[ni,ri,ii,Pe,Ne,xc,{current:!1}]},cu={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uu={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Si=lu.inject(uu),Ci=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=au,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(0!==(48&n))return e(t);Is|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Is=n,Ki()}},t.hydrate=function(e,t,n){if(!iu(t))throw Error(a(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!iu(t))throw Error(a(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(a(40));return!!e._reactRootContainer&&(Ec((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bc,t.unstable_createPortal=function(e,t){return au(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ou(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(316)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,d=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(f,0))},i=function(e,t){d=setTimeout(e,t)},o=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,_=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+_;try{g(!0,e)?S.postMessage(null):(v=!1,g=null)}catch(n){throw S.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,S.postMessage(null))},i=function(e,n){y=p((function(){e(t.unstable_now())}),n)},o=function(){h(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<R(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>R(a,n))void 0!==c&&0>R(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>R(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function R(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],w=[],k=1,P=null,N=3,I=!1,D=!1,M=!1;function x(e){for(var t=T(w);null!==t;){if(null===t.callback)O(w);else{if(!(t.startTime<=e))break;O(w),t.sortIndex=t.expirationTime,C(A,t)}t=T(w)}}function L(e){if(M=!1,x(e),!D)if(null!==T(A))D=!0,r(j);else{var t=T(w);null!==t&&i(L,t.startTime-e)}}function j(e,n){D=!1,M&&(M=!1,o()),I=!0;var r=N;try{for(x(n),P=T(A);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,N=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===T(A)&&O(A),x(n)}else O(A);P=T(A)}if(null!==P)var c=!0;else{var u=T(w);null!==u&&i(L,u.startTime-n),c=!1}return c}finally{P=null,N=r,I=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||I||(D=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:k++,callback:n,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,C(w,e),null===T(A)&&e===T(w)&&(M?o():M=!0,i(L,a-s))):(e.sortIndex=c,C(A,e),D||I||(D=!0,r(j))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,,function(e,t,n){"use strict";(function(e){var t=n(14);!function(e){"undefined"===typeof e.$&&(e.$=t.a)}(e||window||void 0)}).call(this,n(103))},function(e,t,n){var r=n(198);function i(e,t){this.logStorage=e,this.stringifyObjects=!(!t||!t.stringifyObjects)&&t.stringifyObjects,this.storeInterval=t&&t.storeInterval?t.storeInterval:3e4,this.maxEntryLength=t&&t.maxEntryLength?t.maxEntryLength:1e4,Object.keys(r.levels).forEach(function(e){this[r.levels[e]]=function(){this._log.apply(this,arguments)}.bind(this,e)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}i.prototype.stringify=function(e){try{return JSON.stringify(e)}catch(t){return"[object with circular refs?]"}},i.prototype.formatLogMessage=function(e){for(var t="",n=1,i=arguments.length;n<i;n++){var o=arguments[n];!this.stringifyObjects&&e!==r.levels.ERROR||"object"!==typeof o||(o=this.stringify(o)),t+=o,n!==i-1&&(t+=" ")}return t.length?t:null},i.prototype._log=function(){var e=arguments[1],t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue[this.queue.length-1];(n&&n.text)===t?n.count+=1:(this.queue.push({text:t,timestamp:e,count:1}),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},i.prototype.start=function(){this._reschedulePublishInterval()},i.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},i.prototype.flush=function(){this._flush(!1,!0)},i.prototype._flush=function(e,t){this.totalLen>0&&(this.logStorage.isReady()||e)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(e){this.logStorage.storeLogs(e)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),t&&this._reschedulePublishInterval()},i.prototype.stop=function(){this._flush(!1,!1)},e.exports=i},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r,i,o;this||window,i=[],void 0===(o="function"===typeof(r=function(){var e=/^(interactive|loaded|complete)$/,t=window.location?window.location.href:null,n=t&&t.replace(/#.*$/,"").replace(/\?.*$/,"")||null,r=document.getElementsByTagName("script"),i="readyState"in(r[0]||document.createElement("script")),o=!window.opera||"[object Opera]"!==window.opera.toString(),a="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var s=!1,c=!1;function u(e){return e?e.replace(/^\s+$|\s+$/g,"").replace(/\s\s+/g," "):""}function l(e,t){var n,i=null;if(t=t||r,"string"===typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){i=t[n];break}return i}function d(e,t){var n,i=null,o=u(e);if(t=t||r,e&&o)for(n=t.length;n--;)if(!t[n].hasAttribute("src")&&-1!==u(t[n].text).indexOf(o)){if(i){i=null;break}i=t[n]}return i}function f(e){var t,n,i=null;for(t=0,n=(e=e||r).length;t<n;t++)if(!e[t].hasAttribute("src")){if(i){i=null;break}i=e[t]}return i}function p(e,t){var n,r=null,i="number"===typeof t;return t=i?Math.round(t):0,"string"===typeof e&&e&&(i?n=e.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(n=e.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&n[1]||(n=e.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),n&&n[1]&&(r=t>0?p(e.slice(e.indexOf(n[0])+n[0].length),t-1):n[1])),r}function h(){return null}function m(){return null}function v(){if(0===r.length)return null;var t,u,h,m,g,y=[],_=v.skipStackDepth||1,b=null;for(t=0;t<r.length;t++)o&&i?e.test(r[t].readyState)&&y.push(r[t]):y.push(r[t]);if(u=new Error,s&&(h=u.stack),!h&&c)try{throw u}catch(E){h=E.stack}if(h&&!(g=l(m=p(h,_),y))&&n&&m===n&&(g=b?d(b,y):f(y)),g||1===y.length&&(g=y[0]),g||a&&(g=document.currentScript),!g&&o&&i)for(t=y.length;t--;)if("interactive"===y[t].readyState){g=y[t];break}return g||(g=y[y.length-1]||null),g}(function(){try{var e=new Error;throw s="string"===typeof e.stack&&!!e.stack,e}catch(t){c="string"===typeof t.stack&&!!t.stack}})(),v.skipStackDepth=1;var g=v;return g.near=v,g.far=h,g.origin=m,g})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_JID",(function(){return r}));var r="local"},function(e,t,n){!function(e){"use strict";e.Strophe.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.Strophe.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.Strophe.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,r){for(var i=0;i<this._identities.length;i++)if(this._identities[i].category==e&&this._identities[i].type==t&&this._identities[i].name==n&&this._identities[i].lang==r)return!1;return this._identities.push({category:e,type:t,name:n,lang:r}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,r){return!(n&&!r)&&(this._items.push({jid:e,name:t,node:n,call_back:r}),!0)},info:function(t,n,r,i,o){var a={xmlns:e.Strophe.NS.DISCO_INFO};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,r,i,o)},items:function(t,n,r,i,o){var a={xmlns:e.Strophe.NS.DISCO_ITEMS};n&&(a.node=n);var s=e.$iq({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(s,r,i,o)},_buildIQResult:function(t,n){var r=t.getAttribute("id"),i=t.getAttribute("from"),o=e.$iq({type:"result",id:r});return null!==i&&o.attrs({to:i}),o.c("query",n)},_onDiscoInfo:function(t){var n,r=t.getElementsByTagName("query")[0].getAttribute("node"),i={xmlns:e.Strophe.NS.DISCO_INFO};r&&(i.node=r);var o=this._buildIQResult(t,i);for(n=0;n<this._identities.length;n++)i={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(i.name=this._identities[n].name),this._identities[n].lang&&(i["xml:lang"]=this._identities[n].lang),o.c("identity",i).up();for(n=0;n<this._features.length;n++)o.c("feature",{var:this._features[n]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var n,r,i={xmlns:e.Strophe.NS.DISCO_ITEMS},o=t.getElementsByTagName("query")[0].getAttribute("node");if(o){for(i.node=o,n=[],r=0;r<this._items.length;r++)if(this._items[r].node==o){n=this._items[r].call_back(t);break}}else n=this._items;var a=this._buildIQResult(t,i);for(r=0;r<n.length;r++){var s={jid:n[r].jid};n[r].name&&(s.name=n[r].name),n[r].node&&(s.node=n[r].node),a.c("item",s).up()}return this._connection.send(a.tree()),!0}})}(n(7))},function(e,t,n){var r=n(200).default;!function(e){"use strict";e.Strophe.addConnectionPlugin("streamManagement",{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(e){this._acknowledgedStanzaListeners.push(e)},enable:function(t){if(!this._isSupported)throw new Error("The server doesn't support urn:xmpp:sm:3 namespace");if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("enable() can only be called in the CONNECTED state");this._c.send(e.$build("enable",{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error("No resume token");if(this._connectionStatus!==e.Strophe.Status.DISCONNECTED)throw new Error("resume() can only be called in the DISCONNECTED state");this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){if(this._connectionStatus!==e.Strophe.Status.CONNECTED)throw new Error("requestAcknowledgement() can only be called in the CONNECTED state");this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&e.Strophe.debug("SM stored resume state, handler count: "+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(e){return this._isSupported=e.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this._connectionStatus=t,this.getResumeToken()||t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED)if(t===e.Strophe.Status.BINDREQUIRED){for(var n in this._c.jid=this._storedJid,this._resumeState)this._c[n]=this._resumeState[n];this._c.send(e.$build("resume",{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===e.Strophe.Status.ERROR&&(this.logging&&e.Strophe.debug("SM cleared resume token on error"),this._resumeToken=void 0);else this.logging&&e.Strophe.debug("SM reset state"),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===e.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,"a"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,"enabled"),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,"failed"),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,"resumed")},xmlOutput:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(e){return this._isStreamManagementEnabled=!0,this._resumeToken="true"===e.getAttribute("resume")&&e.getAttribute("id"),this._c.resume(),!0},_handleResumeFailed:function(t){var n=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(e.Strophe.Status.ERROR,n,t),this._c._doDisconnect(),!0},_handleResumed:function(t){var n=parseInt(t.getAttribute("h"));if(this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&e.Strophe.debug("SM Sending unacknowledged stanzas",this._unacknowledgedStanzas);var i,o=r(this._unacknowledgedStanzas);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._c.send(a)}}catch(s){o.e(s)}finally{o.f()}}else this.logging&&e.Strophe.debug("SM No unacknowledged stanzas",this._unacknowledgedStanzas);return this._c._changeConnectStatus(e.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,n){var r=t-n;r<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+n),r>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+r+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+n);for(var i=0;i<r;i++)for(var o=this._unacknowledgedStanzas.shift(),a=0;a<this._acknowledgedStanzaListeners.length;a++)this._acknowledgedStanzaListeners[a](o);this.logging&&this._unacknowledgedStanzas.length>0&&e.Strophe.warn("SM Unacknowledged stanzas",this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(e){var t=parseInt(e.getAttribute("h"));return this._handleAcknowledgedStanzas(t,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){var n=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout((function(){n._connectionStatus===e.Strophe.Status.CONNECTED&&n.requestAcknowledgement()}),1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw e.Strophe.error(t),new Error(t)}})}(n(7))},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(203),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var c=o[t][s];if(c.reg.test(a))return i(c,r,a)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length&&(e[n[0]]=r(n[1])),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},function(e,t,n){var r=n(203),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||c,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))})),e.media.forEach((function(e){o.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(204),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var c=o[t][s];if(c.reg.test(a))return i(c,r,a)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},function(e,t,n){var r=n(204),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||c,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))})),e.media.forEach((function(e){o.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},function(e,t,n){var r=n(45),i=n(331),o=i.parseSsrcs,a=i.writeSsrcs;function s(e,t,n){return e.ssrcs.filter((function(e){return e.id===t})).filter((function(e){return e.attribute===n})).map((function(e){return e.value}))[0]}function c(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=3),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function u(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach((function(e){"video"===e.type&&t(e)}))}function l(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp}c.prototype.clearSsrcCache=function(){this.ssrcCache=[]},c.prototype.setSsrcCache=function(e){this.ssrcCache=e},c.prototype._parseSimLayers=function(e){var t=e.ssrcGroups&&e.ssrcGroups.find((function(e){return"SIM"===e.semantics}));return t?t.ssrcs.split(" ").map((function(e){return parseInt(e)})):[e.ssrcs[0].id]},c.prototype._buildNewToOldSsrcMap=function(e,t){for(var n={},r=0;r<e.length;++r){var i=e[r],o=t[r]||null;n[i]=o}return n},c.prototype._fillInSourceDataFromCache=function(e){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(e);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=s(e,t[0],"msid"),r=s(e,t[0],"cname"),i=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",i);var o=this.ssrcCache.filter((function(e){return-1===Object.values(i).indexOf(e)}));return console.log("SdpSimulcast built ssrcs to add: ",o),e.ssrcs.forEach((function(e){i[e.id]&&(e.id=i[e.id])})),o.forEach((function(t){e.ssrcs.push({id:t,attribute:"msid",value:n}),e.ssrcs.push({id:t,attribute:"cname",value:r})})),e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),e},c.prototype._generateSourceData=function(e,t){var n=function(e,t){e.ssrcs.push({id:t,attribute:"cname",value:i}),e.ssrcs.push({id:t,attribute:"msid",value:r})},r=s(e,t,"msid"),i=s(e,t,"cname");this.options.usesUnifiedPlan&&!r&&(r=e.msid,e.ssrcs.forEach((function(t){e.ssrcs.push({id:t.id,attribute:"msid",value:r})})));for(var o=[],a=0;a<this.options.numOfLayers-1;++a){var c=Math.floor(4294967295*Math.random())+0;n(e,c),o.push(c)}return e.ssrcGroups=e.ssrcGroups||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+o.join(" ")}),e},c.prototype._restoreSimulcast=function(e){var t,n=e.ssrcs&&e.ssrcs.map((function(e){return e.id})).filter((function(e,t,n){return n.indexOf(e)===t})).length||0,r=e.ssrcGroups&&e.ssrcGroups.length||0;if(0===n||n>2)return e;if(2==n&&0===r)return e;if(1===n)t=e.ssrcs[0].id;else{var i=e.ssrcGroups.filter((function(e){return"FID"===e.semantics}))[0];if(!i)return e;t=parseInt(i.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),e=this._fillInSourceDataFromCache(e)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),e=this._generateSourceData(e,t)),this.ssrcCache=this._parseSimLayers(e),e},c.prototype.mungeRemoteDescription=function(e,t){if(!l(e))return e;var n=r.parse(e.sdp),i=this;return u(n,(function(e){i.options.explodeRemoteSimulcast?function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=o(e),n=[],r=e.ssrcGroups.length;r--;)if("SIM"===e.ssrcGroups[r].semantics){for(var i=e.ssrcGroups[r].ssrcs.split(" "),s=0;s<i.length;s++){var c=i[s];n.push(c);var u=t[c].msid.split(" ");t[c].msid=[u[0],"/",s," ",u[1],"/",s].join(""),t[c].cname=[t[c].cname,"/",s].join(""),e.ssrcGroups.forEach((function(e){if("SIM"!==e.semantics){var r=e.ssrcs.split(" ");-1!==r.indexOf(c)&&r.forEach((function(e){t[e].msid=t[c].msid,t[e].cname=t[c].cname,e!==c&&n.push(e)}))}}))}e.ssrcs=a(t,n),e.ssrcGroups.splice(r,1)}}(e):function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=o(e);e.ssrcGroups.forEach((function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var r=n.ssrcs.split(" "),i=1;i<r.length;i++){var o=r[i];delete t[o],e.ssrcGroups.forEach((function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(o)&&(n.forEach((function(e){delete t[e]})),e.nuke=!0)}}))}}})),e.ssrcs=a(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info("Halt: There are no SSRC groups in the remote description.")}(e),!i.options.usesUnifiedPlan&&t?function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some((function(e){return"x-google-flag:conference"===e.value}))||e.invalid.push({value:"x-google-flag:conference"}))}(e):function(e){e&&"undefined"!==typeof e.xGoogleFlag&&(e.xGoogleFlag=void 0)}(e)})),new RTCSessionDescription({type:e.type,sdp:r.write(n)})},c.prototype.mungeLocalDescription=function(e){if(!l(e))return e;var t=r.parse(e.sdp),n=this;return u(t,(function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&n._restoreSimulcast(e)})),new RTCSessionDescription({type:e.type,sdp:r.write(t)})},e.exports=c},function(e,t){t.writeSsrcs=function(e,t){var n=[];if("undefined"!==typeof e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var r=0;r<t.length;r++){var i=t[r],o=e[i];Object.keys(o).forEach((function(e){n.push({id:i,attribute:e,value:o[e]})}))}Object.keys(e).forEach((function(r){if(r=parseInt(r),!(t.indexOf(r)>=0)){var i=e[r];Object.keys(i).forEach((function(e){n.push({id:r,attribute:e,value:i[e]})}))}}))}return n},t.parseSsrcs=function(e){var t={};return"undefined"!==typeof e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value})),t}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(334);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(178).default,i=n(335);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(178).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(337),i=n(338),o=n(201),a=n(339);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(202);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e,t){if(!o)return!1;var n=e.buffer,r=p.get(n);if(null==r){if((r=i.validate(n))&&t)try{new i.Instance(new i.Module(n)).exports[0]()}catch(e){r=!1}p.set(n,r)}return r}var i=this.WebAssembly||globalThis.WebAssembly,o="object"==typeof i,a=function(e){return void 0!==e},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint8Array.of.apply(Uint8Array,[0,97,115,109,1,0,0,0].concat(t))},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint32Array.of.apply(Uint32Array,[1836278016,1].concat(t))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[1610679297,33751040].concat(t,[40239360,259]))},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(void 0,[1,4,1,96,0,0,3,2,1,0].concat(t,[11,0,10,4,110,97,109,101,2,3,1,0,0]))},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Uint16Array.of.apply(Uint16Array,[24832,28019,1,0,1025,24577,0,515,1].concat(t))},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,t.concat([2842,4096,28164,28001,357,260,256,560,259,0]))},p=new WeakMap,h=c(1610679553,58589440,117440770,805372165,101318656,1107297281,268438272,1835101700,17039717,36700416,259),m=s(5,3,1,4,1,0,8,4,110,97,109,101,2,1,0),v=d(773,1,2561,269,11,65,65,65,3068,2816,2560,28164,28001,613,259,0),g=c(1610679297,33751040,134873089,100664833,185276736),y=s(2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1,0,8,4,110,97,109,101,2,1,0),_=Uint16Array.of(24832,28019,1,0,1537,24577,512,32639,515,1,2058,1537,16640,16640,2816,2560,28164,28001,613,259,0),b=f(3082,2561,17152,0,0,252),E=f(2058,1537,16640,49152),S=u(101318657,301990913,268438272,1835101700,17039717),C=l(5,4,1,3,1,1,10,7,1,5,0,254,3,0),T=u(84344833,6357249,17369600,4259847,186257917,1845758464),O=l(10,7,1,5,0,208,112,26);e.exports={support:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o&&r(Uint32Array.of(1836278016,e))},get supportStreaming(){return o&&a(i.instantiateStreaming)},feature:{get bigInt(){return r(h,!0)},get bulk(){return r(v)},get exceptions(){return r(g)},get memory64(){return r(m)},get mutableGlobal(){return r(y)},get multiValue(){return r(_)},get saturateConversions(){return r(b)},get signExtensions(){return r(E)},get tailCall(){return r(S)},get threads(){return r(C)},get simd(){return r(T)},get references(){return r(O)},get typeReflection(){return o&&a(i.Memory.type)},get funcReferences(){return o&&a(i.Function)}}}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(343)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case v:case u:return e;default:return t}}case o:return t}}}function C(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return C(e)||S(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===E||e.$$typeof===y)},t.typeOf=S},function(e,t,n){"use strict";e.exports=n(345)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case v:case u:return e;default:return t}}case o:return t}}}function C(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return C(e)||S(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===s||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===E||e.$$typeof===y)},t.typeOf=S},function(e,t,n){"use strict";var r=n(347);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,c=60109,u=60110,l=60112,d=60113,f=60120,p=60115,h=60116,m=60121,v=60122,g=60117,y=60129,_=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),i=b("react.portal"),o=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),c=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),d=b("react.suspense"),f=b("react.suspense_list"),p=b("react.memo"),h=b("react.lazy"),m=b("react.block"),v=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),_=b("react.legacy_hidden")}function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case p:case c:return e;default:return t}}case i:return t}}}var S=c,C=r,T=l,O=o,R=h,A=p,w=i,k=s,P=a,N=d;t.ContextConsumer=u,t.ContextProvider=S,t.Element=C,t.ForwardRef=T,t.Fragment=O,t.Lazy=R,t.Memo=A,t.Portal=w,t.Profiler=k,t.StrictMode=P,t.Suspense=N,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===l},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===h},t.isMemo=function(e){return E(e)===p},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===y||e===a||e===d||e===f||e===_||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===c||e.$$typeof===u||e.$$typeof===l||e.$$typeof===g||e.$$typeof===m||e[0]===v)},t.typeOf=E},function(e,t,n){"use strict";n(177);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},function(e,t){function n(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}e.exports=n,e.exports.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFSA=a,t.isError=function(e){return a(e)&&!0===e.error};var r=o(n(352)),i=o(n(353));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,r.default)(e)&&(0,i.default)(e.type)&&Object.keys(e).every(s)}function s(e){return["type","payload","error","meta"].indexOf(e)>-1}},function(e,t){var n,r,i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,c=a.call(Object),u=o.toString,l=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},,function(e,t,n){"use strict";var r=n(14);var i=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},o=n(63),a=o.a.documentElement,s=n(109),c=n(69),u=c.a.pop,l=n(87),d="[\\x20\\t\\r\\n\\f]",f=o.a.documentMode,p=f&&new RegExp(":enabled|:disabled|\\["+d+"*name"+d+"*="+d+"*(?:''|\"\")");r.a.contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))};var h=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function m(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}r.a.escapeSelector=function(e){return(e+"").replace(h,m)};var v,g=c.a.sort;function y(e,t){if(e===t)return v=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)?e==o.a||e.ownerDocument==o.a&&r.a.contains(o.a,e)?-1:t==o.a||t.ownerDocument==o.a&&r.a.contains(o.a,t)?1:0:4&n?-1:1)}r.a.uniqueSort=function(e){var t,n=[],r=0,i=0;if(v=!1,g.call(e,y),v){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e};var _=o.a,b=a.matches||a.msMatchesSelector;!function(){var e,t,n,o,a,c,h=r.a.expando,m=0,v=0,g=J(),y=J(),E=J(),S=J(),C="(?:\\\\[\\da-fA-F]{1,6}"+d+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",T="\\["+d+"*("+C+")(?:"+d+"*([*^$|!~]?=)"+d+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+C+"))|)"+d+"*\\]",O=":("+C+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+T+")*)|.*)\\)|)",R=new RegExp(d+"+","g"),A=new RegExp("^"+d+"+|((?:^|[^\\\\])(?:\\\\.)*)"+d+"+$","g"),w=new RegExp("^"+d+"*,"+d+"*"),k=new RegExp("^"+d+"*([>+~]|"+d+")"+d+"*"),P=new RegExp(d+"|>"),N=new RegExp(O),I=new RegExp("^"+C+"$"),D={ID:new RegExp("^#("+C+")"),CLASS:new RegExp("^\\.("+C+")"),TAG:new RegExp("^("+C+"|[*])"),ATTR:new RegExp("^"+T),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+d+"*(even|odd|(([+-]|)(\\d*)n|)"+d+"*(?:([+-]|)"+d+"*(\\d+)|))"+d+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+d+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+d+"*((?:-\\d)?\\d*)"+d+"*\\)|)(?=[^-]|$)","i")},M=/^(?:input|select|textarea|button)$/i,x=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,j=/[+~]/,F=new RegExp("\\\\[\\da-fA-F]{1,6}"+d+"?|\\\\([^\\r\\n\\f])","g"),U=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},V=function(){Y()},H=te((function(e){return!0===e.disabled&&i(e,"fieldset")}),{dir:"parentNode",next:"legend"});function B(e){throw new Error("Syntax error, unrecognized expression: "+e)}function G(e,n,i,a){var s,u,d,m,v,g,y,_=n&&n.ownerDocument,b=n?n.nodeType:9;if(i=i||[],"string"!==typeof e||!e||1!==b&&9!==b&&11!==b)return i;if(!a&&(Y(n),n=n||o,c)){if(11!==b&&(v=L.exec(e)))if(s=v[1]){if(9===b)return(d=n.getElementById(s))&&l.a.call(i,d),i;if(_&&(d=_.getElementById(s))&&r.a.contains(n,d))return l.a.call(i,d),i}else{if(v[2])return l.a.apply(i,n.getElementsByTagName(e)),i;if((s=v[3])&&n.getElementsByClassName)return l.a.apply(i,n.getElementsByClassName(s)),i}if(!S[e+" "]&&(!p||!p.test(e))){if(y=e,_=n,1===b&&(P.test(e)||k.test(e))){for(((_=j.test(e)&&X(n.parentNode)||n)!==n||f)&&((m=n.getAttribute("id"))?m=r.a.escapeSelector(m):n.setAttribute("id",m=h)),u=(g=Z(e)).length;u--;)g[u]=(m?"#"+m:":scope")+" "+ee(g[u]);y=g.join(",")}try{return l.a.apply(i,_.querySelectorAll(y)),i}catch(E){S(e,!0)}finally{m===h&&n.removeAttribute("id")}}}return function(e,n,r,i){var o,a,s,u,d,f="function"===typeof e&&e,p=!i&&Z(e=f.selector||e);if(r=r||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&c&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(F,U),n)||[])[0]))return r;f&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=D.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[u=s.type]);)if((d=t.find[u])&&(i=d(s.matches[0].replace(F,U),j.test(a[0].type)&&X(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&ee(a)))return l.a.apply(r,i),r;break}}return(f||ae(e,p))(i,n,!c,r,!n||j.test(e)&&X(n.parentNode)||n),r}(e.replace(A,"$1"),n,i,a)}function J(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function W(e){return e[h]=!0,e}function z(e){return function(t){return i(t,"input")&&t.type===e}}function K(e){return function(t){return(i(t,"input")||i(t,"button"))&&t.type===e}}function q(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&H(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function $(e){return W((function(t){return t=+t,W((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function X(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function Y(e){var t,n=e?e.ownerDocument||e:_;n!=o&&9===n.nodeType&&(a=(o=n).documentElement,c=!r.a.isXMLDoc(o),f&&_!=o&&(t=o.defaultView)&&t.top!==t&&t.addEventListener("unload",V))}for(e in G.matches=function(e,t){return G(e,null,null,t)},G.matchesSelector=function(e,t){if(Y(e),c&&!S[t+" "]&&(!p||!p.test(t)))try{return b.call(e,t)}catch(n){S(t,!0)}return G(t,o,null,[e]).length>0},t=r.a.expr={cacheLength:50,createPseudo:W,match:D,find:{ID:function(e,t){if("undefined"!==typeof t.getElementById&&c){var n=t.getElementById(e);return n?[n]:[]}},TAG:function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},CLASS:function(e,t){if("undefined"!==typeof t.getElementsByClassName&&c)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(F,U),e[3]=(e[3]||e[4]||e[5]||"").replace(F,U),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||B(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&B(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&N.test(n)&&(t=Z(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{ID:function(e){var t=e.replace(F,U);return function(e){return e.getAttribute("id")===t}},TAG:function(e){var t=e.replace(F,U).toLowerCase();return"*"===e?function(){return!0}:function(e){return i(e,t)}},CLASS:function(e){var t=g[e+" "];return t||(t=new RegExp("(^|"+d+")"+e+"("+d+"|$)"))&&g(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=r.a.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(R," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),c="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,d,f,p,v,g=a!==s?"nextSibling":"previousSibling",y=t.parentNode,_=c&&t.nodeName.toLowerCase(),b=!u&&!c,E=!1;if(y){if(a){for(;g;){for(f=t;f=f[g];)if(c?i(f,_):1===f.nodeType)return!1;v=g="only"===e&&!v&&"nextSibling"}return!0}if(v=[s?y.firstChild:y.lastChild],s&&b){for(E=(p=(l=(d=y[h]||(y[h]={}))[e]||[])[0]===m&&l[1])&&l[2],f=p&&y.childNodes[p];f=++p&&f&&f[g]||(E=p=0)||v.pop();)if(1===f.nodeType&&++E&&f===t){d[e]=[m,p,E];break}}else if(b&&(E=p=(l=(d=t[h]||(t[h]={}))[e]||[])[0]===m&&l[1]),!1===E)for(;(f=++p&&f&&f[g]||(E=p=0)||v.pop())&&(!(c?i(f,_):1===f.nodeType)||!++E||(b&&((d=f[h]||(f[h]={}))[e]=[m,E]),f!==t)););return(E-=o)===r||E%r===0&&E/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||B("unsupported pseudo: "+e);return i[h]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?W((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=s.a.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:W((function(e){var t=[],n=[],r=ae(e.replace(A,"$1"));return r[h]?W((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:W((function(e){return function(t){return G(e,t).length>0}})),contains:W((function(e){return e=e.replace(F,U),function(t){return(t.textContent||r.a.text(t)).indexOf(e)>-1}})),lang:W((function(e){return I.test(e||"")||B("unsupported lang: "+e),e=e.replace(F,U).toLowerCase(),function(t){var n;do{if(n=c?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===o.activeElement&&o.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:q(!1),disabled:q(!0),checked:function(e){return i(e,"input")&&!!e.checked||i(e,"option")&&!!e.selected},selected:function(e){return f&&e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return x.test(e.nodeName)},input:function(e){return M.test(e.nodeName)},button:function(e){return i(e,"input")&&"button"===e.type||i(e,"button")},text:function(e){return i(e,"input")&&"text"===e.type},first:$((function(){return[0]})),last:$((function(e,t){return[t-1]})),eq:$((function(e,t,n){return[n<0?n+t:n]})),even:$((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:$((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:$((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:$((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=z(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=K(e);function Q(){}function Z(e,n){var r,i,o,a,s,c,u,l=y[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=t.preFilter;s;){for(a in r&&!(i=w.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=k.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(A," ")}),s=s.slice(r.length)),t.filter)!(i=D[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?B(e):y(e,c).slice(0)}function ee(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function te(e,t,n){var r=t.dir,o=t.next,a=o||r,s=n&&"parentNode"===a,c=v++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,u){var l,d,f=[m,c];if(u){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(d=t[h]||(t[h]={}),o&&i(t,o))t=t[r]||t;else{if((l=d[a])&&l[0]===m&&l[1]===c)return f[2]=l[2];if(d[a]=f,f[2]=e(t,n,u))return!0}return!1}}function ne(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function re(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function ie(e,t,n,r,i,o){return r&&!r[h]&&(r=ie(r)),i&&!i[h]&&(i=ie(i,o)),W((function(o,a,c,u){var d,f,p,h,m=[],v=[],g=a.length,y=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)G(e,t[r],n);return n}(t||"*",c.nodeType?[c]:c,[]),_=!e||!o&&t?y:re(y,m,e,c,u);if(n?n(_,h=i||(o?e:g||r)?[]:a,c,u):h=_,r)for(d=re(h,v),r(d,[],c,u),f=d.length;f--;)(p=d[f])&&(h[v[f]]=!(_[v[f]]=p));if(o){if(i||e){if(i){for(d=[],f=h.length;f--;)(p=h[f])&&d.push(_[f]=p);i(null,h=[],d,u)}for(f=h.length;f--;)(p=h[f])&&(d=i?s.a.call(o,p):m[f])>-1&&(o[d]=!(a[d]=p))}}else h=re(h===a?h.splice(g,h.length):h),i?i(null,a,h,u):l.a.apply(a,h)}))}function oe(e){for(var r,i,o,a=e.length,c=t.relative[e[0].type],u=c||t.relative[" "],l=c?1:0,d=te((function(e){return e===r}),u,!0),f=te((function(e){return s.a.call(r,e)>-1}),u,!0),p=[function(e,t,i){var o=!c&&(i||t!==n)||((r=t).nodeType?d(e,t,i):f(e,t,i));return r=null,o}];l<a;l++)if(i=t.relative[e[l].type])p=[te(ne(p),i)];else{if((i=t.filter[e[l].type].apply(null,e[l].matches))[h]){for(o=++l;o<a&&!t.relative[e[o].type];o++);return ie(l>1&&ne(p),l>1&&ee(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(A,"$1"),i,l<o&&oe(e.slice(l,o)),o<a&&oe(e=e.slice(o)),o<a&&ee(e))}p.push(i)}return ne(p)}function ae(e,i){var a,s=[],d=[],f=E[e+" "];if(!f){for(i||(i=Z(e)),a=i.length;a--;)(f=oe(i[a]))[h]?s.push(f):d.push(f);f=E(e,function(e,i){var a=i.length>0,s=e.length>0,d=function(d,f,p,h,v){var g,y,_,b=0,E="0",S=d&&[],C=[],T=n,O=d||s&&t.find.TAG("*",v),R=m+=null==T?1:Math.random()||.1;for(v&&(n=f==o||f||v);null!=(g=O[E]);E++){if(s&&g){for(y=0,f||g.ownerDocument==o||(Y(g),p=!c);_=e[y++];)if(_(g,f||o,p)){l.a.call(h,g);break}v&&(m=R)}a&&((g=!_&&g)&&b--,d&&S.push(g))}if(b+=E,a&&E!==b){for(y=0;_=i[y++];)_(S,C,f,p);if(d){if(b>0)for(;E--;)S[E]||C[E]||(C[E]=u.call(h));C=re(C)}l.a.apply(h,C),v&&!d&&C.length>0&&b+i.length>1&&r.a.uniqueSort(h)}return v&&(m=R,n=T),S};return a?W(d):d}(d,s)),f.selector=e}return f}Q.prototype=t.filters=t.pseudos,t.setFilters=new Q,Y(),r.a.find=G}();var E=n(152),S=function e(t,n,i,o,a,s,c){var u=0,l=t.length,d=null==i;if("object"===Object(E.a)(i))for(u in a=!0,i)e(t,n,u,i[u],!0,s,c);else if(void 0!==o&&(a=!0,"function"!==typeof o&&(c=!0),d&&(c?(n.call(t,o),n=null):(d=n,n=function(e,t,n){return d.call(Object(r.a)(e),n)})),n))for(;u<l;u++)n(t[u],i,c?o:o.call(t[u],u,n(t[u],i)));return a?t:d?n.call(t):l?n(t[0],i):s},C=/[^\x20\t\r\n\f]+/g;r.a.fn.extend({attr:function(e,t){return S(this,r.a.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){r.a.removeAttr(this,e)}))}}),r.a.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"===typeof e.getAttribute?r.a.prop(e,t,n):(1===a&&r.a.isXMLDoc(e)||(o=r.a.attrHooks[t.toLowerCase()]),void 0!==n?null===n?void r.a.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=e.getAttribute(t))?void 0:i)},attrHooks:{},removeAttr:function(e,t){var n,r=0,i=t&&t.match(C);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),f&&(r.a.attrHooks.type={set:function(e,t){if("radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}),r.a.each(r.a.expr.match.bool.source.match(/\w+/g),(function(e,t){r.a.attrHooks[t]={get:function(e){var n,i=r.a.isXMLDoc(e),o=t.toLowerCase();return i||(n=null!=e.getAttribute(t)?o:null),n},set:function(e,t,n){return!1===t?r.a.removeAttr(e,n):e.setAttribute(n,n),n}}}));var T=/^(?:input|select|textarea|button)$/i,O=/^(?:a|area)$/i;r.a.fn.extend({prop:function(e,t){return S(this,r.a.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[r.a.propFix[e]||e]}))}}),r.a.extend({prop:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&r.a.isXMLDoc(e)||(t=r.a.propFix[t]||t,o=r.a.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttribute("tabindex");return t?parseInt(t,10):T.test(e.nodeName)||O.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f&&(r.a.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),r.a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){r.a.propFix[this.toLowerCase()]=this}));var R=function(e){return(e.match(C)||[]).join(" ")},A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,w=r.a.expr.match.needsContext;function k(e,t,n){return"function"===typeof t?r.a.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?r.a.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?r.a.grep(e,(function(e){return s.a.call(t,e)>-1!==n})):r.a.filter(t,e,n)}r.a.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?r.a.find.matchesSelector(i,e)?[i]:[]:r.a.find.matches(e,r.a.grep(t,(function(e){return 1===e.nodeType})))},r.a.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!==typeof e)return this.pushStack(Object(r.a)(e).filter((function(){for(t=0;t<i;t++)if(r.a.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)r.a.find(e,o[t],n);return i>1?r.a.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"===typeof e&&w.test(e)?Object(r.a)(e):e||[],!1).length}});var P,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function I(e){return e.getAttribute&&e.getAttribute("class")||""}function D(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(C)||[]}(r.a.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||P,"string"===typeof e){if((a="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))&&(a[1]||!t)){if(a[1]){if(t=t instanceof r.a?t[0]:t,r.a.merge(this,r.a.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:o.a,!0)),A.test(a[1])&&r.a.isPlainObject(t))for(a in t)"function"===typeof this[a]?this[a](t[a]):this.attr(a,t[a]);return this}return(i=o.a.getElementById(a[2]))&&(this[0]=i,this.length=1),this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):"function"===typeof e?void 0!==n.ready?n.ready(e):e(r.a):r.a.makeArray(e,this)}).prototype=r.a.fn,P=Object(r.a)(o.a),r.a.fn.extend({addClass:function(e){var t,n,i,o,a,s,c,u=0;if("function"===typeof e)return this.each((function(t){Object(r.a)(this).addClass(e.call(this,t,I(this)))}));if((t=D(e)).length)for(;n=this[u++];)if(o=I(n),i=1===n.nodeType&&" "+R(o)+" "){for(s=0;a=t[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(c=R(i))&&n.setAttribute("class",c)}return this},removeClass:function(e){var t,n,i,o,a,s,c,u=0;if("function"===typeof e)return this.each((function(t){Object(r.a)(this).removeClass(e.call(this,t,I(this)))}));if(!arguments.length)return this.attr("class","");if((t=D(e)).length)for(;n=this[u++];)if(o=I(n),i=1===n.nodeType&&" "+R(o)+" "){for(s=0;a=t[s++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");o!==(c=R(i))&&n.setAttribute("class",c)}return this},toggleClass:function(e,t){return"function"===typeof e?this.each((function(n){Object(r.a)(this).toggleClass(e.call(this,n,I(this),t),t)})):"boolean"===typeof t?t?this.addClass(e):this.removeClass(e):this.each((function(){var t,n,i,o;for(n=0,i=Object(r.a)(this),o=D(e);t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t)}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+R(I(n))+" ").indexOf(t)>-1)return!0;return!1}}),r.a.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i="function"===typeof e,this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,Object(r.a)(this).val()):e)?o="":"number"===typeof o?o+="":Array.isArray(o)&&(o=r.a.map(o,(function(e){return null==e?"":e+""}))),(t=r.a.valHooks[this.type]||r.a.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=r.a.valHooks[o.type]||r.a.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:null==(n=o.value)?"":n:void 0}}),r.a.extend({valHooks:{select:{get:function(e){var t,n,o,a=e.options,s=e.selectedIndex,c="select-one"===e.type,u=c?null:[],l=c?s+1:a.length;for(o=s<0?l:c?s:0;o<l;o++)if((n=a[o]).selected&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=Object(r.a)(n).val(),c)return t;u.push(t)}return u},set:function(e,t){for(var n,i,o=e.options,a=r.a.makeArray(t),s=o.length;s--;)((i=o[s]).selected=r.a.inArray(Object(r.a)(i).val(),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),f&&(r.a.valHooks.option={get:function(e){var t=e.getAttribute("value");return null!=t?t:R(r.a.text(e))}}),r.a.each(["radio","checkbox"],(function(){r.a.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=r.a.inArray(Object(r.a)(e).val(),t)>-1}}}));r.a;r.a.parseXML=function(e){var t;if(!e||"string"!==typeof e)return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(n){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||r.a.error("Invalid XML: "+e),t};n(319);r.a.fn.extend({text:function(e){return S(this,(function(e){return void 0===e?r.a.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)}});r.a;window.$=r.a;r.a},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return E})),n.d(r,"shimGetDisplayMedia",(function(){return S})),n.d(r,"shimMediaStream",(function(){return C})),n.d(r,"shimOnTrack",(function(){return T})),n.d(r,"shimGetSendersWithDtmf",(function(){return O})),n.d(r,"shimGetStats",(function(){return R})),n.d(r,"shimSenderReceiverGetStats",(function(){return A})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return w})),n.d(r,"shimAddTrackRemoveTrack",(function(){return k})),n.d(r,"shimPeerConnection",(function(){return P})),n.d(r,"fixNegotiationNeeded",(function(){return N}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return I})),n.d(i,"shimGetDisplayMedia",(function(){return D})),n.d(i,"shimOnTrack",(function(){return M})),n.d(i,"shimPeerConnection",(function(){return x})),n.d(i,"shimSenderGetStats",(function(){return L})),n.d(i,"shimReceiverGetStats",(function(){return j})),n.d(i,"shimRemoveStream",(function(){return F})),n.d(i,"shimRTCDataChannel",(function(){return U})),n.d(i,"shimAddTransceiver",(function(){return V})),n.d(i,"shimGetParameters",(function(){return H})),n.d(i,"shimCreateOffer",(function(){return B})),n.d(i,"shimCreateAnswer",(function(){return G}));var o={};n.r(o),n.d(o,"shimLocalStreamsAPI",(function(){return J})),n.d(o,"shimRemoteStreamsAPI",(function(){return W})),n.d(o,"shimCallbacksAPI",(function(){return z})),n.d(o,"shimGetUserMedia",(function(){return K})),n.d(o,"shimConstraints",(function(){return q})),n.d(o,"shimRTCIceServerUrls",(function(){return $})),n.d(o,"shimTrackEventTransceiver",(function(){return X})),n.d(o,"shimCreateOfferLegacy",(function(){return Y})),n.d(o,"shimAudioContext",(function(){return Q}));var a={};n.r(a),n.d(a,"shimRTCIceCandidate",(function(){return te})),n.d(a,"shimMaxMessageSize",(function(){return ne})),n.d(a,"shimSendThrowTypeError",(function(){return re})),n.d(a,"shimConnectionState",(function(){return ie})),n.d(a,"removeExtmapAllowMixed",(function(){return oe})),n.d(a,"shimAddIceCandidateNullOrEmpty",(function(){return ae}));var s=n(9),c=!0,u=!0;function l(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function d(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function f(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function p(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"===typeof window){if(c)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function m(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e){return v(e)?Object.keys(e).reduce((function(t,n){var r=v(e[n]),i=r?g(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,Object(s.a)({},n,i))}),{}):e}function y(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?y(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){y(e,e.get(t),n)}))})))}function _(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&y(e,n,i)}))})),i}var b=h;function E(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"===typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){var a=e.video.facingMode;a=a&&("object"===typeof a?a:{ideal:a});var s,c=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s)return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),b("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return b("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(o(e))}))}))}}}}function S(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function C(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function T(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else d(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function O(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function R(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){return t.apply(this,[function(e){i(s(a(e)))},r])}return new Promise((function(n,r){t.apply(e,[function(e){n(s(a(e)))},r])})).then(i,o)}}}function A(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return _(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),d(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return _(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(n?r=!0:n=e),e.track===o})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function w(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function k(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return w(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(s.a)({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[function(n){var r=c(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function P(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(s.a)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function N(e,t){d(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function I(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){m("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},r&&r.prototype.getSettings){var a=r.prototype.getSettings;r.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function D(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function M(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function x(e,t){if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=Object(s.a)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,a)}}}function L(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function j(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),d(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function F(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;m("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function U(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function V(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===Object.keys(o.encodings[0]).length)&&(o.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function H(e){if("object"===typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function B(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function G(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function J(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function W(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function z(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}}function K(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(q(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function q(e){return e&&void 0!==e.video?Object.assign({},e,{video:g(e.video)}):e}function $(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(m("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function X(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Y(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function Q(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Z=n(117),ee=n.n(Z);function te(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=ee.a.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,d(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function ne(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=ee.a.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=ee.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var e,r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(r),o=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=ee.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],r);e=0===i&&0===o?Number.POSITIVE_INFINITY:0===i||0===o?Math.max(i,o):Math.min(i,o);var a={};Object.defineProperty(a,"maxMessageSize",{get:function(){return e}}),this._sctp=a}return n.apply(this,arguments)}}}function re(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},d(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function ie(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function oe(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function ae(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}var se=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=h,s=function(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=l(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=l(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=l(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),c={browserDetails:s,commonShim:a,extractVersion:l,disableLog:f,disableWarnings:p,sdp:Z};switch(s.browser){case"chrome":if(!r||!P||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),c;if(null===s.version)return n("Chrome shim can not determine version, not shimming."),c;n("adapter.js shimming chrome."),c.browserShim=r,ae(e,s),E(e,s),C(e),P(e,s),T(e),k(e,s),O(e),R(e),A(e),N(e,s),te(e),ie(e),ne(e,s),re(e),oe(e,s);break;case"firefox":if(!i||!x||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),c;n("adapter.js shimming firefox."),c.browserShim=i,ae(e,s),I(e,s),x(e,s),M(e),F(e),L(e),j(e),U(e),V(e),H(e),B(e),G(e),te(e),ie(e),ne(e,s),re(e);break;case"safari":if(!o||!t.shimSafari)return n("Safari shim is not included in this adapter release."),c;n("adapter.js shimming safari."),c.browserShim=o,ae(e,s),$(e),Y(e),z(e),J(e),W(e),X(e),K(e),Q(e),te(e),ne(e,s),re(e),oe(e,s);break;default:n("Unsupported browser!")}return c}({window:"undefined"===typeof window?void 0:window});t.default=se},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(65);function o(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(300),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,l=e.invisible,d=void 0!==l&&l,f=e.open,p=e.transitionDuration,h=e.TransitionComponent,m=void 0===h?c.a:h,v=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(m,Object(r.a)({in:f,timeout:p},v),o.createElement("div",{className:Object(a.a)(s.root,u,d&&s.invisible),"aria-hidden":!0,ref:t},n))}));t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return cn}));var r=n(13),i=n(1),o=n(0),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,u=(n(104),n(5)),l=n(64),d=n(29),f=n(54),p={}.constructor;function h(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(h);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=h(e[n]);return t}function m(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=h(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=v(e[n]," ");else t=v(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function y(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function _(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=y(n),c=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var d=a[l];for(var f in d){var p=d[f];null!=p&&(r&&(r+=c),r+=_(f+":"+u+g(p)+";",o))}}else for(var h in a){var m=a[h];null!=m&&(r&&(r+=c),r+=_(h+":"+u+g(m)+";",o))}for(var v in t){var b=t[v];null!=b&&"fallbacks"!==v&&(r&&(r+=c),r+=_(v+":"+u+g(b)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+c+r+c),_(""+e+u+"{"+r,--o)+_("}",o)):r}var E=/([[\].#*$><+~=|^:(),"'`\s])/g,S="undefined"!==typeof CSS&&CSS.escape,C=function(e){return S?S(e):e.replace(E,"\\$1")},T=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),O=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(d.a)(Object(d.a)(i)),s),i.selectorText="."+C(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(u.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(T),R={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new O(e,t,n)}},A={indent:1,children:!0},w=/@([\w-]+)/,k=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(w);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Q(Object(i.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=A);var t=y(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),P=/@container|@media|@supports\s+/,N={onCreateRule:function(e,t,n){return P.test(e)?new k(e,t,n):null}},I={indent:1,children:!0},D=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(D);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var c in this.id=!1===o?this.name:C(s(this,a)),this.rules=new Q(Object(i.a)({},n,{parent:this})),t)this.rules.add(c,t[c],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=I);var t=y(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),x=/@keyframes\s+/,L=/\$([\w-]+)/g,j=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},F=function(e,t,n){var r=e[t],i=j(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&x.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return j(e,r.keyframes);default:return e}}},V=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(T),H={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new V(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=y(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),G=/@font-face/,J={onCreateRule:function(e,t,n){return G.test(e)?new B(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),z={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},K=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},$=[R,N,U,H,J,z,{onCreateRule:function(e,t,n){return e in q?new K(e,t,n):null}}],X={process:!0},Y={force:!0,process:!0},Q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,c=r.Renderer,u=r.generateId,l=r.scoped,d=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:c,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+C(this.classes[f]));var p=m(f,t,d);if(!p)return null;this.register(p);var h=void 0===d.index?this.index.length:d.index;return this.index.splice(h,0,p),p},t.replace=function(e,t,n){var r=this.get(e),o=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==o&&(a=Object(i.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof O?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof O?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var c in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[c];u!==s[c]&&t.prop(c,u,Y)}for(var l in s){var d=t.style[l],f=s[l];null==d&&d!==f&&t.prop(l,null,Y)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=y(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Z=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Q(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(f.a)(t,["attached"]),i=y(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(u.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),re="2f1acc6c3a606b082e5eef5e54414ffb";null==ne[re]&&(ne[re]=0);var ie=ne[re]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ie+i+t:o+n.key+"-"+ie+(i?"-"+i:"")+"-"+t}},ae=function(e){var t;return function(){return t||(t=e()),t}},se=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},ue=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},de=ae((function(){return document.querySelector("head")}));function fe(e){var t=te.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ve=function(){function e(e){this.getPropertyValue=se,this.setProperty=ce,this.removeProperty=ue,this.setSelector=le,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=pe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=me(n,t);if(!1===(i=he(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=me(n,t),c=he(n,a,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,s,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,ye=function(){function e(e){this.id=ge++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:c?ve:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===te.index?0:te.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=m(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new ye(e)},be="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ee(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=Ee(r);o&&(t||(t={}),t[n]=o)}}return t}_e();var Se=n(401),Ce={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Te=Ce,Oe=n(189),Re=n(166),Ae=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var we=Date.now(),ke="fnValues"+we,Pe="fnStyle"+ ++we,Ne=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=m(e,{},n);return r[Pe]=t,r},onProcessStyle:function(e,t){if(ke in t||Pe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[ke]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Pe];o&&(i.style=o(e)||{});var a=i[ke];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Ie="@global",De="@global ",Me=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ie,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Q(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),xe=function(){function e(e,t,n){this.type="global",this.at=Ie,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Le=/\s*,\s*/g;function je(e,t){for(var n=e.split(Le),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Fe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ie)return new Me(e,t,n);if("@"===e[0]&&e.substr(0,8)===De)return new xe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[Ie]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(i.a)({},n,{selector:je(a,e.selector)}));delete r[Ie]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,Ie.length)===Ie){var a=je(o.substr(Ie.length),e.selector);t.addRule(a,r[o],Object(i.a)({},n,{selector:a})),delete r[o]}}(e,t))}}},Ue=/\s*,\s*/g,Ve=/&/g,He=/\$([\w-]+)/g;var Be=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ue),r=e.split(Ue),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var c=r[s];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(Ve,a):a+" "+c}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,c,u=o,l=u.options.parent;for(var d in r){var f=-1!==d.indexOf("&"),p="@"===d[0];if(f||p){if(s=n(u,l,s),f){var h=t(d,u.selector);c||(c=e(l,a)),h=h.replace(He,c);var m=u.key+"-"+d;"replaceRule"in l?l.replaceRule(m,r[d],Object(i.a)({},s,{selector:h})):l.addRule(m,r[d],Object(i.a)({},s,{selector:h}))}else p&&l.addRule(d,{},s).addRule(u.key,r[d],{selector:u.selector});delete r[d]}}return r}}},Ge=/[A-Z]/g,Je=/^ms-/,We={};function ze(e){return"-"+e.toLowerCase()}var Ke=function(e){if(We.hasOwnProperty(e))return We[e];var t=e.replace(Ge,ze);return We[e]=Je.test(t)?"-"+t:t};function qe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(qe):t.fallbacks=qe(e.fallbacks)),t}var $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=qe(e[t]);return e}return qe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},Xe=be&&CSS?CSS.px:"px",Ye=be&&CSS?CSS.ms:"ms",Qe=be&&CSS?CSS.percent:"%";function Ze(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var et=Ze({"animation-delay":Ye,"animation-duration":Ye,"background-position":Xe,"background-position-x":Xe,"background-position-y":Xe,"background-size":Xe,border:Xe,"border-bottom":Xe,"border-bottom-left-radius":Xe,"border-bottom-right-radius":Xe,"border-bottom-width":Xe,"border-left":Xe,"border-left-width":Xe,"border-radius":Xe,"border-right":Xe,"border-right-width":Xe,"border-top":Xe,"border-top-left-radius":Xe,"border-top-right-radius":Xe,"border-top-width":Xe,"border-width":Xe,"border-block":Xe,"border-block-end":Xe,"border-block-end-width":Xe,"border-block-start":Xe,"border-block-start-width":Xe,"border-block-width":Xe,"border-inline":Xe,"border-inline-end":Xe,"border-inline-end-width":Xe,"border-inline-start":Xe,"border-inline-start-width":Xe,"border-inline-width":Xe,"border-start-start-radius":Xe,"border-start-end-radius":Xe,"border-end-start-radius":Xe,"border-end-end-radius":Xe,margin:Xe,"margin-bottom":Xe,"margin-left":Xe,"margin-right":Xe,"margin-top":Xe,"margin-block":Xe,"margin-block-end":Xe,"margin-block-start":Xe,"margin-inline":Xe,"margin-inline-end":Xe,"margin-inline-start":Xe,padding:Xe,"padding-bottom":Xe,"padding-left":Xe,"padding-right":Xe,"padding-top":Xe,"padding-block":Xe,"padding-block-end":Xe,"padding-block-start":Xe,"padding-inline":Xe,"padding-inline-end":Xe,"padding-inline-start":Xe,"mask-position-x":Xe,"mask-position-y":Xe,"mask-size":Xe,height:Xe,width:Xe,"min-height":Xe,"max-height":Xe,"min-width":Xe,"max-width":Xe,bottom:Xe,left:Xe,top:Xe,right:Xe,inset:Xe,"inset-block":Xe,"inset-block-end":Xe,"inset-block-start":Xe,"inset-inline":Xe,"inset-inline-end":Xe,"inset-inline-start":Xe,"box-shadow":Xe,"text-shadow":Xe,"column-gap":Xe,"column-rule":Xe,"column-rule-width":Xe,"column-width":Xe,"font-size":Xe,"font-size-delta":Xe,"letter-spacing":Xe,"text-decoration-thickness":Xe,"text-indent":Xe,"text-stroke":Xe,"text-stroke-width":Xe,"word-spacing":Xe,motion:Xe,"motion-offset":Xe,outline:Xe,"outline-offset":Xe,"outline-width":Xe,perspective:Xe,"perspective-origin-x":Qe,"perspective-origin-y":Qe,"transform-origin":Qe,"transform-origin-x":Qe,"transform-origin-y":Qe,"transform-origin-z":Qe,"transition-delay":Ye,"transition-duration":Ye,"vertical-align":Xe,"flex-basis":Xe,"shape-margin":Xe,size:Xe,gap:Xe,grid:Xe,"grid-gap":Xe,"row-gap":Xe,"grid-row-gap":Xe,"grid-column-gap":Xe,"grid-template-rows":Xe,"grid-template-columns":Xe,"grid-auto-rows":Xe,"grid-auto-columns":Xe,"box-shadow-x":Xe,"box-shadow-y":Xe,"box-shadow-blur":Xe,"box-shadow-spread":Xe,"font-line-height":Xe,"text-shadow-x":Xe,"text-shadow-y":Xe,"text-shadow-blur":Xe});function tt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=tt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=tt(i,t[i],n);else for(var o in t)t[o]=tt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||et[e];return!a||0===t&&a===Xe?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var nt=function(e){void 0===e&&(e={});var t=Ze(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=tt(r,e[r],t);return e},onChangeValue:function(e,n){return tt(n,e,t)}}},rt=n(31),it="",ot="",at="",st="",ct=c&&"ontouchstart"in document.documentElement;if(c){var ut={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lt=document.createElement("p").style;for(var dt in ut)if(dt+"Transform"in lt){it=dt,ot=ut[dt];break}"Webkit"===it&&"msHyphens"in lt&&(it="ms",ot=ut.ms,st="edge"),"Webkit"===it&&"-apple-trailing-word"in lt&&(at="apple")}var ft={js:it,css:ot,vendor:at,browser:st,isTouch:ct};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ft.js?"-webkit-"+e:ft.css+e)}},ht={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ft.js?ft.css+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function gt(e){return e.replace(mt,vt)}function yt(e){return gt("-"+e)}var _t,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ft.js){var n="mask-image";if(gt(n)in t)return e;if(ft.js+yt(n)in t)return ft.css+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ft.vendor||ft.isTouch?e:ft.css+e)}},St={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft.css+e)}},Ct={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft.css+e)}},Tt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ft.js||"ms"===ft.js&&"edge"!==ft.browser?ft.css+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ft.js||"ms"===ft.js||"apple"===ft.vendor?ft.css+e:e)}},Rt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ft.js?"WebkitColumn"+yt(e)in t&&ft.css+"column-"+e:"Moz"===ft.js&&("page"+yt(e)in t&&"page-"+e))}},At={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ft.js)return e;var n=e.replace("-inline","");return ft.js+yt(n)in t&&ft.css+n}},wt={supportedProperty:function(e,t){return gt(e)in t&&e}},kt={supportedProperty:function(e,t){var n=yt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ft.js+n in t?ft.css+e:"Webkit"!==ft.js&&"Webkit"+n in t&&"-webkit-"+e}},Pt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ft.js?""+ft.css+e:e)}},Nt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ft.js?ft.css+"scroll-chaining":e)}},It={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Dt={supportedProperty:function(e,t){var n=It[e];return!!n&&(ft.js+yt(n)in t&&ft.css+n)}},Mt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},xt=Object.keys(Mt),Lt=function(e){return ft.css+e},jt=[pt,ht,bt,Et,St,Ct,Tt,Ot,Rt,At,wt,kt,Pt,Nt,Dt,{supportedProperty:function(e,t,n){var r=n.multiple;if(xt.indexOf(e)>-1){var i=Mt[e];if(!Array.isArray(i))return ft.js+yt(i)in t&&ft.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ft.js+yt(i[0])in t))return!1;return i.map(Lt)}return!1}}],Ft=jt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=jt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(rt.a)(t.noPrefill)),e}),[]),Vt={};if(c){_t=document.createElement("p");var Ht=window.getComputedStyle(document.documentElement,"");for(var Bt in Ht)isNaN(Bt)||(Vt[Ht[Bt]]=Ht[Bt]);Ut.forEach((function(e){return delete Vt[e]}))}function Gt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=Vt[e])return Vt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Ft.length&&(Vt[e]=Ft[n](e,_t.style,t),!Vt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return Vt[e]}var Jt,Wt={},zt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Kt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function qt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Gt(t):", "+Gt(n);return r||(t||n)}function $t(e,t){var n=t;if(!Jt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Wt[r])return Wt[r];try{Jt.style[e]=n}catch(i){return Wt[r]=!1,!1}if(zt[e])n=n.replace(Kt,qt);else if(""===Jt.style[e]&&("-ms-flex"===(n=ft.css+n)&&(Jt.style[e]="-ms-flexbox"),Jt.style[e]=n,""===Jt.style[e]))return Wt[r]=!1,!1;return Jt.style[e]="",Wt[r]=n,Wt[r]}c&&(Jt=document.createElement("p"));var Xt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Gt(n);o&&o!==n&&(i=!0);var a=!1,s=$t(o,g(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ft.js?n:"@"+ft.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return $t(t,g(e))||e}}};var Yt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function Qt(){return{plugins:[Ne(),Fe(),Be(),$e(),nt(),"undefined"===typeof window?null:Xt(),Yt()]}}var Zt=_e(Qt()),en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),c=0,u=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ae.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Re.a]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(i).concat(u())}}(),tn={disableGeneration:!1,generateClassName:en,jss:Zt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},nn=a.a.createContext(tn);var rn=-1e9;n(65);var on=n(357);var an={};function sn(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var c=Te.get(o.sheetsManager,a,r);c||(c={refs:0,staticSheet:null,dynamicStyles:null},Te.set(o.sheetsManager,a,r,c));var u=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=o.sheetsRegistry;if(0===c.refs){var d;o.sheetsCache&&(d=Te.get(o.sheetsCache,a,r));var f=a.create(r,s);d||((d=o.jss.createStyleSheet(f,Object(i.a)({link:!1},u))).attach(),o.sheetsCache&&Te.set(o.sheetsCache,a,r,d)),l&&l.add(d),c.staticSheet=d,c.dynamicStyles=Ee(f)}if(c.dynamicStyles){var p=o.jss.createStyleSheet(c.dynamicStyles,Object(i.a)({link:!0},u));p.update(t),p.attach(),n.dynamicSheet=p,n.classes=Object(Se.a)({baseClasses:c.staticSheet.classes,newClasses:p.classes}),l&&l.add(p)}else n.classes=c.staticSheet.classes;c.refs+=1}}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,c=t.defaultTheme,u=void 0===c?an:c,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),d=function(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(c){throw c}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=Object(on.a)(s[e],a[e])})),s},options:{}}}(e),f=n||o||"makeStyles";d.options={index:rn+=1,name:n,meta:f,classNamePrefix:f};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Oe.a)()||u,r=Object(i.a)({},a.a.useContext(nn),l),o=a.a.useRef(),c=a.a.useRef();!function(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return sn(i,e),c.current=!1,o.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Te.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Te.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(i)}}),[t,d]),a.a.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),c.current=!0}));var f=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(Se.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,s);return f}}},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n.n(o),s=n(42),c=n(15),u=n(38),l=n(66),d=n(22),f=n(124),p=n(31),h=n(54),m=n(29),v=n(64),g=n(136);function y(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function _(e,t,n){return null!=n[t]?n[t]:e.props[t]}function b(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=n(u)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var c=a in t,u=a in r,l=t[a],d=Object(o.isValidElement)(l)&&!l.props.in;!u||c&&!d?u||!c||d?u&&c&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:_(s,"exit",e),enter:_(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:_(s,"exit",e),enter:_(s,"enter",e)})}})),i}var E=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},S=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(m.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(v.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,y(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:_(e,"appear",n),enter:_(e,"enter",n),exit:_(e,"exit",n)})}))):b(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(h.a)(e,["component","childFactory"]),i=this.state.contextValue,o=E(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(g.a.Provider,{value:i},o):a.a.createElement(g.a.Provider,{value:i},a.a.createElement(t,r,o))},t}(a.a.Component);S.propTypes={},S.defaultProps={component:"div",childFactory:function(e){return e}};var C=S,T="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var O=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,s=e.rippleSize,u=e.in,d=e.onExited,f=void 0===d?function(){}:d,p=e.timeout,h=o.useState(!1),m=h[0],v=h[1],g=Object(c.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+i},_=Object(c.a)(t.child,m&&t.childLeaving,r&&t.childPulsate),b=Object(l.a)(f);return T((function(){if(!u){v(!0);var e=setTimeout(b,p);return function(){clearTimeout(e)}}}),[b,u,p]),o.createElement("span",{className:g,style:y},o.createElement("span",{className:_}))},R=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,s=e.classes,u=e.className,l=Object(i.a)(e,["center","classes","className"]),d=o.useState([]),f=d[0],h=d[1],m=o.useRef(0),v=o.useRef(null);o.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var g=o.useRef(!1),y=o.useRef(null),_=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var E=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;h((function(e){return[].concat(Object(p.a)(e),[o.createElement(O,{key:m.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),m.current+=1,v.current=a}),[s]),S=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,c=t.fakeElement,u=void 0!==c&&c;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,d,f,p=u?null:b.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),d=Math.round(h.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,S=m.clientY;l=Math.round(v-h.left),d=Math.round(S-h.top)}if(s)(f=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(f+=1);else{var C=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,T=2*Math.max(Math.abs((p?p.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(C,2)+Math.pow(T,2))}e.touches?null===_.current&&(_.current=function(){E({pulsate:i,rippleX:l,rippleY:d,rippleSize:f,cb:n})},y.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):E({pulsate:i,rippleX:l,rippleY:d,rippleSize:f,cb:n})}}),[a,E]),T=o.useCallback((function(){S({},{pulsate:!0})}),[S]),R=o.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&_.current)return e.persist(),_.current(),_.current=null,void(y.current=setTimeout((function(){R(e,t)})));_.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:T,start:S,stop:R}}),[T,S,R]),o.createElement("span",Object(r.a)({className:Object(c.a)(s.root,u),ref:b},l),o.createElement(C,{component:null,exit:!0},f))})),A=Object(d.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(R)),w=o.forwardRef((function(e,t){var n=e.action,a=e.buttonRef,d=e.centerRipple,p=void 0!==d&&d,h=e.children,m=e.classes,v=e.className,g=e.component,y=void 0===g?"button":g,_=e.disabled,b=void 0!==_&&_,E=e.disableRipple,S=void 0!==E&&E,C=e.disableTouchRipple,T=void 0!==C&&C,O=e.focusRipple,R=void 0!==O&&O,w=e.focusVisibleClassName,k=e.onBlur,P=e.onClick,N=e.onFocus,I=e.onFocusVisible,D=e.onKeyDown,M=e.onKeyUp,x=e.onMouseDown,L=e.onMouseLeave,j=e.onMouseUp,F=e.onTouchEnd,U=e.onTouchMove,V=e.onTouchStart,H=e.onDragLeave,B=e.tabIndex,G=void 0===B?0:B,J=e.TouchRippleProps,W=e.type,z=void 0===W?"button":W,K=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=o.useRef(null);var $=o.useRef(null),X=o.useState(!1),Y=X[0],Q=X[1];b&&Y&&Q(!1);var Z=Object(f.a)(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return Object(l.a)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),q.current.focus()}}}),[]),o.useEffect((function(){Y&&R&&!S&&$.current.pulsate()}),[S,R,Y]);var ie=re("start",x),oe=re("stop",H),ae=re("stop",j),se=re("stop",(function(e){Y&&e.preventDefault(),L&&L(e)})),ce=re("start",V),ue=re("stop",F),le=re("stop",U),de=re("stop",(function(e){Y&&(te(e),Q(!1)),k&&k(e)}),!1),fe=Object(l.a)((function(e){q.current||(q.current=e.currentTarget),ee(e)&&(Q(!0),I&&I(e)),N&&N(e)})),pe=function(){var e=s.findDOMNode(q.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},he=o.useRef(!1),me=Object(l.a)((function(e){R&&!he.current&&Y&&$.current&&" "===e.key&&(he.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),D&&D(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!b&&(e.preventDefault(),P&&P(e))})),ve=Object(l.a)((function(e){R&&" "===e.key&&$.current&&Y&&!e.defaultPrevented&&(he.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),M&&M(e),P&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&P(e)})),ge=y;"button"===ge&&K.href&&(ge="a");var ye={};"button"===ge?(ye.type=z,ye.disabled=b):("a"===ge&&K.href||(ye.role="button"),ye["aria-disabled"]=b);var _e=Object(u.a)(a,t),be=Object(u.a)(ne,q),Ee=Object(u.a)(_e,be),Se=o.useState(!1),Ce=Se[0],Te=Se[1];o.useEffect((function(){Te(!0)}),[]);var Oe=Ce&&!S&&!b;return o.createElement(ge,Object(r.a)({className:Object(c.a)(m.root,v,Y&&[m.focusVisible,w],b&&m.disabled),onBlur:de,onClick:P,onFocus:fe,onKeyDown:me,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ue,onTouchMove:le,onTouchStart:ce,ref:Ee,tabIndex:b?-1:G},ye,K),h,Oe?o.createElement(A,Object(r.a)({ref:$,center:p},J)):null)}));t.a=Object(d.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(w)},function(e,t,n){"use strict";var r=n(13),i=n(1),o=n(0),a=n(42),s=n(189),c=n(358),u=n(52),l=n(403),d=n(77),f=n(38),p=n(66),h=n(168),m=n(6),v=n(5),g=n(31),y=n(169),_=n(123);function b(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function E(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(g.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&b(e,i)}))}function C(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function T(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(u.a)(e);return t.body===e?Object(_.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=Object(y.a)();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(E(o)+a,"px"),n=Object(u.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(E(e)+a,"px")}))}var s=o.parentElement,c="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var O=function(){function e(){Object(m.a)(this,e),this.modals=[],this.containers=[]}return Object(v.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&b(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);S(t,e.mountNode,e.modalRef,r,!0);var i=C(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=T(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&b(e.modalRef,!0),S(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&b(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var R=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,c=e.disableRestoreFocus,l=void 0!==c&&c,d=e.getDoc,p=e.isEnabled,h=e.open,m=o.useRef(),v=o.useRef(null),g=o.useRef(null),y=o.useRef(),_=o.useRef(null),b=o.useCallback((function(e){_.current=a.findDOMNode(e)}),[]),E=Object(f.a)(t.ref,b),S=o.useRef();return o.useEffect((function(){S.current=h}),[h]),!S.current&&h&&"undefined"!==typeof window&&(y.current=d().activeElement),o.useEffect((function(){if(h){var e=Object(u.a)(_.current);r||!_.current||_.current.contains(e.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex",-1),_.current.focus());var t=function(){null!==_.current&&(e.hasFocus()&&!s&&p()&&!m.current?_.current&&!_.current.contains(e.activeElement)&&_.current.focus():m.current=!1)},n=function(t){!s&&p()&&9===t.keyCode&&e.activeElement===_.current&&(m.current=!0,t.shiftKey?g.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,s,l,p,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:E}),o.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},A={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},w=o.forwardRef((function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,c=Object(r.a)(e,["invisible","open"]);return s?o.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},c,{style:Object(i.a)({},A.root,a?A.invisible:{},c.style)})):null}));var k=new O,P=o.forwardRef((function(e,t){var n=Object(s.a)(),m=Object(c.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),v=m.BackdropComponent,g=void 0===v?w:v,y=m.BackdropProps,_=m.children,E=m.closeAfterTransition,S=void 0!==E&&E,C=m.container,T=m.disableAutoFocus,O=void 0!==T&&T,A=m.disableBackdropClick,P=void 0!==A&&A,N=m.disableEnforceFocus,I=void 0!==N&&N,D=m.disableEscapeKeyDown,M=void 0!==D&&D,x=m.disablePortal,L=void 0!==x&&x,j=m.disableRestoreFocus,F=void 0!==j&&j,U=m.disableScrollLock,V=void 0!==U&&U,H=m.hideBackdrop,B=void 0!==H&&H,G=m.keepMounted,J=void 0!==G&&G,W=m.manager,z=void 0===W?k:W,K=m.onBackdropClick,q=m.onClose,$=m.onEscapeKeyDown,X=m.onRendered,Y=m.open,Q=Object(r.a)(m,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=o.useState(!0),ee=Z[0],te=Z[1],ne=o.useRef({}),re=o.useRef(null),ie=o.useRef(null),oe=Object(f.a)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(m),se=function(){return Object(u.a)(re.current)},ce=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ue=function(){z.mount(ce(),{disableScrollLock:V}),ie.current.scrollTop=0},le=Object(p.a)((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(C)||se().body;z.add(ce(),e),ie.current&&ue()})),de=o.useCallback((function(){return z.isTopModal(ce())}),[z]),fe=Object(p.a)((function(e){re.current=e,e&&(X&&X(),Y&&de()?ue():b(ie.current,!0))})),pe=o.useCallback((function(){z.remove(ce())}),[z]);if(o.useEffect((function(){return function(){pe()}}),[pe]),o.useEffect((function(){Y?le():ae&&S||pe()}),[Y,pe,ae,S,le]),!J&&!Y&&(!ae||ee))return null;var he=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:h.a}),me={};return void 0===_.props.tabIndex&&(me.tabIndex=_.props.tabIndex||"-1"),ae&&(me.onEnter=Object(d.a)((function(){te(!1)}),_.props.onEnter),me.onExited=Object(d.a)((function(){te(!0),S&&pe()}),_.props.onExited)),o.createElement(l.a,{ref:fe,container:C,disablePortal:L},o.createElement("div",Object(i.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&de()&&($&&$(e),M||(e.stopPropagation(),q&&q(e,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(i.a)({},he.root,!Y&&ee?he.hidden:{},Q.style)}),B?null:o.createElement(g,Object(i.a)({open:Y,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!P&&q&&q(e,"backdropClick"))}},y)),o.createElement(R,{disableEnforceFocus:I,disableAutoFocus:O,disableRestoreFocus:F,getDoc:se,isEnabled:de,open:Y},o.cloneElement(_,me))))}));t.a=P},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(360),o=n(107);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:o.a},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";var r=n(1),i=n(30),o=n(13),a=n(0),s=n(301),c=n(60),u=n(86),l=n(38);function d(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var f={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},p=a.forwardRef((function(e,t){var n=e.children,p=e.disableStrictModeCompat,h=void 0!==p&&p,m=e.in,v=e.onEnter,g=e.onEntered,y=e.onEntering,_=e.onExit,b=e.onExited,E=e.onExiting,S=e.style,C=e.timeout,T=void 0===C?"auto":C,O=e.TransitionComponent,R=void 0===O?s.a:O,A=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=a.useRef(),k=a.useRef(),P=Object(c.a)(),N=P.unstable_strictMode&&!h,I=a.useRef(null),D=Object(l.a)(n.ref,t),M=Object(l.a)(N?I:void 0,D),x=function(e){return function(t,n){if(e){var r=N?[I.current,t]:[t,n],o=Object(i.a)(r,2),a=o[0],s=o[1];void 0===s?e(a):e(a,s)}}},L=x(y),j=x((function(e,t){Object(u.b)(e);var n,r=Object(u.a)({style:S,timeout:T},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===T?(n=P.transitions.getAutoHeightDuration(e.clientHeight),k.current=n):n=i,e.style.transition=[P.transitions.create("opacity",{duration:n,delay:o}),P.transitions.create("transform",{duration:.666*n,delay:o})].join(","),v&&v(e,t)})),F=x(g),U=x(E),V=x((function(e){var t,n=Object(u.a)({style:S,timeout:T},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===T?(t=P.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=r,e.style.transition=[P.transitions.create("opacity",{duration:t,delay:i}),P.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=d(.75),_&&_(e)})),H=x(b);return a.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),a.createElement(R,Object(r.a)({appear:!0,in:m,nodeRef:N?I:void 0,onEnter:j,onEntered:F,onEntering:L,onExit:V,onExited:H,onExiting:U,addEndListener:function(e,t){var n=N?e:t;"auto"===T&&(w.current=setTimeout(n,k.current||0))},timeout:"auto"===T?null:T},A),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:d(.75),visibility:"exited"!==e||m?void 0:"hidden"},f[e],S,n.props.style),ref:M},t))}))}));p.muiSupportAuto=!0,t.a=p},function(e,t,n){"use strict";var r=n(0),i=n(42),o=n(73),a=n(38);var s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,c=r.forwardRef((function(e,t){var n=e.children,c=e.container,u=e.disablePortal,l=void 0!==u&&u,d=e.onRendered,f=r.useState(null),p=f[0],h=f[1],m=Object(a.a)(r.isValidElement(n)?n.ref:null,t);return s((function(){l||h(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(c)||document.body)}),[c,l]),s((function(){if(p&&!l)return Object(o.a)(t,p),function(){Object(o.a)(t,null)}}),[t,p,l]),s((function(){d&&(p||l)&&d()}),[d,p,l]),l?r.isValidElement(n)?r.cloneElement(n,{ref:m}):n:p?i.createPortal(n,p):p}));t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),o=n(189),a=n(358);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.a)(),s=Object(a.a)({theme:n,name:"MuiUseMediaQuery",props:{}});var c="function"===typeof e?e(n):e;c=c.replace(/^@media( ?)/m,"");var u="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=Object(r.a)({},s,t),d=l.defaultMatches,f=void 0!==d&&d,p=l.matchMedia,h=void 0===p?u?window.matchMedia:null:p,m=l.noSsr,v=void 0!==m&&m,g=l.ssrMatchMedia,y=void 0===g?null:g,_=i.useState((function(){return v&&u?h(c).matches:y?y(c).matches:f})),b=_[0],E=_[1];return i.useEffect((function(){var e=!0;if(u){var t=h(c),n=function(){e&&E(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[c,h,u]),b}},function(e,t,n){"use strict";var r=n(13),i=n(1),o=n(0),a=n(15),s=n(22),c=n(58),u=n(361),l=n(34),d=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,d=e.color,f=void 0===d?"default":d,p=e.component,h=void 0===p?"button":p,m=e.disabled,v=void 0!==m&&m,g=e.disableElevation,y=void 0!==g&&g,_=e.disableFocusRipple,b=void 0!==_&&_,E=e.endIcon,S=e.focusVisibleClassName,C=e.fullWidth,T=void 0!==C&&C,O=e.size,R=void 0===O?"medium":O,A=e.startIcon,w=e.type,k=void 0===w?"button":w,P=e.variant,N=void 0===P?"text":P,I=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),D=A&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(R))])},A),M=E&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(R))])},E);return o.createElement(u.a,Object(i.a)({className:Object(a.a)(s.root,s[N],c,"inherit"===f?s.colorInherit:"default"!==f&&s["".concat(N).concat(Object(l.a)(f))],"medium"!==R&&[s["".concat(N,"Size").concat(Object(l.a)(R))],s["size".concat(Object(l.a)(R))]],y&&s.disableElevation,v&&s.disabled,T&&s.fullWidth),component:h,disabled:v,focusRipple:!b,focusVisibleClassName:Object(a.a)(s.focusVisible,S),ref:t,type:k},I),o.createElement("span",{className:s.label},D,n,M))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(c.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(c.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(c.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(c.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(c.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(34),u=44,l=o.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.color,d=void 0===l?"primary":l,f=e.disableShrink,p=void 0!==f&&f,h=e.size,m=void 0===h?40:h,v=e.style,g=e.thickness,y=void 0===g?3.6:g,_=e.value,b=void 0===_?0:_,E=e.variant,S=void 0===E?"indeterminate":E,C=Object(i.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),T={},O={},R={};if("determinate"===S||"static"===S){var A=2*Math.PI*((u-y)/2);T.strokeDasharray=A.toFixed(3),R["aria-valuenow"]=Math.round(b),T.strokeDashoffset="".concat(((100-b)/100*A).toFixed(3),"px"),O.transform="rotate(-90deg)"}return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"inherit"!==d&&n["color".concat(Object(c.a)(d))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[S]),style:Object(r.a)({width:m,height:m},O,v),ref:t,role:"progressbar"},R,C),o.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(u," ").concat(u)},o.createElement("circle",{className:Object(a.a)(n.circle,p&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[S]),style:T,cx:u,cy:u,r:(u-y)/2,fill:"none",strokeWidth:y})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(l)},function(e,t,n){"use strict";var r=n(13),i=n(1),o=n(0),a=n(15),s=n(22),c=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=o.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,c=e.alignItems,u=void 0===c?"stretch":c,l=e.classes,d=e.className,f=e.component,p=void 0===f?"div":f,h=e.container,m=void 0!==h&&h,v=e.direction,g=void 0===v?"row":v,y=e.item,_=void 0!==y&&y,b=e.justify,E=e.justifyContent,S=void 0===E?"flex-start":E,C=e.lg,T=void 0!==C&&C,O=e.md,R=void 0!==O&&O,A=e.sm,w=void 0!==A&&A,k=e.spacing,P=void 0===k?0:k,N=e.wrap,I=void 0===N?"wrap":N,D=e.xl,M=void 0!==D&&D,x=e.xs,L=void 0!==x&&x,j=e.zeroMinWidth,F=void 0!==j&&j,U=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=Object(a.a)(l.root,d,m&&[l.container,0!==P&&l["spacing-xs-".concat(String(P))]],_&&l.item,F&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==I&&l["wrap-xs-".concat(String(I))],"stretch"!==u&&l["align-items-xs-".concat(String(u))],"stretch"!==s&&l["align-content-xs-".concat(String(s))],"flex-start"!==(b||S)&&l["justify-content-xs-".concat(String(b||S))],!1!==L&&l["grid-xs-".concat(String(L))],!1!==w&&l["grid-sm-".concat(String(w))],!1!==R&&l["grid-md-".concat(String(R))],!1!==T&&l["grid-lg-".concat(String(T))],!1!==M&&l["grid-xl-".concat(String(M))]);return o.createElement(p,Object(i.a)({className:V,ref:t},U))})),f=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return c.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=f},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(111),u=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=Object(i.a)(e,["classes","className"]),l=o.useContext(c.a);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},u))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(u)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(9),a=n(0),s=n(15),c=n(22),u=n(34),l=n(362),d=n(359),f=n(300),p=n(68),h=n(298),m={enter:p.b.enteringScreen,exit:p.b.leavingScreen},v=a.forwardRef((function(e,t){var n=e.BackdropProps,o=e.children,c=e.classes,p=e.className,v=e.disableBackdropClick,g=void 0!==v&&v,y=e.disableEscapeKeyDown,_=void 0!==y&&y,b=e.fullScreen,E=void 0!==b&&b,S=e.fullWidth,C=void 0!==S&&S,T=e.maxWidth,O=void 0===T?"sm":T,R=e.onBackdropClick,A=e.onClose,w=e.onEnter,k=e.onEntered,P=e.onEntering,N=e.onEscapeKeyDown,I=e.onExit,D=e.onExited,M=e.onExiting,x=e.open,L=e.PaperComponent,j=void 0===L?h.a:L,F=e.PaperProps,U=void 0===F?{}:F,V=e.scroll,H=void 0===V?"paper":V,B=e.TransitionComponent,G=void 0===B?f.a:B,J=e.transitionDuration,W=void 0===J?m:J,z=e.TransitionProps,K=e["aria-describedby"],q=e["aria-labelledby"],$=Object(i.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),X=a.useRef();return a.createElement(l.a,Object(r.a)({className:Object(s.a)(c.root,p),BackdropComponent:d.a,BackdropProps:Object(r.a)({transitionDuration:W},n),closeAfterTransition:!0},g?{disableBackdropClick:g}:{},{disableEscapeKeyDown:_,onEscapeKeyDown:N,onClose:A,open:x,ref:t},$),a.createElement(G,Object(r.a)({appear:!0,in:x,timeout:W,onEnter:w,onEntering:P,onEntered:k,onExit:I,onExiting:M,onExited:D,role:"none presentation"},z),a.createElement("div",{className:Object(s.a)(c.container,c["scroll".concat(Object(u.a)(H))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,R&&R(e),!g&&A&&A(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target}},a.createElement(j,Object(r.a)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":q},U,{className:Object(s.a)(c.paper,c["paperScroll".concat(Object(u.a)(H))],c["paperWidth".concat(Object(u.a)(String(O)))],U.className,E&&c.paperFullScreen,C&&c.paperFullWidth)}),o))))}));t.a=Object(c.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(v)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(299),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,l=e.disableTypography,d=void 0!==l&&l,f=Object(i.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,u),ref:t},f),d?n:o.createElement(c.a,{component:"h2",variant:"h6"},n))}));t.a=Object(s.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.dividers,u=void 0!==c&&c,l=Object(i.a)(e,["classes","className","dividers"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,u&&n.dividers),ref:t},l))}));t.a=Object(s.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(c)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(22),a=n(299),s=i.forwardRef((function(e,t){return i.createElement(a.a,Object(r.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(o.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(s)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=o.forwardRef((function(e,t){var n=e.disableSpacing,s=void 0!==n&&n,c=e.classes,u=e.className,l=Object(i.a)(e,["disableSpacing","classes","className"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(c.root,u,!s&&c.spacing),ref:t},l))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(c)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(298),c=n(22),u=o.forwardRef((function(e,t){var n=e.classes,c=e.className,u=e.raised,l=void 0!==u&&u,d=Object(i.a)(e,["classes","className","raised"]);return o.createElement(s.a,Object(r.a)({className:Object(a.a)(n.root,c),elevation:l?8:1,ref:t},d))}));t.a=Object(c.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n.n(i),a=n(165),s=n(189),c=n(166);t.a=function(e){var t=e.children,n=e.theme,i=Object(s.a)(),u=o.a.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,t)}(i,n);return null!=e&&(e[c.a]=null!==i),e}),[n,i]);return o.a.createElement(a.a.Provider,{value:u},t)}},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(297);function c(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var u=o.createContext();var l=u,d=n(22),f=n(34),p=n(38),h=n(105);function m(e,t){return parseInt(e[t],10)||0}var v="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},y=o.forwardRef((function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,c=e.rowsMin,u=e.maxRows,l=e.minRows,d=void 0===l?1:l,f=e.style,y=e.value,_=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),b=u||s,E=a||c||d,S=o.useRef(null!=y).current,C=o.useRef(null),T=Object(p.a)(t,C),O=o.useRef(null),R=o.useRef(0),A=o.useState({}),w=A[0],k=A[1],P=o.useCallback((function(){var t=C.current,n=window.getComputedStyle(t),r=O.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=m(n,"padding-bottom")+m(n,"padding-top"),a=m(n,"border-bottom-width")+m(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,u=s;E&&(u=Math.max(Number(E)*c,u)),b&&(u=Math.min(Number(b)*c,u));var l=(u=Math.max(u,c))+("border-box"===i?o+a:0),d=Math.abs(u-s)<=1;k((function(e){return R.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==d)?(R.current+=1,{overflow:d,outerHeightStyle:l}):e}))}),[b,E,e.placeholder]);o.useEffect((function(){var e=Object(h.a)((function(){R.current=0,P()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[P]),v((function(){P()})),o.useEffect((function(){R.current=0}),[y]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(r.a)({value:y,onChange:function(e){R.current=0,S||P(),n&&n(e)},ref:T,rows:E,style:Object(r.a)({height:w.outerHeightStyle,overflow:w.overflow?"hidden":null},f)},_)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:O,tabIndex:-1,style:Object(r.a)({},g,f)}))}));function _(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(_(e.value)&&""!==e.value||t&&_(e.defaultValue)&&""!==e.defaultValue)}var E="undefined"===typeof window?o.useEffect:o.useLayoutEffect,S=o.forwardRef((function(e,t){var n=e["aria-describedby"],d=e.autoComplete,h=e.autoFocus,m=e.classes,v=e.className,g=(e.color,e.defaultValue),_=e.disabled,S=e.endAdornment,C=(e.error,e.fullWidth),T=void 0!==C&&C,O=e.id,R=e.inputComponent,A=void 0===R?"input":R,w=e.inputProps,k=void 0===w?{}:w,P=e.inputRef,N=(e.margin,e.multiline),I=void 0!==N&&N,D=e.name,M=e.onBlur,x=e.onChange,L=e.onClick,j=e.onFocus,F=e.onKeyDown,U=e.onKeyUp,V=e.placeholder,H=e.readOnly,B=e.renderSuffix,G=e.rows,J=e.rowsMax,W=e.rowsMin,z=e.maxRows,K=e.minRows,q=e.startAdornment,$=e.type,X=void 0===$?"text":$,Y=e.value,Q=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=k.value?k.value:Y,ee=o.useRef(null!=Z).current,te=o.useRef(),ne=o.useCallback((function(e){0}),[]),re=Object(p.a)(k.ref,ne),ie=Object(p.a)(P,re),oe=Object(p.a)(te,ie),ae=o.useState(!1),se=ae[0],ce=ae[1],ue=o.useContext(u);var le=c({props:e,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});le.focused=ue?ue.focused:se,o.useEffect((function(){!ue&&_&&se&&(ce(!1),M&&M())}),[ue,_,se,M]);var de=ue&&ue.onFilled,fe=ue&&ue.onEmpty,pe=o.useCallback((function(e){b(e)?de&&de():fe&&fe()}),[de,fe]);E((function(){ee&&pe({value:Z})}),[Z,pe,ee]);o.useEffect((function(){pe(te.current)}),[]);var he=A,me=Object(r.a)({},k,{ref:oe});"string"!==typeof he?me=Object(r.a)({inputRef:oe,type:X},me,{ref:null}):I?!G||z||K||J||W?(me=Object(r.a)({minRows:G||K,rowsMax:J,maxRows:z},me),he=y):he="textarea":me=Object(r.a)({type:X},me);return o.useEffect((function(){ue&&ue.setAdornedStart(Boolean(q))}),[ue,q]),o.createElement("div",Object(r.a)({className:Object(a.a)(m.root,m["color".concat(Object(f.a)(le.color||"primary"))],v,le.disabled&&m.disabled,le.error&&m.error,T&&m.fullWidth,le.focused&&m.focused,ue&&m.formControl,I&&m.multiline,q&&m.adornedStart,S&&m.adornedEnd,"dense"===le.margin&&m.marginDense),onClick:function(e){te.current&&e.currentTarget===e.target&&te.current.focus(),L&&L(e)},ref:t},Q),q,o.createElement(l.Provider,{value:null},o.createElement(he,Object(r.a)({"aria-invalid":le.error,"aria-describedby":n,autoComplete:d,autoFocus:h,defaultValue:g,disabled:le.disabled,id:O,onAnimationStart:function(e){pe("mui-auto-fill-cancel"===e.animationName?te.current:{value:"x"})},name:D,placeholder:V,readOnly:H,required:le.required,rows:G,value:Z,onKeyDown:F,onKeyUp:U},me,{className:Object(a.a)(m.input,k.className,le.disabled&&m.disabled,I&&m.inputMultiline,le.hiddenLabel&&m.inputHiddenLabel,q&&m.inputAdornedStart,S&&m.inputAdornedEnd,"search"===X&&m.inputTypeSearch,"dense"===le.margin&&m.inputMarginDense),onBlur:function(e){M&&M(e),k.onBlur&&k.onBlur(e),ue&&ue.onBlur?ue.onBlur(e):ce(!1)},onChange:function(e){if(!ee){var t=e.target||te.current;if(null==t)throw new Error(Object(s.a)(1));pe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[e].concat(r)),x&&x.apply(void 0,[e].concat(r))},onFocus:function(e){le.disabled?e.stopPropagation():(j&&j(e),k.onFocus&&k.onFocus(e),ue&&ue.onFocus?ue.onFocus(e):ce(!0))}}))),S,B?B(Object(r.a)({},le,{startAdornment:q})):null)})),C=Object(d.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(S),T=o.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,c=e.fullWidth,u=void 0!==c&&c,l=e.inputComponent,d=void 0===l?"input":l,f=e.multiline,p=void 0!==f&&f,h=e.type,m=void 0===h?"text":h,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(C,Object(r.a)({classes:Object(r.a)({},s,{root:Object(a.a)(s.root,!n&&s.underline),underline:null}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:m},v))}));T.muiName="Input";var O=Object(d.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(T),R=o.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,c=e.fullWidth,u=void 0!==c&&c,l=e.inputComponent,d=void 0===l?"input":l,f=e.multiline,p=void 0!==f&&f,h=e.type,m=void 0===h?"text":h,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(C,Object(r.a)({classes:Object(r.a)({},s,{root:Object(a.a)(s.root,!n&&s.underline),underline:null}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:m},v))}));R.muiName="Input";var A=Object(d.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(R),w=n(9),k=n(60),P=o.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,c=e.label,u=e.labelWidth,l=e.notched,d=e.style,p=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),h="rtl"===Object(k.a)().direction?"right":"left";if(void 0!==c)return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(a.a)(n.root,s),ref:t,style:d},p),o.createElement("legend",{className:Object(a.a)(n.legendLabelled,l&&n.legendNotched)},c?o.createElement("span",null,c):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var m=u>0?.75*u+8:.01;return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(w.a)({},"padding".concat(Object(f.a)(h)),8),d),className:Object(a.a)(n.root,s),ref:t},p),o.createElement("legend",{className:n.legend,style:{width:l?m:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),N=Object(d.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(P),I=o.forwardRef((function(e,t){var n=e.classes,s=e.fullWidth,c=void 0!==s&&s,u=e.inputComponent,l=void 0===u?"input":u,d=e.label,f=e.labelWidth,p=void 0===f?0:f,h=e.multiline,m=void 0!==h&&h,v=e.notched,g=e.type,y=void 0===g?"text":g,_=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(C,Object(r.a)({renderSuffix:function(e){return o.createElement(N,{className:n.notchedOutline,label:d,labelWidth:p,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(a.a)(n.root,n.underline),notchedOutline:null}),fullWidth:c,inputComponent:l,multiline:m,ref:t,type:y},_))}));I.muiName="Input";var D=Object(d.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(I);function M(){return o.useContext(l)}var x=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,l=(e.color,e.component),d=void 0===l?"label":l,p=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=c({props:e,muiFormControl:M(),states:["color","required","focused","disabled","error","filled"]});return o.createElement(d,Object(r.a)({className:Object(a.a)(s.root,s["color".concat(Object(f.a)(h.color||"primary"))],u,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required),ref:t},p),n,h.required&&o.createElement("span",{"aria-hidden":!0,className:Object(a.a)(s.asterisk,h.error&&s.error)},"\u2009","*"))})),L=Object(d.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(x),j=o.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.disableAnimation,l=void 0!==u&&u,d=(e.margin,e.shrink),f=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),p=M(),h=d;"undefined"===typeof h&&p&&(h=p.filled||p.focused||p.adornedStart);var m=c({props:e,muiFormControl:p,states:["margin","variant"]});return o.createElement(L,Object(r.a)({"data-shrink":h,className:Object(a.a)(n.root,s,p&&n.formControl,!l&&n.animated,h&&n.shrink,"dense"===m.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[m.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},f))})),F=Object(d.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(j),U=n(108),V=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.color,d=void 0===u?"primary":u,p=e.component,h=void 0===p?"div":p,m=e.disabled,v=void 0!==m&&m,g=e.error,y=void 0!==g&&g,_=e.fullWidth,E=void 0!==_&&_,S=e.focused,C=e.hiddenLabel,T=void 0!==C&&C,O=e.margin,R=void 0===O?"none":O,A=e.required,w=void 0!==A&&A,k=e.size,P=e.variant,N=void 0===P?"standard":P,I=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),D=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){if(Object(U.a)(t,["Input","Select"])){var n=Object(U.a)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),M=D[0],x=D[1],L=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){Object(U.a)(t,["Input","Select"])&&b(t.props,!0)&&(e=!0)})),e})),j=L[0],F=L[1],V=o.useState(!1),H=V[0],B=V[1],G=void 0!==S?S:H;v&&G&&B(!1);var J=o.useCallback((function(){F(!0)}),[]),W={adornedStart:M,setAdornedStart:x,color:d,disabled:v,error:y,filled:j,focused:G,fullWidth:E,hiddenLabel:T,margin:("small"===k?"dense":void 0)||R,onBlur:function(){B(!1)},onEmpty:o.useCallback((function(){F(!1)}),[]),onFilled:J,onFocus:function(){B(!0)},registerEffect:undefined,required:w,variant:N};return o.createElement(l.Provider,{value:W},o.createElement(h,Object(r.a)({className:Object(a.a)(s.root,c,"none"!==R&&s["margin".concat(Object(f.a)(R))],E&&s.fullWidth),ref:t},I),n))})),H=Object(d.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(V),B=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,l=e.component,d=void 0===l?"p":l,f=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=c({props:e,muiFormControl:M(),states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(d,Object(r.a)({className:Object(a.a)(s.root,("filled"===p.variant||"outlined"===p.variant)&&s.contained,u,p.disabled&&s.disabled,p.error&&s.error,p.filled&&s.filled,p.focused&&s.focused,p.required&&s.required,"dense"===p.margin&&s.marginDense),ref:t},f)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),G=Object(d.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(B),J=n(401),W=n(30),z=n(65),K=(n(140),n(52)),q=n(42),$=n(123),X=n(77),Y=n(362),Q=n(402),Z=n(298);function ee(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function te(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ne(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function re(e){return"function"===typeof e?e():e}var ie=o.forwardRef((function(e,t){var n=e.action,s=e.anchorEl,c=e.anchorOrigin,u=void 0===c?{vertical:"top",horizontal:"left"}:c,l=e.anchorPosition,d=e.anchorReference,f=void 0===d?"anchorEl":d,p=e.children,m=e.classes,v=e.className,g=e.container,y=e.elevation,_=void 0===y?8:y,b=e.getContentAnchorEl,E=e.marginThreshold,S=void 0===E?16:E,C=e.onEnter,T=e.onEntered,O=e.onEntering,R=e.onExit,A=e.onExited,w=e.onExiting,k=e.open,P=e.PaperProps,N=void 0===P?{}:P,I=e.transformOrigin,D=void 0===I?{vertical:"top",horizontal:"left"}:I,M=e.TransitionComponent,x=void 0===M?Q.a:M,L=e.transitionDuration,j=void 0===L?"auto":L,F=e.TransitionProps,U=void 0===F?{}:F,V=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),H=o.useRef(),B=o.useCallback((function(e){if("anchorPosition"===f)return l;var t=re(s),n=(t&&1===t.nodeType?t:Object(K.a)(H.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+ee(n,r),left:n.left+te(n,u.horizontal)}}),[s,u.horizontal,u.vertical,l,f]),G=o.useCallback((function(e){var t=0;if(b&&"anchorEl"===f){var n=b(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,f,b]),J=o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:ee(e,D.vertical)+t,horizontal:te(e,D.horizontal)}}),[D.horizontal,D.vertical]),W=o.useCallback((function(e){var t=G(e),n={width:e.offsetWidth,height:e.offsetHeight},r=J(n,t);if("none"===f)return{top:null,left:null,transformOrigin:ne(r)};var i=B(t),o=i.top-r.vertical,a=i.left-r.horizontal,c=o+n.height,u=a+n.width,l=Object($.a)(re(s)),d=l.innerHeight-S,p=l.innerWidth-S;if(o<S){var h=o-S;o-=h,r.vertical+=h}else if(c>d){var m=c-d;o-=m,r.vertical+=m}if(a<S){var v=a-S;a-=v,r.horizontal+=v}else if(u>p){var g=u-p;a-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:ne(r)}}),[s,f,B,G,J,S]),z=o.useCallback((function(){var e=H.current;if(e){var t=W(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[W]),ie=o.useCallback((function(e){H.current=q.findDOMNode(e)}),[]);o.useEffect((function(){k&&z()})),o.useImperativeHandle(n,(function(){return k?{updatePosition:function(){z()}}:null}),[k,z]),o.useEffect((function(){if(k){var e=Object(h.a)((function(){z()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[k,z]);var oe=j;"auto"!==j||x.muiSupportAuto||(oe=void 0);var ae=g||(s?Object(K.a)(re(s)).body:void 0);return o.createElement(Y.a,Object(r.a)({container:ae,open:k,ref:t,BackdropProps:{invisible:!0},className:Object(a.a)(m.root,v)},V),o.createElement(x,Object(r.a)({appear:!0,in:k,onEnter:C,onEntered:T,onExit:R,onExited:A,onExiting:w,timeout:oe},U,{onEntering:Object(X.a)((function(e,t){O&&O(e,t),z()}),U.onEntering)}),o.createElement(Z.a,Object(r.a)({elevation:_,ref:ie},N,{className:Object(a.a)(m.paper,N.className)}),p)))})),oe=Object(d.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(ie),ae=n(421),se=n(73),ce={vertical:"top",horizontal:"right"},ue={vertical:"top",horizontal:"left"},le=o.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,c=e.children,u=e.classes,l=e.disableAutoFocusItem,d=void 0!==l&&l,f=e.MenuListProps,p=void 0===f?{}:f,h=e.onClose,m=e.onEntering,v=e.open,g=e.PaperProps,y=void 0===g?{}:g,_=e.PopoverClasses,b=e.transitionDuration,E=void 0===b?"auto":b,S=e.TransitionProps,C=(S=void 0===S?{}:S).onEntering,T=Object(i.a)(S,["onEntering"]),O=e.variant,R=void 0===O?"selectedMenu":O,A=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),w=Object(k.a)(),P=s&&!d&&v,N=o.useRef(null),I=o.useRef(null),D=-1;o.Children.map(c,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("menu"!==R&&e.props.selected||-1===D)&&(D=t))}));var M=o.Children.map(c,(function(e,t){return t===D?o.cloneElement(e,{ref:function(t){I.current=q.findDOMNode(t),Object(se.a)(e.ref,t)}}):e}));return o.createElement(oe,Object(r.a)({getContentAnchorEl:function(){return I.current},classes:_,onClose:h,TransitionProps:Object(r.a)({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,w),m&&m(e,t),C&&C(e,t)}},T),anchorOrigin:"rtl"===w.direction?ce:ue,transformOrigin:"rtl"===w.direction?ce:ue,PaperProps:Object(r.a)({},y,{classes:Object(r.a)({},y.classes,{root:u.paper})}),open:v,ref:t,transitionDuration:E},A),o.createElement(ae.a,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:N,autoFocus:s&&(-1===D||d),autoFocusItem:P,variant:R},p,{className:Object(a.a)(u.list,p.className)}),M))})),de=Object(d.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(le),fe=n(122);function pe(e,t){return"object"===Object(z.a)(t)&&null!==t?e===t:String(e)===String(t)}var he=o.forwardRef((function(e,t){var n=e["aria-label"],c=e.autoFocus,u=e.autoWidth,l=e.children,d=e.classes,h=e.className,m=e.defaultValue,v=e.disabled,g=e.displayEmpty,y=e.IconComponent,_=e.inputRef,E=e.labelId,S=e.MenuProps,C=void 0===S?{}:S,T=e.multiple,O=e.name,R=e.onBlur,A=e.onChange,w=e.onClose,k=e.onFocus,P=e.onOpen,N=e.open,I=e.readOnly,D=e.renderValue,M=e.SelectDisplayProps,x=void 0===M?{}:M,L=e.tabIndex,j=(e.type,e.value),F=e.variant,U=void 0===F?"standard":F,V=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),H=Object(fe.a)({controlled:j,default:m,name:"Select"}),B=Object(W.a)(H,2),G=B[0],J=B[1],z=o.useRef(null),q=o.useState(null),$=q[0],X=q[1],Y=o.useRef(null!=N).current,Q=o.useState(),Z=Q[0],ee=Q[1],te=o.useState(!1),ne=te[0],re=te[1],ie=Object(p.a)(t,_);o.useImperativeHandle(ie,(function(){return{focus:function(){$.focus()},node:z.current,value:G}}),[$,G]),o.useEffect((function(){c&&$&&$.focus()}),[c,$]),o.useEffect((function(){if($){var e=Object(K.a)($).getElementById(E);if(e){var t=function(){getSelection().isCollapsed&&$.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[E,$]);var oe,ae,se=function(e,t){e?P&&P(t):w&&w(t),Y||(ee(u?null:$.clientWidth),re(e))},ce=o.Children.toArray(l),ue=function(e){return function(t){var n;if(T||se(!1,t),T){n=Array.isArray(G)?G.slice():[];var r=G.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),G!==n&&(J(n),A&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:O}}),A(t,e)))}},le=null!==$&&(Y?N:ne);delete V["aria-invalid"];var he=[],me=!1;(b({value:G})||g)&&(D?oe=D(G):me=!0);var ve=ce.map((function(e){if(!o.isValidElement(e))return null;var t;if(T){if(!Array.isArray(G))throw new Error(Object(s.a)(2));(t=G.some((function(t){return pe(t,e.props.value)})))&&me&&he.push(e.props.children)}else(t=pe(G,e.props.value))&&me&&(ae=e.props.children);return t&&!0,o.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));me&&(oe=T?he.join(", "):ae);var ge,ye=Z;!u&&Y&&$&&(ye=$.clientWidth),ge="undefined"!==typeof L?L:v?null:0;var _e=x.id||(O?"mui-component-select-".concat(O):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(r.a)({className:Object(a.a)(d.root,d.select,d.selectMenu,d[U],h,v&&d.disabled),ref:X,tabIndex:ge,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":le?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[E,_e].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),se(!0,e))}},onMouseDown:v||I?null:function(e){0===e.button&&(e.preventDefault(),$.focus(),se(!0,e))},onBlur:function(e){!le&&R&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:G,name:O}}),R(e))},onFocus:k},x,{id:_e}),function(e){return null==e||"string"===typeof e&&!e.trim()}(oe)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):oe),o.createElement("input",Object(r.a)({value:Array.isArray(G)?G.join(","):G,name:O,ref:z,"aria-hidden":!0,onChange:function(e){var t=ce.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ce[t];J(n.props.value),A&&A(e,n)}},tabIndex:-1,className:d.nativeInput,autoFocus:c},V)),o.createElement(y,{className:Object(a.a)(d.icon,d["icon".concat(Object(f.a)(U))],le&&d.iconOpen,v&&d.disabled)}),o.createElement(de,Object(r.a)({id:"menu-".concat(O||""),anchorEl:$,open:le,onClose:function(e){se(!1,e)}},C,{MenuListProps:Object(r.a)({"aria-labelledby":E,role:"listbox",disableListWrap:!0},C.MenuListProps),PaperProps:Object(r.a)({},C.PaperProps,{style:Object(r.a)({minWidth:ye},null!=C.PaperProps?C.PaperProps.style:null)})}),ve))})),me=n(125),ve=Object(me.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ge=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.disabled,u=e.IconComponent,l=e.inputRef,d=e.variant,p=void 0===d?"standard":d,h=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(r.a)({className:Object(a.a)(n.root,n.select,n[p],s,c&&n.disabled),disabled:c,ref:l||t},h)),e.multiple?null:o.createElement(u,{className:Object(a.a)(n.icon,n["icon".concat(Object(f.a)(p))],c&&n.disabled)}))})),ye=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},_e=o.createElement(O,null),be=o.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.IconComponent,u=void 0===s?ve:s,l=e.input,d=void 0===l?_e:l,f=e.inputProps,p=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),h=c({props:e,muiFormControl:M(),states:["variant"]});return o.cloneElement(d,Object(r.a)({inputComponent:ge,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:h.variant,type:void 0},f,d?d.props.inputProps:{}),ref:t},p))}));be.muiName="Select";Object(d.a)(ye,{name:"MuiNativeSelect"})(be);var Ee=ye,Se=o.createElement(O,null),Ce=o.createElement(A,null),Te=o.forwardRef((function e(t,n){var a=t.autoWidth,s=void 0!==a&&a,u=t.children,l=t.classes,d=t.displayEmpty,f=void 0!==d&&d,p=t.IconComponent,h=void 0===p?ve:p,m=t.id,v=t.input,g=t.inputProps,y=t.label,_=t.labelId,b=t.labelWidth,E=void 0===b?0:b,S=t.MenuProps,C=t.multiple,T=void 0!==C&&C,O=t.native,R=void 0!==O&&O,A=t.onClose,w=t.onOpen,k=t.open,P=t.renderValue,N=t.SelectDisplayProps,I=t.variant,x=void 0===I?"standard":I,L=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),j=R?ge:he,F=c({props:t,muiFormControl:M(),states:["variant"]}).variant||x,U=v||{standard:Se,outlined:o.createElement(D,{label:y,labelWidth:E}),filled:Ce}[F];return o.cloneElement(U,Object(r.a)({inputComponent:j,inputProps:Object(r.a)({children:u,IconComponent:h,variant:F,type:void 0,multiple:T},R?{id:m}:{autoWidth:s,displayEmpty:f,labelId:_,MenuProps:S,onClose:A,onOpen:w,open:k,renderValue:P,SelectDisplayProps:Object(r.a)({id:m},N)},g,{classes:g?Object(J.a)({baseClasses:l,newClasses:g.classes,Component:e}):l},v?v.props.inputProps:{}),ref:n},L))}));Te.muiName="Select";var Oe=Object(d.a)(Ee,{name:"MuiSelect"})(Te),Re={standard:O,filled:A,outlined:D},Ae=o.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,c=void 0!==s&&s,u=e.children,l=e.classes,d=e.className,f=e.color,p=void 0===f?"primary":f,h=e.defaultValue,m=e.disabled,v=void 0!==m&&m,g=e.error,y=void 0!==g&&g,_=e.FormHelperTextProps,b=e.fullWidth,E=void 0!==b&&b,S=e.helperText,C=e.hiddenLabel,T=e.id,O=e.InputLabelProps,R=e.inputProps,A=e.InputProps,w=e.inputRef,k=e.label,P=e.multiline,N=void 0!==P&&P,I=e.name,D=e.onBlur,M=e.onChange,x=e.onFocus,L=e.placeholder,j=e.required,U=void 0!==j&&j,V=e.rows,B=e.rowsMax,J=e.maxRows,W=e.minRows,z=e.select,K=void 0!==z&&z,q=e.SelectProps,$=e.type,X=e.value,Y=e.variant,Q=void 0===Y?"standard":Y,Z=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===Q&&(O&&"undefined"!==typeof O.shrink&&(ee.notched=O.shrink),k)){var te,ne=null!==(te=null===O||void 0===O?void 0:O.required)&&void 0!==te?te:U;ee.label=o.createElement(o.Fragment,null,k,ne&&"\xa0*")}K&&(q&&q.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=S&&T?"".concat(T,"-helper-text"):void 0,ie=k&&T?"".concat(T,"-label"):void 0,oe=Re[Q],ae=o.createElement(oe,Object(r.a)({"aria-describedby":re,autoComplete:n,autoFocus:c,defaultValue:h,fullWidth:E,multiline:N,name:I,rows:V,rowsMax:B,maxRows:J,minRows:W,type:$,value:X,id:T,inputRef:w,onBlur:D,onChange:M,onFocus:x,placeholder:L,inputProps:R},ee,A));return o.createElement(H,Object(r.a)({className:Object(a.a)(l.root,d),disabled:v,error:y,fullWidth:E,hiddenLabel:C,ref:t,required:U,color:p,variant:Q},Z),k&&o.createElement(F,Object(r.a)({htmlFor:T,id:ie},O),k),K?o.createElement(Oe,Object(r.a)({"aria-describedby":re,id:T,labelId:ie,value:X,input:ae},q),u):ae,S&&o.createElement(G,Object(r.a)({id:re},_),S))}));t.a=Object(d.a)({root:{}},{name:"MuiTextField"})(Ae)},function(e,t,n){"use strict";var r=n(31),i=n(1),o=n(99);function a(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function s(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.css))),a(t.css,[e.filterProps])):t.sx?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.sx))),a(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var c=s;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(o.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=n(9),d=n(167);function f(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var p=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=f(e.theme,i)||{};return Object(d.a)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=f(a,e)||e,o&&(t=o(t))),!1===r?t:Object(l.a)({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function h(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var m=u(p({prop:"border",themeKey:"borders",transform:h}),p({prop:"borderTop",themeKey:"borders",transform:h}),p({prop:"borderRight",themeKey:"borders",transform:h}),p({prop:"borderBottom",themeKey:"borders",transform:h}),p({prop:"borderLeft",themeKey:"borders",transform:h}),p({prop:"borderColor",themeKey:"palette"}),p({prop:"borderRadius",themeKey:"shape"})),v=u(p({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),p({prop:"display"}),p({prop:"overflow"}),p({prop:"textOverflow"}),p({prop:"visibility"}),p({prop:"whiteSpace"})),g=u(p({prop:"flexBasis"}),p({prop:"flexDirection"}),p({prop:"flexWrap"}),p({prop:"justifyContent"}),p({prop:"alignItems"}),p({prop:"alignContent"}),p({prop:"order"}),p({prop:"flex"}),p({prop:"flexGrow"}),p({prop:"flexShrink"}),p({prop:"alignSelf"}),p({prop:"justifyItems"}),p({prop:"justifySelf"})),y=u(p({prop:"gridGap"}),p({prop:"gridColumnGap"}),p({prop:"gridRowGap"}),p({prop:"gridColumn"}),p({prop:"gridRow"}),p({prop:"gridAutoFlow"}),p({prop:"gridAutoColumns"}),p({prop:"gridAutoRows"}),p({prop:"gridTemplateColumns"}),p({prop:"gridTemplateRows"}),p({prop:"gridTemplateAreas"}),p({prop:"gridArea"})),_=u(p({prop:"position"}),p({prop:"zIndex",themeKey:"zIndex"}),p({prop:"top"}),p({prop:"right"}),p({prop:"bottom"}),p({prop:"left"})),b=u(p({prop:"color",themeKey:"palette"}),p({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),E=p({prop:"boxShadow",themeKey:"shadows"});function S(e){return e<=1?"".concat(100*e,"%"):e}var C=p({prop:"width",transform:S}),T=p({prop:"maxWidth",transform:S}),O=p({prop:"minWidth",transform:S}),R=p({prop:"height",transform:S}),A=p({prop:"maxHeight",transform:S}),w=p({prop:"minHeight",transform:S}),k=(p({prop:"size",cssProperty:"width",transform:S}),p({prop:"size",cssProperty:"height",transform:S}),u(C,T,O,R,A,w,p({prop:"boxSizing"}))),P=n(426),N=u(p({prop:"fontFamily",themeKey:"typography"}),p({prop:"fontSize",themeKey:"typography"}),p({prop:"fontStyle",themeKey:"typography"}),p({prop:"fontWeight",themeKey:"typography"}),p({prop:"letterSpacing"}),p({prop:"lineHeight"}),p({prop:"textAlign"})),I=n(13),D=n(0),M=n.n(D),x=n(15),L=n(89),j=n.n(L),F=n(360);function U(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,o=Object(I.a)(n,["name"]);var a,s=r,c="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},u=Object(F.a)(c,Object(i.a)({Component:e,name:r||e.displayName,classNamePrefix:s},o));t.filterProps&&(a=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=M.a.forwardRef((function(t,n){var r=t.children,o=t.className,s=t.clone,c=t.component,l=Object(I.a)(t,["children","className","clone","component"]),d=u(t),f=Object(x.a)(d.root,o),p=l;if(a&&(p=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(p,a)),s)return M.a.cloneElement(r,Object(i.a)({className:Object(x.a)(r.props.className,f)},p));if("function"===typeof r)return r(Object(i.a)({className:f},p));var h=c||e;return M.a.createElement(h,Object(i.a)({ref:n,className:f},p),r)}));return j()(l,e),l}}var V=n(107),H=function(e){var t=U(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:V.a},n))}},B=c(u(m,v,g,y,_,b,E,k,P.b,N)),G=H("div")(B,{name:"MuiBox"});t.a=G},function(e,t,n){"use strict";var r=n(13),i=n(1),o=n(0),a=n(15),s=n(58),c=n(22),u=n(298),l=n(125),d=Object(l.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=Object(l.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),p=Object(l.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),h=Object(l.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),m=Object(l.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v=n(361),g=n(34),y=o.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,c=e.children,u=e.classes,l=e.className,d=e.color,f=void 0===d?"default":d,p=e.disabled,h=void 0!==p&&p,m=e.disableFocusRipple,y=void 0!==m&&m,_=e.size,b=void 0===_?"medium":_,E=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(v.a,Object(i.a)({className:Object(a.a)(u.root,l,"default"!==f&&u["color".concat(Object(g.a)(f))],h&&u.disabled,"small"===b&&u["size".concat(Object(g.a)(b))],{start:u.edgeStart,end:u.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:h,ref:t},E),o.createElement("span",{className:u.label},c))})),_=Object(c.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(y),b={success:o.createElement(d,{fontSize:"inherit"}),warning:o.createElement(f,{fontSize:"inherit"}),error:o.createElement(p,{fontSize:"inherit"}),info:o.createElement(h,{fontSize:"inherit"})},E=o.createElement(m,{fontSize:"small"}),S=o.forwardRef((function(e,t){var n=e.action,s=e.children,c=e.classes,l=e.className,d=e.closeText,f=void 0===d?"Close":d,p=e.color,h=e.icon,m=e.iconMapping,v=void 0===m?b:m,y=e.onClose,S=e.role,C=void 0===S?"alert":S,T=e.severity,O=void 0===T?"success":T,R=e.variant,A=void 0===R?"standard":R,w=Object(r.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(u.a,Object(i.a)({role:C,square:!0,elevation:0,className:Object(a.a)(c.root,c["".concat(A).concat(Object(g.a)(p||O))],l),ref:t},w),!1!==h?o.createElement("div",{className:c.icon},h||v[O]||b[O]):null,o.createElement("div",{className:c.message},s),null!=n?o.createElement("div",{className:c.action},n):null,null==n&&y?o.createElement("div",{className:c.action},o.createElement(_,{size:"small","aria-label":f,title:f,color:"inherit",onClick:y},E)):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?s.b:s.e,n="light"===e.palette.type?s.e:s.b;return{root:Object(i.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(S)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(19),s=n.n(a),c=n(358),u=n(89),l=n.n(u),d=n(60),f=n(92),p=n(404),h=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?f.b.indexOf(e)<=f.b.indexOf(t):f.b.indexOf(e)<f.b.indexOf(t)},m=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?f.b.indexOf(t)<=f.b.indexOf(e):f.b.indexOf(t)<f.b.indexOf(e)},v="undefined"===typeof window?o.useEffect:o.useLayoutEffect,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,a=void 0!==n&&n,s=e.noSSR,u=void 0!==s&&s,f=e.initialWidth;function h(e){var n=Object(d.a)(),s=e.theme||n,l=Object(c.a)({theme:s,name:"MuiWithWidth",props:Object(r.a)({},e)}),h=l.initialWidth,m=l.width,g=Object(i.a)(l,["initialWidth","width"]),y=o.useState(!1),_=y[0],b=y[1];v((function(){b(!0)}),[]);var E=s.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=Object(p.a)(s.breakpoints.up(t));return!e&&n?t:e}),null),S=Object(r.a)({width:m||(_||u?E:void 0)||h||f},a?{theme:s}:{},g);return void 0===S.width?null:o.createElement(t,S)}return l()(h,t),h}};function y(e){var t=e.children,n=e.only,r=e.width,i=Object(d.a)(),o=!0;if(n)if(Array.isArray(n))for(var a=0;a<n.length;a+=1){if(r===n[a]){o=!1;break}}else n&&r===n&&(o=!1);if(o)for(var s=0;s<i.breakpoints.keys.length;s+=1){var c=i.breakpoints.keys[s],u=e["".concat(c,"Up")],l=e["".concat(c,"Down")];if(u&&h(c,r)||l&&m(c,r)){o=!1;break}}return o?t:null}y.propTypes={children:s.a.node,className:s.a.string,implementation:s.a.oneOf(["js","css"]),initialWidth:s.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:s.a.bool,lgUp:s.a.bool,mdDown:s.a.bool,mdUp:s.a.bool,only:s.a.oneOfType([s.a.oneOf(["xs","sm","md","lg","xl"]),s.a.arrayOf(s.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:s.a.bool,smUp:s.a.bool,width:s.a.string.isRequired,xlDown:s.a.bool,xlUp:s.a.bool,xsDown:s.a.bool,xsUp:s.a.bool};var _=g()(y),b=n(9),E=n(34),S=n(22);var C=Object(S.a)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat(Object(E.a)(r))]=Object(b.a)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=Object(b.a)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=Object(b.a)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(e){var t=e.children,n=e.classes,r=e.className,a=e.only,s=(Object(i.a)(e,["children","classes","className","only"]),Object(d.a)()),c=[];r&&c.push(r);for(var u=0;u<s.breakpoints.keys.length;u+=1){var l=s.breakpoints.keys[u],f=e["".concat(l,"Up")],p=e["".concat(l,"Down")];f&&c.push(n["".concat(l,"Up")]),p&&c.push(n["".concat(l,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach((function(e){c.push(n["only".concat(Object(E.a)(e))])})),o.createElement("div",{className:c.join(" ")},t)}));t.a=function(e){var t=e.implementation,n=void 0===t?"js":t,a=e.lgDown,s=void 0!==a&&a,c=e.lgUp,u=void 0!==c&&c,l=e.mdDown,d=void 0!==l&&l,f=e.mdUp,p=void 0!==f&&f,h=e.smDown,m=void 0!==h&&h,v=e.smUp,g=void 0!==v&&v,y=e.xlDown,b=void 0!==y&&y,E=e.xlUp,S=void 0!==E&&E,T=e.xsDown,O=void 0!==T&&T,R=e.xsUp,A=void 0!==R&&R,w=Object(i.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===n?o.createElement(_,Object(r.a)({lgDown:s,lgUp:u,mdDown:d,mdUp:p,smDown:m,smUp:g,xlDown:b,xlUp:S,xsDown:O,xsUp:A},w)):o.createElement(C,Object(r.a)({lgDown:s,lgUp:u,mdDown:d,mdUp:p,smDown:m,smUp:g,xlDown:b,xlUp:S,xsDown:O,xsUp:A},w))}},function(e,t,n){"use strict";var r=n(13),i=n(9),o=n(1),a=n(0),s=n(15),c=n(22),u=n(68),l=n(42),d=n(52),f=n(38),p=n(66);function h(e){return e.substring(2).toLowerCase()}var m=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,i=e.mouseEvent,o=void 0===i?"onClick":i,s=e.onClickAway,c=e.touchEvent,u=void 0===c?"onTouchEnd":c,m=a.useRef(!1),v=a.useRef(null),g=a.useRef(!1),y=a.useRef(!1);a.useEffect((function(){return setTimeout((function(){g.current=!0}),0),function(){g.current=!1}}),[]);var _=a.useCallback((function(e){v.current=l.findDOMNode(e)}),[]),b=Object(f.a)(t.ref,_),E=Object(p.a)((function(e){var t=y.current;if(y.current=!1,g.current&&v.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(m.current)m.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(v.current)>-1;else n=!Object(d.a)(v.current).documentElement.contains(e.target)||v.current.contains(e.target);n||!r&&t||s(e)}})),S=function(e){return function(n){y.current=!0;var r=t.props[e];r&&r(n)}},C={ref:b};return!1!==u&&(C[u]=S(u)),a.useEffect((function(){if(!1!==u){var e=h(u),t=Object(d.a)(v.current),n=function(){m.current=!0};return t.addEventListener(e,E),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,E),t.removeEventListener("touchmove",n)}}}),[E,u]),!1!==o&&(C[o]=S(o)),a.useEffect((function(){if(!1!==o){var e=h(o),t=Object(d.a)(v.current);return t.addEventListener(e,E),function(){t.removeEventListener(e,E)}}}),[E,o]),a.createElement(a.Fragment,null,a.cloneElement(t,C))},v=n(34),g=n(77),y=n(402),_=n(298),b=n(58),E=a.forwardRef((function(e,t){var n=e.action,i=e.classes,c=e.className,u=e.message,l=e.role,d=void 0===l?"alert":l,f=Object(r.a)(e,["action","classes","className","message","role"]);return a.createElement(_.a,Object(o.a)({role:d,square:!0,elevation:6,className:Object(s.a)(i.root,c),ref:t},f),a.createElement("div",{className:i.message},u),n?a.createElement("div",{className:i.action},n):null)})),S=Object(c.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(b.c)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(i.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(E),C=a.forwardRef((function(e,t){var n=e.action,i=e.anchorOrigin,c=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,l=i.horizontal,d=e.autoHideDuration,f=void 0===d?null:d,h=e.children,_=e.classes,b=e.className,E=e.ClickAwayListenerProps,C=e.ContentProps,T=e.disableWindowBlurListener,O=void 0!==T&&T,R=e.message,A=e.onClose,w=e.onEnter,k=e.onEntered,P=e.onEntering,N=e.onExit,I=e.onExited,D=e.onExiting,M=e.onMouseEnter,x=e.onMouseLeave,L=e.open,j=e.resumeHideDuration,F=e.TransitionComponent,U=void 0===F?y.a:F,V=e.transitionDuration,H=void 0===V?{enter:u.b.enteringScreen,exit:u.b.leavingScreen}:V,B=e.TransitionProps,G=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),J=a.useRef(),W=a.useState(!0),z=W[0],K=W[1],q=Object(p.a)((function(){A&&A.apply(void 0,arguments)})),$=Object(p.a)((function(e){A&&null!=e&&(clearTimeout(J.current),J.current=setTimeout((function(){q(null,"timeout")}),e))}));a.useEffect((function(){return L&&$(f),function(){clearTimeout(J.current)}}),[L,f,$]);var X=function(){clearTimeout(J.current)},Y=a.useCallback((function(){null!=f&&$(null!=j?j:.5*f)}),[f,j,$]);return a.useEffect((function(){if(!O&&L)return window.addEventListener("focus",Y),window.addEventListener("blur",X),function(){window.removeEventListener("focus",Y),window.removeEventListener("blur",X)}}),[O,Y,L]),!L&&z?null:a.createElement(m,Object(o.a)({onClickAway:function(e){A&&A(e,"clickaway")}},E),a.createElement("div",Object(o.a)({className:Object(s.a)(_.root,_["anchorOrigin".concat(Object(v.a)(c)).concat(Object(v.a)(l))],b),onMouseEnter:function(e){M&&M(e),X()},onMouseLeave:function(e){x&&x(e),Y()},ref:t},G),a.createElement(U,Object(o.a)({appear:!0,in:L,onEnter:Object(g.a)((function(){K(!1)}),w),onEntered:k,onEntering:P,onExit:N,onExited:Object(g.a)((function(){K(!0)}),I),onExiting:D,timeout:H,direction:"top"===c?"down":"up"},B),h||a.createElement(S,Object(o.a)({message:R,action:n},C)))))}));t.a=Object(c.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},c={bottom:24},u={right:24},l={left:24},d={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},s,d))),anchorOriginBottomCenter:Object(o.a)({},n,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},c,d))),anchorOriginTopRight:Object(o.a)({},t,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,u))),anchorOriginBottomRight:Object(o.a)({},n,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},c,u))),anchorOriginTopLeft:Object(o.a)({},t,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,l))),anchorOriginBottomLeft:Object(o.a)({},n,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},c,l)))}}),{flip:!1,name:"MuiSnackbar"})(C)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=(n(140),n(42)),s=n(52),c=n(15),u=n(22),l=n(111),d=o.forwardRef((function(e,t){var n=e.children,a=e.classes,s=e.className,u=e.component,d=void 0===u?"ul":u,f=e.dense,p=void 0!==f&&f,h=e.disablePadding,m=void 0!==h&&h,v=e.subheader,g=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=o.useMemo((function(){return{dense:p}}),[p]);return o.createElement(l.a.Provider,{value:y},o.createElement(d,Object(r.a)({className:Object(c.a)(a.root,s,p&&a.dense,!m&&a.padding,v&&a.subheader),ref:t},g),v,n))})),f=Object(u.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(d),p=n(169),h=n(38);function m(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function v(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function g(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function y(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var c=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&g(s,o)&&!c)return void s.focus();s=i(e,s,n)}}var _="undefined"===typeof window?o.useEffect:o.useLayoutEffect,b=o.forwardRef((function(e,t){var n=e.actions,c=e.autoFocus,u=void 0!==c&&c,l=e.autoFocusItem,d=void 0!==l&&l,b=e.children,E=e.className,S=e.disabledItemsFocusable,C=void 0!==S&&S,T=e.disableListWrap,O=void 0!==T&&T,R=e.onKeyDown,A=e.variant,w=void 0===A?"selectedMenu":A,k=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),P=o.useRef(null),N=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_((function(){u&&P.current.focus()}),[u]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!P.current.style.width;if(e.clientHeight<P.current.clientHeight&&n){var r="".concat(Object(p.a)(!0),"px");P.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,P.current.style.width="calc(100% + ".concat(r,")")}return P.current}}}),[]);var I=o.useCallback((function(e){P.current=a.findDOMNode(e)}),[]),D=Object(h.a)(I,t),M=-1;o.Children.forEach(b,(function(e,t){o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===M)&&(M=t))}));var x=o.Children.map(b,(function(e,t){if(t===M){var n={};return d&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===w&&(n.tabIndex=0),o.cloneElement(e,n)}return e}));return o.createElement(f,Object(r.a)({role:"menu",ref:D,className:E,onKeyDown:function(e){var t=P.current,n=e.key,r=Object(s.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),y(t,r,O,C,m);else if("ArrowUp"===n)e.preventDefault(),y(t,r,O,C,v);else if("Home"===n)e.preventDefault(),y(t,null,O,C,m);else if("End"===n)e.preventDefault(),y(t,null,O,C,v);else if(1===n.length){var i=N.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var c=r&&!i.repeating&&g(r,i);i.previousKeyMatched&&(c||y(t,r,!1,C,m,i))?e.preventDefault():i.previousKeyMatched=!1}R&&R(e)},tabIndex:u?0:-1},k),x)}));t.a=b},function(e,t,n){"use strict";var r=n(1),i=n(30),o=n(13),a=n(9),s=n(0),c=n(42),u=n(15),l=n(357),d=n(58),f=n(22),p=n(34),h=n(402),m=n(284),v=n(189),g=n(403),y=n(77),_=n(73),b=n(38);function E(e){return"function"===typeof e?e():e}var S="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,C={},T=s.forwardRef((function(e,t){var n=e.anchorEl,i=e.children,a=e.container,c=e.disablePortal,u=void 0!==c&&c,l=e.keepMounted,d=void 0!==l&&l,f=e.modifiers,p=e.open,h=e.placement,T=void 0===h?"bottom":h,O=e.popperOptions,R=void 0===O?C:O,A=e.popperRef,w=e.style,k=e.transition,P=void 0!==k&&k,N=Object(o.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),I=s.useRef(null),D=Object(b.a)(I,t),M=s.useRef(null),x=Object(b.a)(M,A),L=s.useRef(x);S((function(){L.current=x}),[x]),s.useImperativeHandle(A,(function(){return M.current}),[]);var j=s.useState(!0),F=j[0],U=j[1],V=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(T,Object(v.a)()),H=s.useState(V),B=H[0],G=H[1];s.useEffect((function(){M.current&&M.current.update()}));var J=s.useCallback((function(){if(I.current&&n&&p){M.current&&(M.current.destroy(),L.current(null));var e=function(e){G(e.placement)},t=(E(n),new m.a(E(n),I.current,Object(r.a)({placement:V},R,{modifiers:Object(r.a)({},u?{}:{preventOverflow:{boundariesElement:"window"}},f,R.modifiers),onCreate:Object(y.a)(e,R.onCreate),onUpdate:Object(y.a)(e,R.onUpdate)})));L.current(t)}}),[n,u,f,p,V,R]),W=s.useCallback((function(e){Object(_.a)(D,e),J()}),[D,J]),z=function(){M.current&&(M.current.destroy(),L.current(null))};if(s.useEffect((function(){return function(){z()}}),[]),s.useEffect((function(){p||P||z()}),[p,P]),!d&&!p&&(!P||F))return null;var K={placement:B};return P&&(K.TransitionProps={in:p,onEnter:function(){U(!1)},onExited:function(){U(!0),z()}}),s.createElement(g.a,{disablePortal:u,container:a},s.createElement("div",Object(r.a)({ref:W,role:"tooltip"},N,{style:Object(r.a)({position:"fixed",top:0,left:0,display:p||!d||P?null:"none"},w)}),"function"===typeof i?i(K):i))})),O=n(150),R=n(124),A=n(122),w=n(60);function k(e){return Math.round(1e5*e)/1e5}var P=!1,N=null;var I=s.forwardRef((function(e,t){var n=e.arrow,a=void 0!==n&&n,d=e.children,f=e.classes,m=e.disableFocusListener,v=void 0!==m&&m,g=e.disableHoverListener,y=void 0!==g&&g,E=e.disableTouchListener,S=void 0!==E&&E,C=e.enterDelay,k=void 0===C?100:C,I=e.enterNextDelay,D=void 0===I?0:I,M=e.enterTouchDelay,x=void 0===M?700:M,L=e.id,j=e.interactive,F=void 0!==j&&j,U=e.leaveDelay,V=void 0===U?0:U,H=e.leaveTouchDelay,B=void 0===H?1500:H,G=e.onClose,J=e.onOpen,W=e.open,z=e.placement,K=void 0===z?"bottom":z,q=e.PopperComponent,$=void 0===q?T:q,X=e.PopperProps,Y=e.title,Q=e.TransitionComponent,Z=void 0===Q?h.a:Q,ee=e.TransitionProps,te=Object(o.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),ne=Object(w.a)(),re=s.useState(),ie=re[0],oe=re[1],ae=s.useState(null),se=ae[0],ce=ae[1],ue=s.useRef(!1),le=s.useRef(),de=s.useRef(),fe=s.useRef(),pe=s.useRef(),he=Object(A.a)({controlled:W,default:!1,name:"Tooltip",state:"open"}),me=Object(i.a)(he,2),ve=me[0],ge=me[1],ye=ve,_e=Object(O.a)(L);s.useEffect((function(){return function(){clearTimeout(le.current),clearTimeout(de.current),clearTimeout(fe.current),clearTimeout(pe.current)}}),[]);var be=function(e){clearTimeout(N),P=!0,ge(!0),J&&J(e)},Ee=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=d.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ue.current&&"touchstart"!==t.type||(ie&&ie.removeAttribute("title"),clearTimeout(de.current),clearTimeout(fe.current),k||P&&D?(t.persist(),de.current=setTimeout((function(){be(t)}),P?D:k)):be(t))}},Se=Object(R.a)(),Ce=Se.isFocusVisible,Te=Se.onBlurVisible,Oe=Se.ref,Re=s.useState(!1),Ae=Re[0],we=Re[1],ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){ie||oe(t.currentTarget),Ce(t)&&(we(!0),Ee()(t));var n=d.props;n.onFocus&&e&&n.onFocus(t)}},Pe=function(e){clearTimeout(N),N=setTimeout((function(){P=!1}),800+V),ge(!1),G&&G(e),clearTimeout(le.current),le.current=setTimeout((function(){ue.current=!1}),ne.transitions.duration.shortest)},Ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=d.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),Ae&&(we(!1),Te())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===ie&&n.onMouseLeave(t),clearTimeout(de.current),clearTimeout(fe.current),t.persist(),fe.current=setTimeout((function(){Pe(t)}),V)}},Ie=function(e){ue.current=!0;var t=d.props;t.onTouchStart&&t.onTouchStart(e)},De=Object(b.a)(oe,t),Me=Object(b.a)(Oe,De),xe=s.useCallback((function(e){Object(_.a)(Me,c.findDOMNode(e))}),[Me]),Le=Object(b.a)(d.ref,xe);""===Y&&(ye=!1);var je=!ye&&!y,Fe=Object(r.a)({"aria-describedby":ye?_e:null,title:je&&"string"===typeof Y?Y:null},te,d.props,{className:Object(u.a)(te.className,d.props.className),onTouchStart:Ie,ref:Le}),Ue={};S||(Fe.onTouchStart=function(e){Ie(e),clearTimeout(fe.current),clearTimeout(le.current),clearTimeout(pe.current),e.persist(),pe.current=setTimeout((function(){Ee()(e)}),x)},Fe.onTouchEnd=function(e){d.props.onTouchEnd&&d.props.onTouchEnd(e),clearTimeout(pe.current),clearTimeout(fe.current),e.persist(),fe.current=setTimeout((function(){Pe(e)}),B)}),y||(Fe.onMouseOver=Ee(),Fe.onMouseLeave=Ne(),F&&(Ue.onMouseOver=Ee(!1),Ue.onMouseLeave=Ne(!1))),v||(Fe.onFocus=ke(),Fe.onBlur=Ne(),F&&(Ue.onFocus=ke(!1),Ue.onBlur=Ne(!1)));var Ve=s.useMemo((function(){return Object(l.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(se),element:se}}}},X)}),[se,X]);return s.createElement(s.Fragment,null,s.cloneElement(d,Fe),s.createElement($,Object(r.a)({className:Object(u.a)(f.popper,F&&f.popperInteractive,a&&f.popperArrow),placement:K,anchorEl:ie,open:!!ie&&ye,id:Fe["aria-describedby"],transition:!0},Ue,Ve),(function(e){var t=e.placement,n=e.TransitionProps;return s.createElement(Z,Object(r.a)({timeout:ne.transitions.duration.shorter},n,ee),s.createElement("div",{className:Object(u.a)(f.tooltip,f["tooltipPlacement".concat(Object(p.a)(t.split("-")[0]))],ue.current&&f.touch,a&&f.tooltipArrow)},Y,a?s.createElement("span",{className:f.arrow,ref:ce}):null))})))}));t.a=Object(f.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(d.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(k(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(d.a)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(k(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(a.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(a.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(a.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(a.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(I)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(22),c=n(125),u=Object(c.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var l=o.forwardRef((function(e,t){var n=e.alt,s=e.children,c=e.classes,l=e.className,d=e.component,f=void 0===d?"div":d,p=e.imgProps,h=e.sizes,m=e.src,v=e.srcSet,g=e.variant,y=void 0===g?"circular":g,_=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,E=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),i=r[0],a=r[1];return o.useEffect((function(){if(t||n){a(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&a("loaded")},r.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,n]),i}({src:m,srcSet:v}),S=m||v,C=S&&"error"!==E;return b=C?o.createElement("img",Object(r.a)({alt:n,src:m,srcSet:v,sizes:h,className:c.img},p)):null!=s?s:S&&n?n[0]:o.createElement(u,{className:c.fallback}),o.createElement(f,Object(r.a)({className:Object(a.a)(c.root,c.system,c[y],l,!C&&c.colorDefault),ref:t},_),b)}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(l)},function(e,t,n){"use strict";var r=n(13),i=n(9),o=n(1),a=n(0),s=n(15),c=n(22),u=n(361),l=n(108),d=n(38),f=n(111),p=n(42),h="undefined"===typeof window?a.useEffect:a.useLayoutEffect,m=a.forwardRef((function(e,t){var n=e.alignItems,i=void 0===n?"center":n,c=e.autoFocus,m=void 0!==c&&c,v=e.button,g=void 0!==v&&v,y=e.children,_=e.classes,b=e.className,E=e.component,S=e.ContainerComponent,C=void 0===S?"li":S,T=e.ContainerProps,O=(T=void 0===T?{}:T).className,R=Object(r.a)(T,["className"]),A=e.dense,w=void 0!==A&&A,k=e.disabled,P=void 0!==k&&k,N=e.disableGutters,I=void 0!==N&&N,D=e.divider,M=void 0!==D&&D,x=e.focusVisibleClassName,L=e.selected,j=void 0!==L&&L,F=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),U=a.useContext(f.a),V={dense:w||U.dense||!1,alignItems:i},H=a.useRef(null);h((function(){m&&H.current&&H.current.focus()}),[m]);var B=a.Children.toArray(y),G=B.length&&Object(l.a)(B[B.length-1],["ListItemSecondaryAction"]),J=a.useCallback((function(e){H.current=p.findDOMNode(e)}),[]),W=Object(d.a)(J,t),z=Object(o.a)({className:Object(s.a)(_.root,b,V.dense&&_.dense,!I&&_.gutters,M&&_.divider,P&&_.disabled,g&&_.button,"center"!==i&&_.alignItemsFlexStart,G&&_.secondaryAction,j&&_.selected),disabled:P},F),K=E||"li";return g&&(z.component=E||"div",z.focusVisibleClassName=Object(s.a)(_.focusVisible,x),K=u.a),G?(K=z.component||E?K:"div","li"===C&&("li"===K?K="div":"li"===z.component&&(z.component="div")),a.createElement(f.a.Provider,{value:V},a.createElement(C,Object(o.a)({className:Object(s.a)(_.container,O),ref:W},R),a.createElement(K,z,B),B.pop()))):a.createElement(f.a.Provider,{value:V},a.createElement(K,Object(o.a)({ref:W},z),B))})),v=Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(m),g=a.forwardRef((function(e,t){var n,i=e.classes,c=e.className,u=e.component,l=void 0===u?"li":u,d=e.disableGutters,f=void 0!==d&&d,p=e.ListItemClasses,h=e.role,m=void 0===h?"menuitem":h,g=e.selected,y=e.tabIndex,_=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),a.createElement(v,Object(o.a)({button:!0,role:m,tabIndex:n,component:l,selected:g,disableGutters:f,classes:Object(o.a)({dense:i.dense},p),className:Object(s.a)(i.root,c,g&&i.selected,!f&&i.gutters),ref:t},_))}));t.a=Object(c.a)((function(e){return{root:Object(o.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(g)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(0),a=n(15),s=n(362),c=n(359),u=n(22),l=n(42),d=n(105),f=n(301),p=n(38),h=n(60),m=n(68),v=n(86);function g(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var y={enter:m.b.enteringScreen,exit:m.b.leavingScreen},_=o.forwardRef((function(e,t){var n=e.children,a=e.direction,s=void 0===a?"down":a,c=e.in,u=e.onEnter,m=e.onEntered,_=e.onEntering,b=e.onExit,E=e.onExited,S=e.onExiting,C=e.style,T=e.timeout,O=void 0===T?y:T,R=e.TransitionComponent,A=void 0===R?f.a:R,w=Object(i.a)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=Object(h.a)(),P=o.useRef(null),N=o.useCallback((function(e){P.current=l.findDOMNode(e)}),[]),I=Object(p.a)(n.ref,N),D=Object(p.a)(I,t),M=function(e){return function(t){e&&(void 0===t?e(P.current):e(P.current,t))}},x=M((function(e,t){g(s,e),Object(v.b)(e),u&&u(e,t)})),L=M((function(e,t){var n=Object(v.a)({timeout:O,style:C},{mode:"enter"});e.style.webkitTransition=k.transitions.create("-webkit-transform",Object(r.a)({},n,{easing:k.transitions.easing.easeOut})),e.style.transition=k.transitions.create("transform",Object(r.a)({},n,{easing:k.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",_&&_(e,t)})),j=M(m),F=M(S),U=M((function(e){var t=Object(v.a)({timeout:O,style:C},{mode:"exit"});e.style.webkitTransition=k.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:k.transitions.easing.sharp})),e.style.transition=k.transitions.create("transform",Object(r.a)({},t,{easing:k.transitions.easing.sharp})),g(s,e),b&&b(e)})),V=M((function(e){e.style.webkitTransition="",e.style.transition="",E&&E(e)})),H=o.useCallback((function(){P.current&&g(s,P.current)}),[s]);return o.useEffect((function(){if(!c&&"down"!==s&&"right"!==s){var e=Object(d.a)((function(){P.current&&g(s,P.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,c]),o.useEffect((function(){c||H()}),[c,H]),o.createElement(A,Object(r.a)({nodeRef:P,onEnter:x,onEntered:j,onEntering:L,onExit:U,onExited:V,onExiting:F,appear:!0,in:c,timeout:O},w),(function(e,t){return o.cloneElement(n,Object(r.a)({ref:D,style:Object(r.a)({visibility:"exited"!==e||c?void 0:"hidden"},C,n.props.style)},t))}))})),b=n(298),E=n(34),S={left:"right",right:"left",top:"down",bottom:"up"};var C={enter:m.b.enteringScreen,exit:m.b.leavingScreen},T=o.forwardRef((function(e,t){var n=e.anchor,u=void 0===n?"left":n,l=e.BackdropProps,d=e.children,f=e.classes,p=e.className,m=e.elevation,v=void 0===m?16:m,g=e.ModalProps,y=(g=void 0===g?{}:g).BackdropProps,T=Object(i.a)(g,["BackdropProps"]),O=e.onClose,R=e.open,A=void 0!==R&&R,w=e.PaperProps,k=void 0===w?{}:w,P=e.SlideProps,N=e.TransitionComponent,I=void 0===N?_:N,D=e.transitionDuration,M=void 0===D?C:D,x=e.variant,L=void 0===x?"temporary":x,j=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),F=Object(h.a)(),U=o.useRef(!1);o.useEffect((function(){U.current=!0}),[]);var V=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?S[t]:t}(F,u),H=o.createElement(b.a,Object(r.a)({elevation:"temporary"===L?v:0,square:!0},k,{className:Object(a.a)(f.paper,f["paperAnchor".concat(Object(E.a)(V))],k.className,"temporary"!==L&&f["paperAnchorDocked".concat(Object(E.a)(V))])}),d);if("permanent"===L)return o.createElement("div",Object(r.a)({className:Object(a.a)(f.root,f.docked,p),ref:t},j),H);var B=o.createElement(I,Object(r.a)({in:A,direction:S[V],timeout:M,appear:U.current},P),H);return"persistent"===L?o.createElement("div",Object(r.a)({className:Object(a.a)(f.root,f.docked,p),ref:t},j),B):o.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},l,y,{transitionDuration:M}),BackdropComponent:c.a,className:Object(a.a)(f.root,f.modal,p),open:A,onClose:O,ref:t},j,T),B)}));t.a=Object(u.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(T)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(30),i=n(167),o=n(99);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],o=n[1],u=a[i],l=s[o]||"";return Array.isArray(l)?l.map((function(e){return u+e})):[u+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function f(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function p(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=f(u(n),t),o=e[n];return Object(i.a)(e,o,r)})).reduce(o.a,{})}p.propTypes={},p.filterProps=l;t.b=p}]]);
//# sourceMappingURL=2.c0f53822.chunk.js.map